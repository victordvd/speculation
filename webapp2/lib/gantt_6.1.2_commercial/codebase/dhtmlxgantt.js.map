{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./sources/utils/utils.js","webpack:///./sources/utils/dom_helpers.js","webpack:///./sources/utils/extends.js","webpack:///./sources/utils/helpers.js","webpack:///./sources/utils/eventable.js","webpack:///./sources/core/lightbox/controls/base_control.js","webpack:///./sources/core/ui/layout/cell.js","webpack:///./sources/core/ui/grid/editors/editors/base.js","webpack:///./sources/utils/env.js","webpack:///./sources/utils/html_helpers.js","webpack:///./sources/core/lightbox/controls/select_control.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/drop_target.js","webpack:///./sources/core/ui/resource_store_mixin.js","webpack:///./sources/core/ui/mouse_event_container.js","webpack:///./sources/core/ui/grid/grid.js","webpack:///(webpack)/buildin/global.js","webpack:///./sources/core/worktime/calendar_arguments_helper.js","webpack:///./sources/utils/task_tree_helpers.js","webpack:///./sources/core/gantt_data_range.js","webpack:///./sources/core/datastore/treedatastore.js","webpack:///./sources/core/datastore/power_array.js","webpack:///./sources/core/datastore/datastore.js","webpack:///./sources/core/ui/render/task_bar_render.js","webpack:///./sources/core/ui/timeline/resource_timeline.js","webpack:///./sources/core/ui/row_position_mixin.js","webpack:///./sources/core/ui/timeline/scales_ignore.js","webpack:///./sources/core/ui/timeline/timeline.js","webpack:///./sources/core/ui/layout/layout.js","webpack:///./node_modules/process/browser.js","webpack:///./sources/utils/timeout.js","webpack:///./sources/core/destructor.js","webpack:///./sources/core/common/assert.js","webpack:///./sources/core/gantt_core.js","webpack:///./sources/locale/index.js","webpack:///./sources/core/touch.js","webpack:///./sources/css/skins/contrast_white.js","webpack:///./sources/css/skins/contrast_black.js","webpack:///./sources/css/skins/material.js","webpack:///./sources/css/skins/broadway.js","webpack:///./sources/css/skins/terrace.js","webpack:///./sources/css/skins/meadow.js","webpack:///./sources/css/skins/skyblue.js","webpack:///./sources/core/skin.js","webpack:///./sources/core/cached_functions.js","webpack:///./sources/core/lightbox/controls/typeselect_control.js","webpack:///./sources/core/data_task_types.js","webpack:///./sources/core/lightbox_optional_time.js","webpack:///./sources/core/lightbox/controls/constraint_control.js","webpack:///./sources/core/lightbox/controls/resources_control.js","webpack:///./sources/core/lightbox/controls/parent_control.js","webpack:///./sources/core/lightbox/controls/duration_control.js","webpack:///./sources/core/lightbox/controls/radio_control.js","webpack:///./sources/core/lightbox/controls/checkbox_control.js","webpack:///./sources/core/lightbox/controls/time_control.js","webpack:///./sources/core/lightbox/controls/textarea_control.js","webpack:///./sources/core/lightbox/controls/template_control.js","webpack:///./sources/core/lightbox/index.js","webpack:///./sources/core/data.js","webpack:///./sources/core/facades/worktime_calendars.js","webpack:///./sources/core/worktime/strategy/no_work_time.js","webpack:///./sources/core/worktime/time_calculator.js","webpack:///./sources/core/worktime/strategy/calendar_workunit_cache.js","webpack:///./sources/core/worktime/strategy/calendar_strategy.js","webpack:///./sources/core/worktime/calendar_manager.js","webpack:///./sources/core/worktime/work_time.js","webpack:///./sources/core/load.js","webpack:///./sources/core/tasks.js","webpack:///./sources/core/wai_aria.js","webpack:///./sources/core/grid_column_api.gpl.js","webpack:///./sources/core/grid_column_api.js","webpack:///./sources/core/dynamic_loading.js","webpack:///./sources/core/plugins/auto_task_types.js","webpack:///./sources/core/plugins/new_task_placeholder.js","webpack:///./sources/core/plugins/resources.js","webpack:///./sources/core/plugins/dhtmlx_hooks.js","webpack:///./sources/core/plugins/jquery_hooks.js","webpack:///./sources/core/plugins/wbs.js","webpack:///./sources/core/plugins/batch_update.js","webpack:///./sources/core/plugins/autoscroll.js","webpack:///./sources/core/plugins/index.js","webpack:///./sources/core/dataprocessor/extend_gantt.ts","webpack:///./sources/core/dataprocessor/data_processor_events.ts","webpack:///./sources/core/dataprocessor/data_processor.ts","webpack:///./sources/core/dataprocessor/index.js","webpack:///./sources/core/datastore/datastore_render.js","webpack:///./sources/core/datastore/select.js","webpack:///./sources/core/facades/datastore_links.js","webpack:///./sources/core/facades/datastore_tasks.js","webpack:///./sources/core/facades/datastore.js","webpack:///./sources/core/datastore/datastore_hooks.js","webpack:///./sources/core/facades/layout.js","webpack:///./sources/core/data_task_layers.js","webpack:///./sources/core/ui/main_layout_initializer.js","webpack:///./sources/core/ui/timeline/links_dnd.js","webpack:///./sources/core/ui/timeline/tasks_dnd.js","webpack:///./sources/core/ui/timeline/main_timeline_initializer.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/highlight.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/multi_level.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/locked_level.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd_marker.js","webpack:///./sources/core/ui/grid/tasks_grid_dnd.js","webpack:///./sources/core/ui/grid/main_grid_initializer.js","webpack:///./sources/core/ui/render/task_grid_line_render.js","webpack:///./sources/core/ui/render/link_render.js","webpack:///./sources/core/ui/render/task_bg_render.js","webpack:///./sources/core/ui/render/task_split_render.js","webpack:///./sources/core/ui/grid/editors/editors/predecessor.js","webpack:///./sources/core/ui/grid/editors/editors/date.js","webpack:///./sources/core/ui/grid/editors/editors/select.js","webpack:///./sources/core/ui/grid/editors/editors/number.js","webpack:///./sources/core/ui/grid/editors/editors/text.js","webpack:///./sources/core/ui/grid/editors/keyboard_mappings/keyboard_navigation.js","webpack:///./sources/core/ui/grid/editors/keyboard_mappings/default.js","webpack:///./sources/core/ui/grid/editors/keyboard_mappings.js","webpack:///./sources/core/ui/grid/editors/controller.js","webpack:///./sources/core/ui/timeline/resource_histogram.js","webpack:///./sources/core/ui/grid/resource_grid.js","webpack:///./sources/core/ui/grid/grid_resize.js","webpack:///./sources/core/ui/timeline/tasks_canvas_render.js","webpack:///./sources/core/ui/timeline/scales.js","webpack:///./sources/core/ui/layout/scrollbar_cell.js","webpack:///./sources/core/ui/layout/resizer_cell.js","webpack:///./sources/core/ui/layout/view_cell.js","webpack:///./sources/core/ui/layout/view_layout.js","webpack:///./sources/core/ui/render/render_factory.js","webpack:///./sources/core/ui/render/layer_engine.js","webpack:///./sources/core/ui/gantt_layers.js","webpack:///./sources/core/ui/mouse.js","webpack:///./sources/core/ui/configurable.js","webpack:///./sources/core/ui/ui_factory.js","webpack:///./sources/core/ui/index.js","webpack:///./sources/core/message.js","webpack:///./sources/utils/dom_event_scope.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/bluebird/js/browser/bluebird.js","webpack:///./sources/utils/promise.js","webpack:///./sources/core/common/state.js","webpack:///./sources/core/common/templates.js","webpack:///./sources/core/common/dnd.js","webpack:///./sources/core/common/date.js","webpack:///./sources/core/common/serialize.ts","webpack:///./sources/core/common/ajax.js","webpack:///./sources/core/common/config.js","webpack:///./sources/core/common/services.js","webpack:///./sources/core/common/import.js","webpack:///./sources/constants/index.js","webpack:///./sources/core/gantt.js","webpack:///./sources/core/deprecated_warnings.js","webpack:///./sources/dhtmlxgantt.commercial.ts"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","seed","helpers","copy","result","isDate","Date","isArray","Array","length","isStringObject","String","isNumberObject","Number","isBooleanObject","Boolean","apply","defined","obj","mixin","target","source","force","f","undefined","uid","valueOf","functor","arguments","event","el","handler","capture","addEventListener","attachEvent","eventRemove","removeEventListener","detachEvent","elementPosition","elem","top","left","right","bottom","getBoundingClientRect","box","body","document","docElem","documentElement","parentNode","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","y","Math","round","x","width","height","isVisible","node","display","visibility","getComputedStyle","style","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","toLowerCase","hasAttribute","getClassName","className","baseVal","indexOf","_trimString","_slave","createElement","getTargetNode","e","tagName","srcElement","str","trim","this","replace","getNodePosition","getFocusableNodes","nodes","querySelectorAll","join","nodesArray","slice","splice","getScrollSize","div","cssText","appendChild","clientWidth","removeChild","addClassName","removeClassName","split","regEx","RegExp","insertNode","newone","innerHTML","child","firstChild","removeNode","getChildNodes","css","ch","childNodes","len","out","push","toNode","getElementById","querySelector","locateClassName","classname","strict","trg","ind","charAt","locateAttribute","attribute","getRelativeEventPosition","ev","clientX","clientY","isChildOf","parent","hasClass","element","classList","contains","test","closest","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","nodeType","console","error","b","__","constructor","units","second","minute","hour","day","week","month","quarter","year","arrayFilter","arr","callback","filter","getSecondsInUnit","unit","forEach","workArray","arrayMap","map","resArray","arrayFind","find","arrayDifference","item","arraySome","hashToArray","hash","sortArrayOfHash","field","desc","compare","sort","throttle","timeout","wait","setTimeout","pop","getFullYear","getMonth","getDate","Function","toString","delay","timer","$cancelTimeout","$pending","args","clearTimeout","$execute","objectKeys","keys","EventHost","_connected","_silent_mode","_silentStart","_silentEnd","createEventStorage","dhx_catch","z","res","zr","addEvent","removeEvent","id","eventHost","catcher","callObj","attachAll","callEvent","arg0","handlerName","concat","checkEvent","list","detachAllEvents","dummy","log","BaseControl","render","set_value","get_value","focus","gantt","utils","eventable","domHelpers","Cell","config","$container","$parent","$config","headerHeight","$gantt","$domEvents","_createDomEventScope","$id","$name","$factory","destructor","$view","$services","getService","detach","_headerClickHandler","detachAll","cell","scrollTo","clear","getNode","padding","resize","final","$preResize","topCont","topSize","getSize","minWidth","maxWidth","minHeight","maxHeight","setSize","hide","_hide","show","index","cellIndex","moveView","hidden","$toHTML","content","header","raw","html","canCollapse","$fill","init","self","toggle","delegate","collapsed","size","gravity","getContentSize","$lastSize","contentX","contentY","_getBorderSizes","borders","horizontal","vertical","_currentBorders","_borders","_sizeHeader","_sizeContent","_setBorders","view","cssHash","xLayout","floor","transform","BaseEditor","column","placeholder","get_input","is_changed","currentValue","is_valid","save","env","isIE","navigator","userAgent","isIE6","XMLHttpRequest","isIE7","isIE8","isOpera","isChrome","isKHTML","isFF","isIPad","search","isEdge","htmlHelpers","getHtmlSelect","options","attributes","_this","entry","_attributes","getHtmlOption","label","_getHtmlContainer","getHtmlButton","getHtmlDiv","getHtmlLabel","getHtmlInput","_getHtmlAttributes","tag","__extends","_super","SelectControl","sns","_dhx_onchange","onchange","_focus","createDropTargetObject","targetParent","targetIndex","targetId","nextSibling","prevSibling","nextSiblingTarget","dndTaskId","targetTaskId","store","getParent","getBranchIndex","prevSiblingTarget","firstChildTarget","lastChildTarget","children","getChildren","clearTaskStoreHandler","tasks","$data","tasksStore","ownStore","rowStore","handlerIdProperty","$attachedResourceViewHandler","initGrid","destroyGrid","_linkToTaskStore","delayRender","getState","lightbox","refresh","_updateNestedTasks","resourceStore","getDatastore","resource_store","fetchTasks","resourceProperty","resource_property","silent","toAddArray","toAdd","toDelete","eachItem","resource","$role","getTaskBy","task","$task_id","$resource_id","$parentProperty","removeItem","parse","events","mouseEvents","h","gridResize","topPositionMixin","Grid","$state","container","gridAriaAttr","_waiAria","gridAttrString","gridDataAriaAttr","gridDataAttrString","$grid","gridScaleRowAttrString","$grid_scale","$grid_data","attr","$getConfig","item_attribute","layers","_createLayerConfig","resizer","_renderHeaderResizers","doOnRender","_mouseDelegates","_addLayers","_initEvents","_validateColumnWidth","numericWidth","assert","outerWidth","columns","getGridColumns","innerWidth","scrollable","_setColumnsWidth","grid_width","dataHeight","max","scale_height","contentHeight","row_height","countVisible","contentWidth","_getGridWidth","scrollHeight","scrollWidth","_initSmartRenderingPlaceholder","_calculateGridWidth","_renderGridHeader","getColumnIndex","getColumn","getItemHeight","renderer","$ui","gridLine","_taskLayers","taskRenderer","getDataRender","createDataRender","defaultContainer","taskLayers","layer","host","bar_layer","addLayer","_refreshPlaceholderOnStoreUpdate","smart_rendering","scrollY","scroll","getView","getScrollState","scrollSize","$rowsPlaceholder","_staticBgHandler","close","open","_clearLayers","removeLayer","_getColumnWidth","min_width","min_grid_column_width","new_width","max_width","min","_getGridWidthLimits","min_limit","max_limit","newWidth","start_index","columns_width","final_width","extra_width","start_width","col","share","iterator","curExtra","_getColsTotalWidth","cols_width","v","parseFloat","unknown","gridWidth","autofit","diff","delta","changed","_setContentSize","locale","templates","rtl","reverse","cells","labels","lineHeigth","last","colWidth","_sort","direction","cssClass","grid_header_class","gridScaleCellAttrString","lineHeight","g","eval","IsWorkTimeArgument","date","calendar","ClosestWorkTimeArgument","dir","CalculateEndDateArgument","start_date","duration","step","GetDurationArgument","start","end","end_date","getWorkHoursArguments","setWorkTimeArguments","unsetWorkTimeArguments","isWorkTimeArguments","processedConfig","duration_unit","getClosestWorkTimeArguments","arg","_getStartEndConfig","param","argumentType","duration_step","getDurationArguments","hasDurationArguments","calculateEndDateArguments","copyLinkIdsArray","linkIds","targetHash","isLinkExists","getLink","copyLinkIds","$source","$target","getSubtreeLinks","rootId","isTaskExists","getTask","eachTask","getSubtreeTasks","ScaleHelper","_init_tasks_range","cfg","scale_unit","scale_offset_minimal","helper","scales","primaryScale","subscales","sortScales","_scale_range_unit","range","start_interval","add","resolveConfigRange","getSubtaskDates","dateRangeResolver","calculateEndDate","_min_date","_max_date","fit_tasks","old_min","old_max","_adjust_scales","powerArray","DataStore","TreeDataStore","_branches","pull","$initItem","initItem","parentProperty","$getRootId","val","$openInitially","openInitially","visibleOrder","$create","fullOrder","_searchVisibleOrder","_skip_refresh","eachParent","$open","_isSplitItem","_buildTree","data","setParent","_add_branch","$level","calculateItemLevel","_updateOrder","hasChild","loaded","_parseInner","_addItemInner","getIndexById","_move_branch","$rendered_parent","_changeIdInner","oldId","newId","_replace_branch_child","getItem","_traverseBranches","code","branch","itemId","taskId","_removeItemInner","items","move","sid","tindex","source_pid","tbranch","_moveInner","childId","parentId","exists","pid","getSiblings","getNextSibling","siblings","getPrevSibling","clearAll","level","_setParentInner","new_pid","startItem","parentsHash","Error","added_already","old_parent","new_parent","old_id","new_id","newbranch","criteria","original_criteria","els","temp","rule","$powerArray","array","$removeAt","pos","$remove","$find","$insertAt","$each","master","$map","$filter","_filterRule","updateItem","order","data_size","getVisibleItems","getIndexRange","addItem","changeId","sindex","getIdByIndex","arraysEqual","arr1","arr2","quick","oldOrder","count","serialize","filteredOrder","from","to","Infinity","ret","getItems","_getNullIfUndefined","getFirst","getLast","getNext","getPrev","_task_default_render","_isAllowedUnscheduledTask","getItemPosition","$getTemplates","taskType","getTaskType","type","padd","types","milestone","link_line_width","setAttribute","show_progress","done","progress","pr","progressColor","backgroundColor","opacity","progress_text","position","wrapper","drag_progress","isReadonly","drag","markerPos","_render_task_progress","task_text","_render_task_content","textColor","color","basic","template","state","project","isSummaryTask","isSplitTask","select_task","selected_task","drag_id","drag_mode","touch_drag","link_source_id","link_target_id","highlight_critical_path","isCriticalTask","link_landing_area","from_id","from_start","link_from_start","to_start","link_to_start","allowDrag","isLinkAllowed","dragClass","_combine_item_class","task_class","styles","side","_get_link_crossing_css","_render_side_content","leftside_text","_render_leftside_content","rightside_text","_render_rightside_content","setTaskBarAttr","drag_resize","_render_pair","drag_links","show_links","outer","inner","showLinkPoints","touch","text","cond","leftside","links","start_to_start","finish_to_start","finish_to_finish","_get_conditions","ln","link","tp","min_date","max_date","type_renderers","defaultRenderer","Timeline","resourceStoreMixin","ResourceTimeline","bindLinks","taskFilter","resourceRow","$task_bars","taskBg","$task_bg","getRowTop","getItemTop","task_id","processIgnores","display_count","ignore_x","ignore_time","skip_off_time","ignore","trace_x","_ignore_time_config","ignored_colls","canvasRender","$scaleHelper","_findBinary","prev","low","high","$task","$task_scale","$task_data","$task_links","_tasks","col_width","full_width","rendered","linksAttr","link_attribute","linkLayers","_attachLayers","backgroundImage","scale","data_els","_refreshScales","smart_scales","_scales","_getScaleChunkHtml","expose","taskBar","taskSplitBar","append","static_background","_linkLayers","_taskRenderer","getLayer","_initStaticBackgroundRender","linkStore","linkRenderer","linkLayer","_linkRenderer","staticRender","getScale","_render_tasks_scales","scales_html","outer_width","_getScales","availWidth","autosize","autosize_min_width","cfgs","prepareConfigs","min_column_width","fromPos","toPos","scale_row_class","tplClass","_prepareScaleHtml","globalConfig","globalTemplates","date_to_str","startIndex","endIndex","inherit_scale_class","scale_cell_class","cssclass","getTimelineCellAttr","dateFromPos","summ","part","_getColumnDuration","posFromDate","columnIndexByDate","wholeCells","partCell","days","trace_x_ascending","ignores","day_ind","transition","trace_index_transition","xLeft","xRight","task_height","offset","task_height_offset","Layout","$root","_parseConfig","$cells","_resizeScrollbars","scrollbars","scrollbar","scrollChanged","visibleScrollbars","hiddenSrollbars","showScrollbar","hideScrollbar","shouldHide","shouldShow","visibleGroups","group","_syncCellSizes","groupName","newSize","groups","_eachChild","_syncGroupSize","_xLayout","ownSize","resizeSibling","siblingSize","totalGravity","totalSize","k","mainGrid","$content","startStage","mainCall","_resizeInProgress","contentViews","getCellsByType","setContentSize","_getAutosizeMode","isChild","cellId","sub","alert","insertBefore","rows","cols","views","initUI","getCells","cellSize","_cleanElSize","_getBoxStyles","computed","properties","boxSizing","clientHeight","MozBoxSizing","horPaddings","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","vertPaddings","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","borderBox","innerHeight","outerHeight","boxSizes","contentSizes","_sizes","margin","_calcFreeSpace","_free","_gravity","_calcSize","_configureBorders","borderClass","lastVisibleIndex","lastCell","borderColorClass","_updateCellVisibility","oldVisibleCells","_visibleCells","firstCall","visibleCells","cellView","marginSide","dx","dy","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","updPerSecond","_on_timeout","ceil","_eventRemoveAll","$layout","resetLightbox","_dp","check","message","show_errors","expire","calculateScaleRange","listenWindowResize","resizeDelay","scroll_size","_reinit","_update_flags","initTemplates","_clearTaskLayers","_clearLinkLayers","reset","layout","createView","storeNames","refreshData","getPropertyValue","resizeWatcher","tabIndex","contentWindow","addResizeListener","$mouseEvents","$click","buttons","edit","showLightbox","delete","question","confirm_deleting","confirm_deleting_title","_dhtmlx_confirm","$new","deleteTask","hideLightbox","posX","_getHorizontalScrollbar","codeScrollLeft","visible_date","task_scroll_offset","preserve_scroll","new_pos","showDate","setSizes","locate","targetAttribute","task_attribute","_locate_css","_locateHTML","getTaskRowNode","changeLightboxType","getLightboxType","_silent_redraw_lightbox","_get_link_type","start_to_finish","_correct_dst_change","prevOffset","time_unit","offsetChanged","getTimezoneOffset","_is_icon_open_click","month_full","month_short","day_full","day_short","new_task","icon_save","icon_cancel","icon_details","icon_edit","icon_delete","confirm_closing","section_description","section_time","section_type","column_wbs","column_text","column_start_date","column_duration","column_add","confirm_link_deleting","link_start","link_end","type_task","type_project","type_milestone","minutes","hours","weeks","months","years","message_ok","message_cancel","section_constraint","constraint_type","constraint_date","asap","alap","snet","snlt","fnet","fnlt","mso","mfo","resources_filter_placeholder","resources_filter_label","getTaskDND","_tasks_dnd","touch_feedback","touch_feedback_duration","_prevent_touch_scroll","_touch_feedback","vibrate","touchEventsSupported","createEvent","_touch_events","touches","pageX","pageY","pointerEnabled","pointerType","msPointerEnabled","MSPOINTER_TYPE_MOUSE","touchHandlers","names","accessor","scroll_state","dblclicktime","action_mode","scroll_mode","action_start","long_tap_timer","current_target","start_drag","on_mouse_move","preventDefault","cancelBubble","abs","_touch_scroll_active","new_scroll_state","block_action","on_mouse_down","renders","_getTaskLayers","isTaskVisible","cloneNode","cloneTaskRendered","_start_dnd","_touch_drag","refreshTask","on_mouse_up","now","onDoubleClick","skins","link_arrow_size","lightbox_additional_height","_second_column_width","_third_column_width","material","_redefine_lightbox_buttons","buttons_left","buttons_right","getTaskNode","indx","broadway","_lightbox_template","_config_buttons_left","_config_buttons_right","gantt_delete_btn","gantt_save_btn","terrace","meadow","skyblue","_get_skin","skin","getElementsByTagName","href","match","skinset","_configure","resetSkin","activate","_cached_functions","update_if_changed","active","cache","critical_path_mode","wrap_methods","methods","_prefetch_originals","prefetch","methodname","original","optimizer","argumentsArray","get_arguments_hash","cached_values","has_cached_value","get_cached_value","cache_value","arguments_hash","is_date","getUTCDate","values","stringify_argument","deactivate","setup","override_gantt","gantt_methods","optimize_render","deactivTimeout","TypeselectControl","oldOnChange","checkType","form_blocks","typeselect","_extend_to_optional","lightbox_block","optional_time","section","mapping","_resolve_default_mapping","disable","enable","disabled","update_block","_lightbox_id","previousSibling","button_text","resizeLightbox","button_click","_get_typed_lightbox_config","duration_optional","time_optional","time","ConstraintControl","isNonTimedConstraint","constraint_types","ASAP","ALAP","toggleTimeSelect","timeSelects","typeValue","isNonTimed","getTimePicker","typeSelect","_time_format_order","_eventsInitialized","constraintDate","_fill_lightbox_select","constraintType","getConstraintType","getTimePickerValue","localCache","resources","resourcesValues","eventsInitialized","ResourcesControl","_getInputElementSelector","isChecked","_getResourcesElement","_getFilterCache","checkbox","checked","filterApplied","resourceFilterPlaceholder","filter_placeholder","resourceFilterLabel","resourcesElement","_setResourcesElement","htmlResourceRow","_setFilterCache","context","_applyFilter","resultSns","query","hideUnsetted","map_to","filterCache","_getValue","comparison","collection","resource_id","searchResult","itemIds","_getSnsToHideUnsetted","_resourceChangeListener","row","valueInput","resId","defaultValue","default_value","option","_saveValues","domElement","inputs","unassigned_value","_getDisplayValues","_getAmountInput","zoom","_offsetSizes","_center_lightbox","getLightbox","amountElement","selectorAdd","selectorSub","settedValues","settedValuesHash","itemsAdd","itemsSub","resourceId","amount","ParentControl","_display","item_id","getTaskByTime","allow_root","unshift","root_id","root_label","_filter","tmpDom","newOptions","onselect","replaceChild","DurationControl","_getStartDate","_getDuration","singleDate","single_date","readonly","lightboxDurationInputAttrString","duration_val","inps","btns","endspan","_calc_date","task_date","_change_duration","onclick","onkeydown","charCode","keyCode","which","constants","KEY_CODES","DOWN","UP","calculateDuration","startDate","endDate","RadioControl","radio","CheckboxControl","checkboxes","TimeControl","auto_end_date","_update_lightbox_select","selects","_get_timepicker_step","_getEndDate","TextareaControl","_get_input","TemplateControl","getHtmlButtons","floatRight","_migrate_buttons","lightboxButtonAttrString","getHtmlTimePickerOptions","settings","start_year","end_year","tdate","timeFormat","year_range","first","_time_values","time_picker","setTime","getHours","getMinutes","_lightbox_methods","registerProvider","showCover","_fill_lightbox","lightboxVisibleAttr","round_dnd_dates","timeline","_is_chart_visible","time_step","getLabel","sections","j","updateCollection","list_name","serverList","_lightbox_type","lightboxDiv","fullWidth","classNames","_lightbox","_is_lightbox_timepicker","wide_form","lightboxAttr","drag_lightbox","onmousedown","_ready_to_dnd","onselectstart","cursor","_init_dnd_events","_render_sections","labelBlock","inputBlock","inputId","bindLabelsToInputs","_init_lightbox_events","block","con","scroll_top","scroll_left","view_height","_cover","_document_height","_scroll_height","lightbox_events","_save_lightbox","gantt_cancel_btn","_cancel_lightbox","src","sec","buttonTarget","SPACE","shiftKey","click","edit_save","edit_cancel","getLightboxValues","addTask","updateTask","lightboxHiddenAttr","hideCover","_custom_lightbox","_set_lightbox_values","lightboxHeader","lightbox_header","task_time","substr","getLightboxSection","getValue","setValue","get_template_control","control","get_select_control","get_textarea_control","get_time_control","_move_while_dnd","_finish_dnd","_dnd_start_lb","gantt_unselectable","lb","_lb_start","ariaAttrs","date_part","time_format","getTimeFormat","limit_time_select","first_hour","last_hour","setHours","lightboxSelectAttrString","needSetTime","mapOffset","constraint","ok","opts","confirm","type_value","oldType","formData","updTask","isUnscheduledTask","unscheduled","show_unscheduled","taskStart","taskEnd","getGlobalTaskIndex","_getProjectEnd","project_end","_getProjectStart","project_start","_defaultTaskDate","parent_id","schedule_from_end","getTaskByIndex","_set_default_task_timing","createTask","details_on_create","selectTask","showTask","oldid","newid","unselect","getSelectedId","_get_task_timing_mode","task_type","$no_start","$no_end","$rendered_type","_init_task_timing","task_mode","dirty","resetProjectDates","taskMode","dates","_assign_project_dates","getSubtaskDuration","taskTiming","_update_parents","has_changed","oldStart","oldEnd","roundDate","upper","lower","colIndex","steps","tzOffset","correctTaskWorkTime","work_time","correct_work_time","isWorkTime","getClosestWorkTime","calendarManager","timeCalculator","getWorkHours","setWorkTime","unsetWorkTime","_hasDuration","hasDuration","createCalendar","addCalendar","getCalendar","getCalendars","getTaskCalendar","deleteCalendar","CalendarDisabledTimeStrategy","argumentsHelper","_calculateDuration","dateHelper","fixedUnits","createArgumentsHelper","NoWorkTimeCalendar","TimeCalculator","$disabledCalendar","_getCalendar","manager","WorkUnitsCache","_cache","getTime","put","Cache","CalendarWorkTimeStrategy","_workingUnitsCache","_getUnitOrder","_timestamp","timestamp","UTC","_checkIfWorkingUnit","_isWorkTime","_is_work_day","_getWorkHours","_is_work_hour","_internDatesPull","_nextDate","_getWorkUnitsBetweenGeneric","stepStart","stepEnd","next","checkFirst","checkLast","isLastStep","_getHoursPerDay","_getWorkHoursForRange","_getWorkUnitsBetweenHours","firstDayStart","firstDayEnd","day_start","lastDayStart","lastDayEnd","startPart","endPart","hourRange","worktime","_setCalendar","_tryChangeCalendarSettings","payload","backup","JSON","stringify","_isEmptyCalendar","datesArray","isFullWeekSet","checkFullArray","getDay","reset_calendar","is_work_unit","mult","_calculateEndDate","added","_getClosestWorkTime","inputDate","_getClosestWorkTimePast","_getClosestWorkTimeFuture","closestFuture","closestPast","_getClosestWorkTimeGeneric","increment","unitOrder","biggerTimeUnit","CalendarWorktimeStrategy","CalendarManager","_calendars","_getDayHoursForMultiple","calendars","tick","currPos","reduce","acc","mergeCalendars","newCalendar","_convertWorktimeSettings","parentCalendar","defaults","fulltime","apiCore","createDefaultCalendars","_getOwnCalendar","calendar_property","resource_calendars","calendarId","inherit_calendar","stop","worktimes","restoreConfigCalendars","configs","global","worktimeFacadeFactory","facade","load","url","_load_url","cl","_load_type","ajax","on_load","xmlDoc","responseText","resp","_process_loading","collections","_load_collections","linksStore","initial_scroll","firstTask","collections_loaded","option_key","$ignore","json","dhx_security","security_key","serializeTask","_copyObject","serializeLink","_copyLink","xml_format","rawLinks","getLinks","xml","_xmlNodeToJSON","attrs_only","nodeValue","_getCollections","loader","xpath","itms","attrs","_getXML","toptag","getXMLTopNode","xmltop","skey","evs","oldxml","startdate","est","enddate","predecessortasks","editable_property","readonly_property","htmlTags","extraSpaces","stripHTMLLite","htmlText","singleQuotes","escapeQuotes","getAttributeString","dateString","aria-label","_taskCommonAttr","tooltip_text","$dataprocessor_class","isSelectedTask","drag_move","taskRowAttr","order_branch","linkAttr","linkTypes","toStart","fromStart","drag_link","gridSeparatorAttr","buttonName","role","tabindex","headerText","time_option","aria-valuemin","multiselect","gridCellAttrString","textValue","gridAddButtonAttrString","messageButtonAttrString","buttonLabel","messageInfoAttr","messageModalAttr","quickInfoAttr","quickInfoHeaderAttrString","quickInfoHeader","quickInfoButtonAttrString","tooltipAttr","tooltipVisibleAttr","tooltipHiddenAttr","wai_aria_attributes","getGridColumn","visibleColumns","old_has_children","branch_loading_property","branch_loading","getUserData","needLoading","encodeURIComponent","setUserData","callIfEnabled","auto_types","updateParents","batchUpdate","checkParent","targetType","getTaskTypeToUpdate","updateTaskType","setTaskType","delTaskParent","allTypes","hasChildren","originalRowDndParent","originalMoveTaskParent","isParsingDone","updateAfterRemoveChild","placeholder_task","insertPlaceholder","placeholders","afterEdit","newTask","dataProcessor","_silencedPlaceholder","setUpdated","ready","action","commands","command","entity","createResourceMethods","resourceTaskCache","propertyName","propertyValue","filterResourceTasks","getResourceTasks","resourceIds","cacheKey","resourceHash","resourceValue","getResourceLoad","timegrid","currDate","timetable","resource_render_empty_cells","calculateResourceLoad","renderBar","renderConnection","prevLevel","nextLevel","selectAssignments","owners","renderLine","resource_cell_class","resource_cell_value","sizes","renderHistogram","capacityMatrix","maxCapacity","capacity","histogram_cell_class","histogram_cell_label","fill","histogram_cell_allocated","histogram_cell_capacity","capacityElement","colStart","colEnd","bar","connection","renderHistogramLine","filterTasks","getResourceAssignments","assignments","resourceHistogram","dhtmlx","attaches","attachGantt","cmp","attachObject","dataType","dataObj","that","vs","av","grid","border","gridId","gridObj","dhtmlXCellObject","jQuery","$","fn","dhx_gantt","each","newgantt","Gantt","getGanttInstance","wbs","_needRecalc","_isRecalcNeeded","_isGroupSort","_groups","is_active","_getWBSCode","_calcWBS","$virtual","$wbs","_setWBSCode","getWBSCode","getByWBSCode","parts","currentNode","_isFirst","_prevSibling","_wbs","_parent","createWbs","resetCache","getTaskByWBSCode","createMethod","isActive","disableMethod","methodName","dummyMethod","restoreMethod","restoreMethods","batchUpdatePayload","batch_update","noRedraw","dp_mode","call_dp","updateMode","setUpdateMode","resetProjects","refreshLink","methodsHash","setGanttMode","sendData","scrollRange","scrollStep","scrollDelay","scrollSpeed","interval","isMove","delayTimeout","startPos","started","eventPos","isScrollState","dragMarker","isResize","isLink","defineDelayTimeout","speed","autoscroll_speed","setInterval","autoscroll_delay","defineScrollInterval","clearInterval","autoscrollInterval","isScroll","autoscroll","posY","need_scroll","scrollState","currentScrollTop","scrollOuterHeight","inner_height","scrollInnerHeight","currentScrollLeft","scrollOuterWidth","inner_width","scrollInnerWidth","autoscroll_step","boxSize","startCoord","default","dp","userdata","_change_id","_ganttMode","changeLinkId","changeTaskId","_row_style","rowId","_delete_task","_sendTaskOrder","$drop_target","setDp","DataProcessorEvents","$dp","_dataProcessorHandlers","attach","treeHelper","cascadeDelete","clientSideDelete","updated","updatedRows","clientOnly","_in_progress","cascade_delete","dpMode","cascade","sendAllData","_tSend","_waitMode","itemLinks","_links","getTaskLinks","updateLink","_tMode","_serverProcessor","substring","serverProcessor","pluralizedMode","urlSeparator","upd","isExist","addLink","objData","xml_date","deleteLink","data_processor_events_1","extend_gantt_1","createDataProcessor","router","tMode","DataProcessor","setTransactionMode","serverProcessorURL","action_param","autoUpdate","_headers","_payload","_postDelim","_invalid","mandatoryFields","messages","inserted","deleted","invalid","invalid_cell","enableUTFencoding","total","headers","_endnm","_serializeAsJson","_router","escape","_utf","setDataColumns","_columns","getSyncState","enableDataNames","enablePartialDataSend","_changed","dnd","findRow","existing","set_invalid","is_invalid","markRow","_methods","details","getActionByState","checkBeforeUpdate","mytype","_h2","editStop","_beforeSendData","_getRowData","_sendData","_serializeAsJSON","serialize_one","stack","pref","serialized","_applyPayload","dataToSend","queryParams","ids","afterUpdate","urlParams","_user","method","taskState_1","taskAction","ganttMode","getGanttMode","_onResolvedCreateUpdate","tid","afterUpdateCallback","actionPromise","update","then","_forEachUpdatedRow","valid","_getAllData","stop_1","hasOne","setVerificator","verifFunction","clearVerificator","pattern","defineAction","_uActions","btag","correct","originalSid","_xml","reqUrl","filePath","finalizeUpdate","cleanUpdate","atag","anObj","_initialized","_dp_init","_setDefaultTransactionMode","dataProcessorEvents","setOnAfterUpdate","enableDebug","setOnBeforeUpdateHandler","setAutoUpdate","user","_needUpdate","_updateBusy","afterAutoUpdate","fullSync","loadUpdate","xml_node","getUpdates","_v","_a","vers","upds","status_1","parent_1","modes","newState","_isFetchResult","ReadableStream","setSerializeAsJSON","flag","DEPRECATED_api","server","getDataProcessorModes","getAvailableModes","bindDataStore","itemRepainter","getLayers","render_item","renderers","render_items","skipRepaint","change_id","refreshId","selectedId","deleteItem","subItem","getLinkCount","getTaskCount","getVisibleTaskCount","getTaskIndex","startTask","calculateTaskLevel","moveTask","createTasksFacade","createLinksFacade","createDatastoreSelect","datastoreRender","getDatastores","createDatastoreFacade","createDatastore","$StoreType","open_tree_initially","dropService","setService","storeList","stores","refresh_links","linkId","_clear_data","unselectTask","facadeFactory","parseDate","checkLinkedTaskVisibility","sync_link","sourceTask","targetTask","sync_link_delete","sync_links","mapEvents","conf","mapFrom","mapTo","sourceEvent","targetEvent","$index","oldState","sourceVisible","targetVisible","deletedLinks","onItemLoading","onBeforeAdd","onAfterAdd","onBeforeUpdate","onAfterUpdate","onBeforeDelete","onAfterDelete","onIdChange","onBeforeItemMove","onAfterItemMove","onFilterItem","onItemOpen","onItemClose","onBeforeSelect","onAfterSelect","onAfterUnselect","getTimeline","getGrid","getVerticalScrollbar","getHorizontalScrollbar","DEFAULT_VALUE","tryCall","fallback","getTaskTop","getTaskPosition","getTaskHeight","roundTaskDates","getLinkNode","oldH","oldV","newV","newH","date_x","scroll_to","_scroll_state","x_pos","y_pos","x_inner","y_inner","scrollVer","scrollHor","horState","visible","verState","initializer","_legacyGridResizerClass","resizers","gridResizer","onCreated","mainTimeline","show_chart","showGrid","show_grid","colsWidth","grid_limits","original_grid_width","skinSettings","_initScrollStateEvents","_getVerticalScrollbar","oldPos","newPos","$scroll_ver","$scroll_hor","_findGridResizer","gridFirst","_getSiblings","_behind","_front","onInitialized","resizeInfo","initialWidth","prevCellWidth","nextCellWidth","viewCell","limits","newBehindSize","newFrontSize","oldBackSize","oldFrontSize","newBackSize","oldSize","onDestroyed","initLinksDND","_link_landing","_link_target_task","_link_target_task_start","_link_source_task","_link_source_task_start","getDndState","services","DnD","sensitivity","updates_per_second","getLinePos","shift","isStart","taskPos","xEnd","yEnd","milestoneWidth","origWidth","sqrt","getVisibleMilestoneWidth","getMilestonePosition","isMilestone","updateMarkedHtml","drag_link_class","resetDndState","coordinateCircleQuarter","sX","eX","sY","eY","_dir_start","dd","getPosition","advanceMarker","landing","prevTarget","prevLanding","prevToStart","targ","_dir_end","targetChanged","s_x","s_y","e_x","e_y","_direction","getDirectionLine","link_direction_class","dist","pow","tan","angle","atan","PI","sin","cos","ieTransform","shiftLeft","shiftTop","showDirectingLine","createLinkDND","createTaskDND","extend","round_task_dates","dragMultiple","_events","before_start","before_finish","after_finish","_handlers","_domEvents","clear_drag_state","set_actions","drag_from_start","stage","_move","_resize","_resize_progress","start_x","start_y","coords_x","_drag_task_coords","min_duration","diffValue","_find_max_shift","dragItems","correctShift","minX","maxX","maxShift","minShift","new_start","new_end","obj_s_x","obj_e_x","_mouse_position_change","_is_number","isFinite","_update_on_move","_update_item_on_move","curr_date","drag_project","initialDrag","childDrag","_get_drag_mode","_fix_dnd_scale_time","fixStart","fixEnd","_fix_working_times","_finalize_mouse_up","_fireEvent","_dhx_changed","dragProperty","params","trigger","drag_state","taskDnD","linkDnD","_linksDnD","_tasksDnD","_attachDomEvents","_attachStateProvider","extendDom","_clearDomEvents","_clearStateProvider","_delete_link_handler","link_description","coll","coll_date","scale_step","unregisterProvider","gridToPageCoordinates","gridPos","removeLineHighlight","markerLine","highlightPosition","ePos","gridHeight","getTaskMarkerPosition","pointerEvents","markerFolder","highlightFolder","linePos","indentNode","indent","itemTop","itemHeight","childCount","getLineMarkerPosition","highlightRow","dropTarget","relTargetPos","eventTop","findClosesTarget","allowedLevel","up","targetLevel","findTargetAbove","findTargetBelow","rootLevel","current","getLockedLevelTarget","getMultiLevelTarget","higlighter","dnd_sensitivity","hideQuickInfo","_hideQuickInfo","initial_open_state","outerHTML","drop_target","$transparent","getDropPosition","getTargetTaskId","lockLevel","order_branch_free","getStore","lastTaskOfLevel","last_item","_getGridPos","_getTargetY","_getTaskByY","dropIndex","targetY","over","nextId","prevId","rowDnd","rowDndMarker","extendGantt","ext","inlineEditors","_inlineEditors","createEditors","initEvents","clearEvents","scroll_on_click","sorting_method","callHandler","totalWidth","aria","date_grid","tree","grid_indent","grid_open","grid_folder","grid_blank","grid_file","align","grid_row_class","css_template","drawer","current_pos","dirs","down","path","point","get_lines","dots","line_to","get_path","line","_get_line","get_wrapper_sizes","wrapper_size","link_wrapper_width","get_line_sizes","line_size","marginTop","marginLeft","render_line","innerPos","get_direction","vect","path_builder","point_to","get_points","pt","get_endpoint","xy","shiftX","lineType","get_line_type","forward","sign","milestoneHeight","lines","cssTemplate","link_class","isCriticalLink","endpoint","line_width","_render_link_arrow","borderColor","show_task_cells","task_cell_class","odd","task_row_class","defaultRender","sub_tasks","PredecessorEditor","parseInputString","predecessors","delimiter","formatPredecessors","pred","getLinksDiff","predecessorCodes","selectedLinks","predecessor","lag","getSelectedLinks","existingLinksSearch","linksToAdd","linkKey","linksToDelete","remove","editor","linksDiff","autoSchedule","inputPredecessors","taskPredecessors","html5DateFormat","dateToStr","strToDate","DateEditor","str_to_date","parsed","SelectEditor","optionsHtml","NumberEditor","TextEditor","controller","onBlurDelay","keyNav","keyboardNavigation","activeCell","locateCell","columnName","editorState","getEditorConfig","startEdit","hasEditor","keyboard","preventKeyNav","ENTER","ctrlKey","metaKey","ESC","LEFT","RIGHT","editorType","DELETE","TAB","editPrevCell","editNextCell","modifiers","anyModifier","alt","ctrl","meta","getCommandHandler","onShow","onHide","destroy","isChanged","keyboard_navigation","defaultPrevented","shouldPrevent","defaultMapping","keyNavMappings","setMapping","getMapping","keyboard_navigation_cells","getKeyboardMapping","textEditorFactory","numberEditorFactory","selectEditorFactory","dateEditorFactory","predecessorEditorFactory","initConfigs","editor_types","number","keyboardMapping","eventBus","inlineEditController","_createPlaceholder","_getEditorPosition","handlers","_itemId","_columnName","_editor","_editorType","_placeholder","editorConfig","_getItemValue","newValue","oldValue","_findEditableCell","nextIndex","nextColumn","getNextCell","getFirstCell","getLastCell","canChangeRow","moveRow","editNextRow","editPrevRow","handlerId","ResourceHistogram","ResourceGrid","_grid_resize","column_before_start","grid_resizer_column_attribute","column_index","column_after_start","drag_index","column_drag_move","target_column","pointerPosition","minPointerPosition","maxPointerPosition","markerStartPosition","marker_width","keep_grid_width","limit_max","targetWidth","rightColumnsWidth","column_drag_end","resize_el","createStaticBgHelper","canvasBgCache","staticBgStyleId","parseRgb","rgbCss","exec","getUrlFromCache","getHashKey","cellStyles","bottomBorderColor","rightBorderColor","cacheUrl","generateBgUrl","canvas","getContext","rowHeight","image","createImageData","imageSmoothingEnabled","verticalLineWidth","rightBorderWidth","verticalLineColor","w","drawDot","horizontalLineWidth","bottomBorderWidth","horizontalLineColor","putImageData","drawGrid","toDataURL","matrix","getCssClass","targetNode","totalHeight","bgDivs","bgTiles","tile","prevCell","divs","prevWidth","widths","leftPos","maxTileSize","appVersion","currentTop","tileWidth","currentHeight","whiteSpace","createBgDivs","differentWidths","getColumnWidths","styleHTML","cachedUrl","bgImage","getStyleElement","createBackgroundTiles","rowStyles","getCellStyles","fragment","createDocumentFragment","getSum","setSumWidth","sum_width","adjustSize","splitSize","full","initTemplate","date_scale","min_coll_width","container_width","minDate","maxDate","heights","main_scale","initScaleConfig","initColSizes","limitVisibleRange","alineScaleColumns","reverseScale","setPosSettings","indexes","trace_indexes","skip","probe","min_col_width","line_height","cont_width","column_count","eachColumn","iterateScales","lower_scale","upper_scale","upper_dates","lower_dates","prevUpper","target_index","upper_start","upper_end","lower_start","lower_end","curr","lastDate","outDate","shared","ScrollbarCell","_scrollHorizontalHandler","_scrollVerticalHandler","_outerScrollVerticalHandler","_outerScrollHorizontalHandler","_mouseWheelHandler","_isHorizontal","scrollPosition","_isVertical","_initVertical","_initHorizontal","_initMouseWheel","_initLinkedViews","_getRootParent","_eachView","eachCell","_getLinkedViews","scrollX","_updateLinkedViews","scrollHorizontally","_scrolling","scrollVertically","_wheel_time","_oldLeft","_getScrollSize","outerSize","isHorizontal","linked","scrollProperty","innerSizeProperty","outerProperty","_getScrollOffset","cellScrollSize","nonScrollableSize","outerScroll","innerScroll","scrollSizes","_setScrollSize","toggleVisibility","_getScaleOffset","parentLayout","_oldTop","_checkWheelTarget","connectedViews","ff","wx","deltaX","wheelDeltaX","wy","deltaY","wheelDelta","oldLeft","detail","oldTop","ResizerCell","startBackSize","startFrontSize","_moveHandler","_moveResizer","_resizer","_upHandler","newSizes","_getNewSizes","back","front","_setSizes","_setBackground","_clearResizer","_clearListeneres","_startOnMove","_cancelDND","_callStartDNDEvent","_xMode","_startDND","_eachGroupItem","_isPosChanged","_downHandler","_setResizer","_positions","classes","overflow","_getDirection","_getResizePosition","behindSide","behindMin","frontSide","frontMin","newBehindSide","newFrontSide","_getGroupName","_getGroupResizePosition","minMax","positions","nextX","nextY","_setGravity","frontSize","behindSize","newFrontG","newBehindG","_assignNewSizes","ViewCell","childConfig","$initialized","unload","outerX","outerY","childSize","ViewLayout","$cell","byMaxSize","otherCell","task_area_pulls","task_area_renderers","getRenderer","layer_attribute","dom","remove_item","clear_container","buffer","vis","replace_item","newNode","restore","clearRenderers","renderFactoryProvider","mergeFilters","filter_methods","filter_method","renderFactory","createGroup","get_container","rel_root","defaultFilters","renderGroup","tempCollection","filters","_add","pending","topmost","rel","eachLayer","createLayerFactory","previusSiblingContainer","defaultContainerSibling","addTaskLayer","removeTaskLayer","addLinkLayer","_getLinkLayers","removeLinkLayer","createMouseHandler","eventHandlers","doubleclick","contextMenu","addEventTarget","onClick","findEventHandlers","callEventHandlers","onContextMenu","returnValue","delegateHandlers","handlerResult","details_on_dblclick","onMouseMove","_last_move_event","domEvents","eventName","elementHandlers","ViewSettings","extendSettings","parentSettings","own","parentView","parentConfig","parentTemplates","configurable","createFactory","createdViews","creator","configure","registerView","viewConstructor","uiFactory","createLayers","Resizer","Scrollbar","gridEditorsFactory","renderTaskBar","renderSplitTaskBar","renderTaskBg","renderLink","gridRenderer","mainGridInitializer","mainTimelineInitializer","mainLayoutInitializer","attachInitializer","layersEngine","layersApi","layersService","boxAttribute","_dhx_msg_cfg","usercall","modalBox","modal_key","messageBox","modality","cover","buttonAriaAttrs","getFirstDefined","_createBox","cancel","contentId","btn","_boxStructure","alertPopup","confirmPopup","boxPopup","box_params","focusable","timers","info","hideAll","popups","modalbox","createScope","setImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","random","onGlobalMessage","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","script","onreadystatechange","installReadyStateChangeImplementation","clearImmediate","scope","Timeout","clearFn","_id","_clearFn","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","u","_dereq_","1","Promise","SomePromiseArray","_SomePromiseArray","any","promises","promise","setHowMany","setUnwrap","2","firstLineError","schedule","Queue","util","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","receiver","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","_drainQueue","_drainQueueStep","_settlePromises","setScheduler","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","stderr","write","exit","throwLater","invokeLater","invoke","settlePromises","_reset","./queue","./schedule","./util","3","INTERNAL","tryConvertToPromise","debug","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","resolve","4","old","bluebird","noConflict","./promise","5","cr","callerCache","getterCache","canEvaluate","caller","classString","TypeError","ensureMethod","namedGetter","indexedGetter","isIdentifier","isIndex","maybeGetter","getGetter","6","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancellation","_warn","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","7","NEXT_FILTER","getKeys","instances","cb","boundTo","predicateLoop","matchesPredicate","isObject","./es5","8","longStackTraces","contextStack","Context","_trace","CapturedTrace","peekContext","lastIndex","_promiseCreated","_pushContext","_popContext","_peekContext","trace","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","9","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","getDomain","_getDomain","Warning","es5","canAttachTrace","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","warnings","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","reason","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","warn","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","Promise_dereferenceTrace","_dereferenceTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","longStackTracesDereferenceTrace","hasLongStackTraces","fireDomEvent","CustomEvent","dispatchEvent","eventData","cancelable","domEvent","Event","initCustomEvent","fireGlobalEvent","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","defaultFireEvent","cancellationExecute","executor","reject","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","flags","branchesRemainingToCancel","warningsOption","_clearCancellationData","_execute","monitoring","isFulfilled","ignoreSelf","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","formatAndLogError","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","stackFramesAsArray","isSoft","localHandler","localEventFired","formatNonError","newStr","maxChars","snip","captureStackTrace","parseLineInfoRegex","parseLineInfo","fileName","_promisesCreated","uncycle","inherits","stackToIndex","currentStack","cycleEdgeNode","currentChildLength","stacks","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","removeDuplicateOrEmptyJumps","reconstructStack","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","err","isTTY","checkForgottenReturns","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","msg","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","deprecated","replacement","./errors","10","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","11","PromiseReduce","PromiseAll","all","promiseAllThis","mapSeries","12","_TypeError","_RangeError","Objectfreeze","freeze","subError","nameProperty","defaultMessage","SubError","CancellationError","TimeoutError","AggregateError","RangeError","writable","OperationalError","cause","errorTypes","RejectionError","13","isES5","getDescriptor","getOwnPropertyDescriptor","getOwnPropertyNames","propertyIsWritable","prop","descriptor","set","has","proto","ObjectKeys","14","PromiseMap","15","catchFilter","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","./catch_filter","16","Proxyable","errors","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","traceParent","promiseFromYieldHandler","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","17","spread","18","MappingPromiseArray","limit","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","_init$","_init","_values","preservedValues","totalResolved","_totalResolved","_resolve","booleans","19","_resolveFromSyncValue","attempt","20","maybeWrapAsError","rErrorKey","wrapAsOperationalError","isUntypedError","markAsOriginatingFromRejection","multiArgs","wrapped","21","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","22","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","createContext","nodebackForPromise","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","reflect","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","cast","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","23","resolveValueIfEmpty","asArray","_iterate","_resolveEmptyArray","Map","toResolutionValue","getActualLength","shouldCopyValues","isResolved","24","THIS","withAppended","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","suffix","getDataPropertyOrDefault","promisifiableMethods","suffixRegexp","inheritedDataKeys","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","escapeIdentRegex","makeNodePromisified","makeNodePromisifiedEval","defaultThis","promisified","promisifyAll","promisifier","promisifiedKey","promisify","copyDescriptors","isClass","25","Es6Map","mapToEntries","extractEntry","PropertiesPromiseArray","entries","isMap","_isMap","props","castValue","entriesToMap","keyOffset","26","_capacity","_willBeOverCapacity","_checkCapacity","wrapMask","_resizeTo","oldCapacity","moveItemsCount","srcIndex","dst","dstIndex","arrayMove","27","raceLater","race","28","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","29","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","ProcessNextTick","isRecentNode","nativePromise","standalone","cordova","toggleScheduled","div2","o2","observe","disconnect","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","settle","31","CANCELLATION","_howMany","_unwrap","some","howMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","hasProp","doGetThen","getThen","isAnyBluebirdPromise","doThenable","34","HandleWrapper","afterValue","ms","successClear","failureClear","handleWrapper","afterTimeout","35","NULL","dispose","thenable","_isDisposable","_getDisposer","_setDisposable","castPreservingDisposable","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","doDispose","_unsetDisposable","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatchTarget","globalObject","tryCatcher","Child","Parent","T","isPrimitive","maybeError","safeToString","appendee","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","ic","foo","rident","filledRange","prefix","isError","ArrayFrom","itResult","it","hasEnvVariables","chrome","loadTimes","P","stateProviders","provider","regTemplates","initial","template_name","server_utc","api_date","task_unscheduled_time","grid_date_format","tooltip_date_format","copyDomEvent","altKey","_obj","_settings","inputMethods","getInputMethods","_drag_start_timer","clearDragTimer","original_target","dragStart","traceDragEvents","inputMethod","mousemove","dragMove","dragScroll","limited_mousemove","mouseup","dragEnd","checkPositionChange","diff_x","diff_y","initDnDMarker","backupEventTarget","getEvent","backup_element","elementFromPoint","month_short_hash","month_full_hash","hour_start","time_part","week_start","start_on_monday","month_start","setDate","quarter_start","res_month","setMonth","year_start","setMinutes","minute_start","getSeconds","setSeconds","getMilliseconds","setMilliseconds","_add_days","inc","ndate","setYear","add_quarter","to_fixed","num","format","utc","getISOWeek","getWeek","splt","mask","_getWeekNumber","isoWeek","nday","first_thursday","year_number","ordinal_date","getUTCISOWeek","convert_to_utc","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","createConfig","DOMParser","parseFromString","ActiveXObject","loadXML","tagname","xhr","status","responseXML","xpathExp","docObj","selectNodes","ownerDocument","evaluate","XPathResult","ANY_TYPE","iterateNext","_call","onLoad","getSync","postData","del","post","postSync","isQt","readyState","setRequestHeader","toUpperCase","send","show_loading","dhx_save_btn","dhx_cancel_btn","dhx_delete_btn","project_sections","milestone_sections","grid_resizer_attribute","grid_resize","prevent_default_scroll","service","$inject","templatesLoader","stateService","uiApi","createLayoutFacade"],"mappings":"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I,GACA,OAAAA,GACA,SACA,qCACA,SACA,0CACA,SACA,2BACA,SACA,gCACA,SACA,6CACA,SACA,+BACA,SACA,iDACA,SACA,gDACA,SACA,qDACA,SACA,oDACA,SACA,gDACA,SACA,wCACA,SACA,4BACA,SACA,sCACA,SACA,wCACA,SACA,2CACA,SACA,2CACA,SACA,wCACA,SACA,uCACA,SACA,oCACA,QACA,OAAAA,KAGAw1H,IAAAD,IAAA3sH,QAAA,6BACA,IAAAs7E,EAAA,IAAA30E,SAAA,6DAAAgmH,EAAA,MAEA,gBAAArwG,GACA,OAAAg/D,EAAAh/D,EAAAoiC,EAAA+tE,SAAApjH,EAAA+R,OAAAsjC,EAAAmuE,WAAAnuE,EAAAouE,WAGArxC,YAAA,SAAAkxC,EAAAC,GAGA,IAFA,IAAAG,EAAA,4CACAC,EAAAL,EAAAplF,MAAA,cACAlwC,EAAA,EAAkBA,EAAA21H,EAAA/yH,OAAiB5C,IACnC,OAAA21H,EAAA31H,IACA,SACA,SACA01H,GAAA,eAAA11H,EAAA,QACA,MACA,SACA,SACA01H,GAAA,gBAAA11H,EAAA,WACA,MACA,SACA01H,GAAA,eAAA11H,EAAA,aAAAA,EAAA,mBACA,MACA,SACA,SACA,SACA,SACA01H,GAAA,eAAA11H,EAAA,QACA,MACA,SACA01H,GAAA,eAAA11H,EAAA,QACA,MACA,SACA01H,GAAA,eAAA11H,EAAA,QACA,MACA,SACA,SACA01H,GAAA,2BAAA11H,EAAA,oCACA,MACA,SACA01H,GAAA,eAAA11H,EAAA,QACA,MACA,SACA01H,GAAA,4CAAA11H,EAAA,SACA,MACA,SACA01H,GAAA,2CAAA11H,EAAA,SAMA,IAAA0rB,EAAA,4CACA6pG,IAAA7pG,EAAA,aAAAA,EAAA,KACA,IAAAw4D,EAAA,IAAA50E,SAAA,0CAAyEomH,EAAA,oBAAAhqG,EAAA,MAEzE,gBAAAylC,GACA,OAAA+yB,EAAA/yB,EAAAn/C,EAAA+R,UAGAyxG,WAAA,SAAAP,GACA,OAAAjjH,EAAAiT,KAAA2wG,eAAAX,GAAA,IAEAW,eAAA,SAAAX,E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","file":"dhtmlxgantt.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codebase/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 156);\n","var helpers = require(\"./helpers\");\n\nfunction copy(object) {\n\tvar i, result; // iterator, types array, result\n\n\tif (object && typeof object == \"object\") {\n\n\t\tswitch (true){\n\t\t\tcase (helpers.isDate(object)):\n\t\t\t\tresult = new Date(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isArray(object)):\n\t\t\t\tresult = new Array(object.length);\n\t\t\t\tfor(i = 0; i < object.length; i++){\n\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isStringObject(object)):\n\t\t\t\tresult = new String(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isNumberObject(object)):\n\t\t\t\tresult = new Number(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isBooleanObject(object)):\n\t\t\t\tresult = new Boolean(object);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresult = {};\n\t\t\t\tfor (i in object) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.apply(object, [i]))\n\t\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result || object;\n}\n\nfunction mixin (target, source, force){\n\tfor (var f in source)\n\t\tif (((target[f] === undefined) || force)) target[f]=source[f];\n\treturn target;\n}\n\nfunction defined(obj) {\n\treturn typeof(obj) != \"undefined\";\n}\n\nvar seed;\nfunction uid() {\n\tif (!seed)\n\t\tseed = (new Date()).valueOf();\n\n\tseed++;\n\treturn seed;\n}\n\n//creates function with specified \"this\" pointer\nfunction bind(functor, object){\n\tif(functor.bind)\n\t\treturn functor.bind(object);\n\telse\n\t\treturn function(){ return functor.apply(object,arguments); };\n}\n\nfunction event(el, event, handler, capture){\n\tif (el.addEventListener)\n\t\tel.addEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.attachEvent)\n\t\tel.attachEvent(\"on\"+event, handler);\n}\n\nfunction eventRemove(el, event, handler, capture){\n\tif (el.removeEventListener)\n\t\tel.removeEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.detachEvent)\n\t\tel.detachEvent(\"on\"+event, handler);\n}\n\nmodule.exports = {\n\tcopy: copy,\n\tdefined: defined,\n\tmixin: mixin,\n\tuid: uid,\n\tbind: bind,\n\tevent: event,\n\teventRemove: eventRemove\n};","//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = \"\";\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp(\"\\\\s?\\\\b\" + name[i] + \"\\\\b(?![-_.])\", \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction hasClass(element, className){\n\tif ('classList' in element) {\n\t\treturn element.classList.contains(className);\n\t} else { \n\t\treturn new RegExp(\"\\\\b\" + className + \"\\\\b\").test(element.className);\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave = document.createElement(\"div\");\nfunction insert(node, newone) {\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tvar trg = getTargetNode(e);\n\tvar css = \"\";\n\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tvar d = document.documentElement;\n\tvar box = elementPosition(node);\n\n\treturn {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft - box.x + node.scrollLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop - box.y + node.scrollTop\n\t};\n}\n\nfunction isChildOf(child, parent){\n\tif(!child || !parent){\n\t\treturn false;\n\t}\n\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\n\treturn child === parent;\n}\n\nfunction closest(element, selector){\n\tif(element.closest){\n\t\treturn element.closest(selector);\n\t}else if(element.matches || element.msMatchesSelector || element.webkitMatchesSelector){\n\t\tvar el = element;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tvar method = el.matches || el.msMatchesSelector || el.webkitMatchesSelector;\n\n\t\t\tif (method.call(el, selector)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1); \n\t\treturn null;\n\t}else{\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\"Your browser is not supported\");\n\t\treturn null;\n\t}\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n\thasClass: hasClass,\n\tclosest: closest\n};","module.exports = function (d, b) {\n\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\tfunction __() { this.constructor = d; }\n\td.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};","var units = {\n\t\"second\": 1,\n\t\"minute\": 60,\n\t\"hour\": 60 * 60,\n\t\"day\": 60 * 60 * 24,\n\t\"week\": 60 * 60 * 24 * 7,\n\t\"month\": 60 * 60 * 24 * 30,\n\t\"quarter\": 60 * 60 * 24 * 30 * 3,\n\t\"year\": 60 * 60 * 24 * 365\n};\nfunction getSecondsInUnit(unit){\n\treturn units[unit] || units.hour;\n}\n\nfunction forEach(arr, callback) {\n\tif (arr.forEach) {\n\t\tarr.forEach(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tcallback(workArray[i], i);\n\t\t}\n\t}\n}\n\nfunction arrayMap(arr, callback) {\n\tif (arr.map) {\n\t\treturn arr.map(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tvar resArray = [];\n\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tresArray.push(callback(workArray[i], i));\n\t\t}\n\t\treturn resArray;\n\t}\n}\n\n\nfunction arrayFind(arr, callback) {\n\tif (arr.find) {\n\t\treturn arr.find(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\treturn arr[i];\n\t\t\t}\n\t\t}\n\t}\n}\n\n// iframe-safe array type check instead of using instanceof\nfunction isArray(obj){\n\tif(Array.isArray){\n\t\treturn Array.isArray(obj);\n\t}else{\n\t\t// close enough\n\t\treturn (obj && obj.length !== undefined && obj.pop && obj.push);\n\t}\n}\n\n// non-primitive string object, e.g. new String(\"abc\")\nfunction isStringObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function String() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Number(5)\nfunction isNumberObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Number() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Boolean(true)\nfunction isBooleanObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Boolean() { [native code] }\";\n}\n\nfunction isDate(obj) {\n\tif (obj && typeof obj === \"object\") {\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\n\t} else {\n\t\treturn false;\n\t}\n}\n\nfunction arrayFilter(arr, callback) {\n\tvar result = [];\n\n\tif (arr.filter) {\n\t\treturn arr.filter(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\tresult[result.length] = arr[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nfunction hashToArray(hash) {\n\tvar result = [];\n\n\tfor (var key in hash) {\n\t\tif (hash.hasOwnProperty(key)) {\n\t\t\tresult.push(hash[key]);\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction arraySome(arr, callback) {\n\tif (arr.length === 0) return false;\n\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (callback(arr[i], i, arr)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction arrayDifference(arr, callback) {\n\treturn arrayFilter(arr, function(item, i) {\n\t\treturn !callback(item, i);\n\t});\n}\n\nfunction throttle (callback, timeout) {\n\tvar wait = false;\n\n\treturn function () {\n\t\tif (!wait) {\n\t\t\tcallback.apply(null, arguments);\n\t\t\twait = true;\n\t\t\tsetTimeout(function () {\n\t\t\t\twait = false;\n\t\t\t}, timeout);\n\t\t}\n\t};\n}\n\nfunction delay (callback, timeout){\n\tvar timer;\n\n\tvar result = function() {\n\t\tresult.$cancelTimeout();\n\t\tcallback.$pending = true;\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\ttimer = setTimeout(function(){\n\t\t\tcallback.apply(this, args);\n\t\t\tresult.$pending = false;\n\t\t}, timeout);\n\t};\n\t\n\tresult.$pending = false;\n\tresult.$cancelTimeout = function(){\n\t\tclearTimeout(timer);\n\t\tcallback.$pending = false;\n\t};\n\tresult.$execute = function(){\n\t\tcallback();\n\t\tcallback.$cancelTimeout();\n\t};\n\n\treturn result;\n}\n\nfunction sortArrayOfHash(arr, field, desc) {\n\tvar compare = function(a, b) {\n\t\treturn a < b;\n\t};\n\n\tarr.sort(function(a, b) {\n\t\tif (a[field] === b[field]) return 0;\n\n\t\treturn desc ? compare(a[field], b[field]) : compare(b[field], a[field]);\n\t});\n}\n\nfunction objectKeys(obj) {\n\tif (Object.keys) {\n\t\treturn Object.keys(obj);\n\t}\n\tvar result = [];\n\tvar key;\n\tfor (key in obj) {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\treturn result;\n}\n\nmodule.exports = {\n\tgetSecondsInUnit: getSecondsInUnit,\n\tforEach: forEach,\n\tarrayMap: arrayMap,\n\tarrayFind: arrayFind,\n\tarrayFilter: arrayFilter,\n\tarrayDifference: arrayDifference,\n\tarraySome: arraySome,\n\thashToArray: hashToArray,\n\tsortArrayOfHash: sortArrayOfHash,\n\tthrottle: throttle,\n\tisArray: isArray,\n\tisDate: isDate,\n\tisStringObject: isStringObject,\n\tisNumberObject: isNumberObject,\n\tisBooleanObject: isBooleanObject,\n\tdelay: delay,\n\tobjectKeys: objectKeys\n};","var EventHost = function(){\n\tthis._connected = [];\n\tthis._silent_mode = false;\n};\n\nEventHost.prototype = {\n\t_silentStart: function() {\n\t\tthis._silent_mode = true;\n\t},\n\t_silentEnd: function() {\n\t\tthis._silent_mode = false;\n\t}\n};\n\nvar\tcreateEventStorage = function(obj) {\n\tvar dhx_catch = [];\n\tvar z = function(){\n\t\tvar res = true;\n\t\tfor (var i = 0; i < dhx_catch.length; i++){\n\t\t\tif (dhx_catch[i]){\n\t\t\t\tvar zr = dhx_catch[i].apply(obj, arguments);\n\t\t\t\tres=res&&zr;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\tz.addEvent=function(ev){\n\t\tif (typeof (ev) == \"function\")\n\t\t\treturn dhx_catch.push(ev)-1;\n\t\treturn false;\n\t};\n\tz.removeEvent=function(id){\n\t\tdhx_catch[id]=null;\n\t};\n\treturn z;\n};\n\nfunction makeEventable(obj){\n\n\tvar eventHost = new EventHost();\n\tobj.attachEvent=function(name, catcher, callObj){\n\t\tname='ev_'+name.toLowerCase();\n\t\tif (!eventHost[name])\n\t\t\teventHost[name] = createEventStorage(callObj||this);\n\n\t\treturn(name+':'+eventHost[name].addEvent(catcher)); //return ID (event name & event ID)\n\t};\n\tobj.attachAll = function(callback, callObj){\n\t\tthis.attachEvent('listen_all', callback, callObj);\n\t};\n\n\tobj.callEvent=function(name, arg0, callObj){\n\t\tif (eventHost._silent_mode) return true;\n\n\t\tvar handlerName = 'ev_'+name.toLowerCase();\n\n\t\tif (eventHost['ev_listen_all']){\n\t\t\teventHost['ev_listen_all'].apply(callObj || this, [name].concat(arg0));\n\t\t}\n\n\t\tif (eventHost[handlerName])\n\t\t\treturn eventHost[handlerName].apply(callObj || this, arg0);\n\t\treturn true;\n\t};\n\tobj.checkEvent=function(name){\n\t\treturn (!!eventHost['ev_'+name.toLowerCase()]);\n\t};\n\tobj.detachEvent=function(id){\n\t\tif (id){\n\t\t\tvar list = id.split(':');           //get EventName and ID\n\t\t\teventHost[list[0]].removeEvent(list[1]); //remove event\n\t\t}\n\t};\n\tobj.detachAllEvents = function(){\n\t\tfor (var name in eventHost){\n\t\t\tif (name.indexOf(\"ev_\") === 0)\n\t\t\t\tdelete eventHost[name];\n\t\t}\n\t};\n\n}\n\nmodule.exports = makeEventable;","function dummy() {\n\t// eslint-disable-next-line\n\tconsole.log(\"Method is not implemented.\"); \n}\nfunction BaseControl() {\n}\n\n// base methods will be runned in gantt context\nBaseControl.prototype.render = dummy; // arguments: sns\nBaseControl.prototype.set_value = dummy; // arguments: node, value, ev, sns(config)\nBaseControl.prototype.get_value = dummy; // arguments node, ev, sns(config)\nBaseControl.prototype.focus = dummy; // arguments: node\n\nmodule.exports = function(gantt) { // we could send current instance of gantt to module\n\treturn BaseControl;\n};","var utils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\");\n\nvar Cell = (function () {\n\t\"use strict\";\n\n\tfunction Cell(parent, config, factory, gantt) {\n\t\tif (parent) {\n\t\t\tthis.$container = domHelpers.toNode(parent);\n\t\t\tthis.$parent = parent;\n\t\t}\n\t\t// save config\n\t\tthis.$config = utils.mixin(config, {\n\t\t\theaderHeight: 33\n\t\t});\n\t\tthis.$gantt = gantt;\n\t\tthis.$domEvents = gantt._createDomEventScope();\n\t\t// set id\n\t\tthis.$id = config.id || \"c\" + utils.uid();\n\n\t\tthis.$name = \"cell\";\n\t\tthis.$factory = factory;\n\n\t\teventable(this);\n\n\t}\n\n\tCell.prototype.destructor = function () {\n\t\tthis.$parent = this.$container = this.$view = null;\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.detach(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\t\tthis.$domEvents.detachAll();\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t};\n\tCell.prototype.cell = function (id) {\n\t\treturn null;\n\t};\n\n\tCell.prototype.scrollTo = function(left, top){\n\n\t\tif (left*1 == left){\n\t\t\tthis.$view.scrollLeft = left;\n\t\t}\n\t\tif(top*1 == top){\n\t\t\tthis.$view.scrollTop = top;\n\t\t}\n\t};\n\n\tCell.prototype.clear = function(){\n\t\tthis.getNode().innerHTML = \"\";\n\t\tthis.getNode().className = \"gantt_layout_content\";\n\t\tthis.getNode().style.padding = \"0\";\n\t};\n\n\tCell.prototype.resize = function (final) {\n\t\tif (this.$parent) {\n\t\t\treturn this.$parent.resize(final);\n\t\t}\n\n\t\tif(final === false){\n\t\t\tthis.$preResize = true;\n\t\t}\n\n\t\tvar topCont = this.$container;\n\t\tvar x = topCont.offsetWidth;\n\t\tvar y = topCont.offsetHeight;\n\t\tvar topSize = this.getSize();\n\t\tif (topCont === document.body) {\n\t\t\tx = document.body.offsetWidth;\n\t\t\ty = document.body.offsetHeight;\n\t\t}\n\t\tif (x < topSize.minWidth) {\n\t\t\tx = topSize.minWidth;\n\t\t}\n\t\tif (x > topSize.maxWidth) {\n\t\t\tx = topSize.maxWidth;\n\t\t}\n\t\tif (y < topSize.minHeight) {\n\t\t\ty = topSize.minHeight;\n\t\t}\n\t\tif (y > topSize.maxHeight) {\n\t\t\ty = topSize.maxHeight;\n\t\t}\n\t\tthis.setSize(x, y);\n\n\t\tif(!this.$preResize){\n\t\t//\tself.callEvent(\"onResize\", [x, y]);\n\t\t}\n\t\tthis.$preResize = false;\n\t};\n\n\tCell.prototype.hide = function () {\n\t\tthis._hide(true);\n\t\tthis.resize();\n\t};\n\tCell.prototype.show = function (force) {\n\t\tthis._hide(false);\n\t\tif (force && this.$parent) {\n\t\t\tthis.$parent.show();\n\t\t}\n\t\tthis.resize();\n\t};\n\tCell.prototype._hide = function (mode) {\n\t\tif (mode === true && this.$view.parentNode) {\n\t\t\tthis.$view.parentNode.removeChild(this.$view);\n\t\t}\n\t\telse if (mode === false && !this.$view.parentNode) {\n\t\t\tvar index = this.$parent.cellIndex(this.$id);\n\t\t\tthis.$parent.moveView(this, index);\n\t\t}\n\t\tthis.$config.hidden = mode;\n\t};\n\tCell.prototype.$toHTML = function (content, css) {\n\t\tif (content === void 0) { content = \"\"; }\n\t\tcss = [(css || \"\"), (this.$config.css || \"\")].join(\" \");\n\t\tvar obj = this.$config;\n\t\tvar header = \"\";\n\t\tif (obj.raw) {\n\t\t\tcontent = typeof obj.raw === \"string\" ? obj.raw : \"\";\n\t\t}\n\t\telse {\n\t\t\tif (!content) {\n\t\t\t\tcontent = \"<div class='gantt_layout_content' \"+(css ? \" class='\"+css+\"' \" : \"\")+\" >\" + (obj.html || \"\") + \"</div>\";\n\t\t\t}\n\t\t\tif (obj.header) {\n\t\t\t\tvar collapseIcon = obj.canCollapse ? \"<div class='gantt_layout_header_arrow'></div>\" : \"\";\n\t\t\t\theader = \"<div class='gantt_layout_header'>\" + collapseIcon + \"<div class='gantt_layout_header_content'>\" + obj.header + \"</div></div>\";\n\t\t\t}\n\t\t}\n\t\treturn \"<div class='gantt_layout_cell \" + css + \"' data-cell-id='\" + this.$id + \"'>\" + header + content + \"</div>\";\n\t};\n\tCell.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tthis.init();\n\t};\n\tCell.prototype.getNode = function () {\n\t\treturn (this.$view.querySelector(\"gantt_layout_cell\") || this.$view);\n\t};\n\tCell.prototype.init = function () {\n\t\t// [NOT-GOOD] code is executed for each component, while it still has only one handler, it is no good\n\n\t\tvar self = this;\n\n\t\tthis._headerClickHandler = function(e){\n\t\t\tvar cellId = domHelpers.locateAttribute(e, \"data-cell-id\");\n\t\t\tif(cellId == self.$id){\n\t\t\t\tself.toggle();\n\t\t\t}\n\t\t};\n\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.delegate(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\n\t\tthis.callEvent(\"onReady\", []);\n\t};\n\tCell.prototype.toggle = function () {\n\t\tthis.$config.collapsed = !this.$config.collapsed;\n\t\tthis.resize();\n\t};\n\tCell.prototype.getSize = function () {\n\t\tvar size = {\n\t\t\theight: this.$config.height || 0,\n\t\t\twidth: this.$config.width || 0,\n\t\t\tgravity: this.$config.gravity || 1,\n\t\t\tminHeight: this.$config.minHeight || 0,\n\t\t\tminWidth: this.$config.minWidth || 0,\n\t\t\tmaxHeight: this.$config.maxHeight || 100000,\n\t\t\tmaxWidth: this.$config.maxWidth || 100000\n\t\t};\n\t\tif (this.$config.collapsed) {\n\t\t\tvar mode = this.$config.mode === \"x\";\n\t\t\tsize[mode ? \"width\" : \"height\"] = size[mode ? \"maxWidth\" : \"maxHeight\"] = this.$config.headerHeight;\n\t\t}\n\t\treturn size;\n\t};\n\n\tCell.prototype.getContentSize = function(){\n\n\t\tvar width = this.$lastSize.contentX;\n\t\tif(width !== width*1){\n\t\t\twidth = this.$lastSize.width;\n\t\t}\n\n\t\tvar height = this.$lastSize.contentY;\n\t\tif(height !== height*1){\n\t\t\theight = this.$lastSize.height;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t};\n\n\tCell.prototype._getBorderSizes = function(){\n\t\tvar borders = {\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\thorizontal: 0,\n\t\t\tvertical: 0\n\t\t};\n\t\tif(this._currentBorders){\n\t\t\tif(this._currentBorders[this._borders.left]){\n\t\t\t\tborders.left = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.right]){\n\t\t\t\tborders.right = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.top]){\n\t\t\t\tborders.top = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.bottom]){\n\t\t\t\tborders.bottom = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\t\t}\n\n\t\treturn borders;\n\n\t};\n\n\tCell.prototype.setSize = function (x, y) {\n\t\tthis.$view.style.width = x + \"px\";\n\t\tthis.$view.style.height = y + \"px\";\n\n\t\tvar borders = this._getBorderSizes();\n\t\tvar contentY = y - borders.vertical;\n\t\tvar contentX = x - borders.horizontal;\n\n\t\tthis.$lastSize = { x: x, y: y, contentX: contentX, contentY: contentY };\n\t\tif (this.$config.header) {\n\t\t\tthis._sizeHeader();\n\t\t}else{\n\t\t\tthis._sizeContent();\n\t\t}\n\t};\n\n\tCell.prototype._borders = {\n\t\t\"left\":\"gantt_layout_cell_border_left\",\n\t\t\"right\":\"gantt_layout_cell_border_right\",\n\t\t\"top\":\"gantt_layout_cell_border_top\",\n\t\t\"bottom\":\"gantt_layout_cell_border_bottom\"\n\t};\n\n\tCell.prototype._setBorders = function(css, view){\n\t\tif(!view) {\n\t\t\tview = this;\n\t\t}\n\t\tvar node = view.$view;\n\n\t\tfor( var i in this._borders){\n\t\t\tdomHelpers.removeClassName(node, this._borders[i]);\n\t\t}\n\n\t\tif(typeof css == \"string\"){\n\t\t\tcss = [css];\n\t\t}\n\n\t\tvar cssHash = {};\n\n\t\tfor(var i = 0; i < css.length; i++){\n\t\t\tdomHelpers.addClassName(node, css[i]);\n\t\t\tcssHash[css[i]] = true;\n\t\t}\n\n\t\tview._currentBorders = cssHash;\n\t};\n\n\n\tCell.prototype._sizeContent = function(){\n\t\tvar content = this.$view.childNodes[0];\n\t\tif(content && content.className == \"gantt_layout_content\"){\n\t\t\tcontent.style.height = this.$lastSize.contentY + \"px\";\n\t\t}\n\t};\n\n\tCell.prototype._sizeHeader = function () {\n\t\tvar size = this.$lastSize;\n\t\tsize.contentY -= this.$config.headerHeight;\n\t\tvar header = this.$view.childNodes[0];\n\t\tvar content = this.$view.childNodes[1];\n\t\tvar xLayout = this.$config.mode === \"x\";\n\t\tif (this.$config.collapsed) {\n\t\t\tcontent.style.display = \"none\";\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_x\";\n\t\t\t\theader.style.width = size.y + \"px\";\n\t\t\t\tvar d = Math.floor(size.y / 2 - size.x / 2);\n\t\t\t\theader.style.transform = \"rotate(90deg) translate(\" + d + \"px, \" + d + \"px)\";\n\t\t\t\tcontent.style.display = \"none\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_y\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header vertical\";\n\t\t\t}\n\t\t\theader.style.width = 'auto';\n\t\t\theader.style.transform = '';\n\t\t\tcontent.style.display = \"\";\n\t\t\tcontent.style.height = size.contentY + \"px\";\n\t\t}\n\t\theader.style.height = this.$config.headerHeight + \"px\";\n\t};\n\treturn Cell;\n}());\n\nmodule.exports = Cell;\n","module.exports = function (gantt) {\n\n\tvar BaseEditor = function () {\n\t};\n\n\tBaseEditor.prototype = {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = value;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar currentValue = this.get_value(id, column, node);\n\t\t\tif (currentValue && value && currentValue.valueOf && value.valueOf) {\n\t\t\t\treturn currentValue.valueOf() != value.valueOf();\n\t\t\t} else {\n\t\t\t\treturn currentValue != value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn true;\n\t\t},\n\n\t\tsave: function (id, column, node) {\n\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"input\");\n\t\t},\n\t\tfocus: function (node) {\n\t\t\tvar input = this.get_input(node);\n\t\t\tif (!input) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (input.focus) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\n\t\t\tif (input.select) {\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t};\n\treturn BaseEditor;\n};","var env = {\n\tisIE: (navigator.userAgent.indexOf(\"MSIE\") >= 0 || navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisIE6: (!window.XMLHttpRequest && navigator.userAgent.indexOf(\"MSIE\") >= 0),\n\tisIE7: (navigator.userAgent.indexOf(\"MSIE 7.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") < 0),\n\tisIE8: (navigator.userAgent.indexOf(\"MSIE 8.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisOpera: (navigator.userAgent.indexOf(\"Opera\") >= 0),\n\tisChrome: (navigator.userAgent.indexOf(\"Chrome\") >= 0),\n\tisKHTML: (navigator.userAgent.indexOf(\"Safari\") >= 0 || navigator.userAgent.indexOf(\"Konqueror\") >= 0),\n\tisFF: (navigator.userAgent.indexOf(\"Firefox\") >= 0),\n\tisIPad: (navigator.userAgent.search(/iPad/gi) >= 0),\n\tisEdge: (navigator.userAgent.indexOf(\"Edge\")!=-1)\n};\n\nmodule.exports = env;","var helpers = require(\"./helpers\");\n\nvar htmlHelpers = {\n\tgetHtmlSelect: function(options, attributes, value) {\n\t\tvar innerHTML = \"\";\n\t\tvar _this = this;\n\n\t\toptions = options || [];\n\t\t\n\t\thelpers.forEach(options, function(entry) {\n\t\t\tvar _attributes = [{ key: \"value\", value: entry.key }];\n\n\t\t\tif (value == entry.key) {\n\t\t\t\t_attributes[_attributes.length] = { key: \"selected\", value: \"selected\" };\n\t\t\t}\n\t\t\tif (entry.attributes) {\n\t\t\t\t_attributes = _attributes.concat(entry.attributes);\n\t\t\t}\n\t\t\tinnerHTML += _this.getHtmlOption({ innerHTML: entry.label }, _attributes);\n\t\t});\n\n\t\treturn _getHtmlContainer(\"select\", { innerHTML: innerHTML }, attributes);\n\t},\n\tgetHtmlOption: function(options, attributes) { return _getHtmlContainer(\"option\", options, attributes); },\n\tgetHtmlButton: function(options, attributes) { return _getHtmlContainer(\"button\", options, attributes); },\n\tgetHtmlDiv: function(options, attributes) { return _getHtmlContainer(\"div\", options, attributes); },\n\tgetHtmlLabel: function(options, attributes) { return _getHtmlContainer(\"label\", options, attributes); },\n\tgetHtmlInput: function(attributes) {\n\t\treturn \"<input\" + _getHtmlAttributes(attributes || []) + \">\";\n\t}\n};\n\nfunction _getHtmlContainer(tag, options, attributes) {\n\tvar html;\n\n\toptions = options || [];\n\t\n\thtml = \"<\" + tag + _getHtmlAttributes(attributes || []) + \">\" + (options.innerHTML || \"\") + \"</\" + tag +\">\";\n\treturn html;\n\n}\n\nfunction _getHtmlAttributes(attributes) {\n\tvar html = \"\";\n\n\thelpers.forEach(attributes, function(entry) {\n\t\thtml += \" \" + entry.key + \"='\" + entry.value + \"'\";\n\t});\n\treturn html;\n}\n\nmodule.exports = htmlHelpers;","var __extends = require(\"../../../utils/extends\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction SelectControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\n\t\treturn self; \n\t}\n\t\n\t__extends(SelectControl, _super);\n\t\n\tSelectControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\thtml += htmlHelpers.getHtmlSelect(sns.options, [{ key: \"style\", value: \"width:100%;\" }]);\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tSelectControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar select = node.firstChild;\n\t\tif (!select._dhx_onchange && sns.onchange) {\n\t\t\tselect.onchange = sns.onchange;\n\t\t\tselect._dhx_onchange = true;\n\t\t}\n\t\tif (typeof value === \"undefined\")\n\t\t\tvalue = (select.options[0] || {}).value;\n\t\tselect.value = value || \"\";\n\t};\n\t\n\tSelectControl.prototype.get_value = function(node) {\n\t\treturn node.firstChild.value;\n\t};\n\t\n\tSelectControl.prototype.focus = function(node) {\n\t\tvar a = node.firstChild;\n\t\tgantt._focus(a, true);\n\t};\n\t\n\treturn SelectControl;\n};","/**\n * The state object for order branch drag and drop\n */\n\nvar utils = require(\"../../../../utils/utils\");\n\nmodule.exports = {\n\tcreateDropTargetObject: function createDropTargetObject(parent) {\n\t\tvar res = {\n\t\t\ttargetParent: null,\n\t\t\ttargetIndex: 0,\n\t\t\ttargetId: null,\n\t\t\tchild: false,\n\t\t\tnextSibling: false,\n\t\t\tprevSibling: false\n\t\t};\n\n\t\tif (parent) {\n\t\t\tutils.mixin(res, parent, true);\n\t\t}\n\t\treturn res;\n\t},\n\tnextSiblingTarget: function nextSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.nextSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) == result.targetParent && result.targetIndex < store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex += 1;\n\t\t}\n\t\treturn result;\n\t},\n\tprevSiblingTarget: function prevSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.prevSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) == result.targetParent && result.targetIndex > store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex -= 1;\n\t\t}\n\t\treturn result;\n\t},\n\tfirstChildTarget: function firstChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.targetParent = result.targetId;\n\t\tresult.targetIndex = 0;\n\t\tresult.child = true;\n\t\treturn result;\n\t},\n\tlastChildTarget: function lastChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar children = store.getChildren(targetTaskId);\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = children[children.length - 1];\n\t\tresult.targetParent = targetTaskId;\n\t\tresult.targetIndex = children.length;\n\t\tresult.nextSibling = true;\n\t\treturn result;\n\t}\n};","var helpers = require(\"../../utils/helpers\");\n\nfunction clearTaskStoreHandler(self){\n\tvar tasks = self.$gantt.$data.tasksStore;\n\tvar ownStore = self.$config.rowStore;\n\n\tvar handlerIdProperty = \"_attached_\" + ownStore.name;\n\tif (self[handlerIdProperty]) {\n\t\ttasks.detachEvent(self[handlerIdProperty]);\n\t\tself[handlerIdProperty] = null;\n\t}\n\n\tif (ownStore.$attachedResourceViewHandler) {\n\t\townStore.detachEvent(ownStore.$attachedResourceViewHandler);\n\t\townStore.$attachedResourceViewHandler = null;\n\t}\n}\n\nfunction createMixin(_super){\n\n\tvar initGrid = _super.prototype.init,\n\t\tdestroyGrid = _super.prototype.destructor;\n\n\treturn {\n\t\tinit: function() {\n\t\t\tinitGrid.apply(this, arguments);\n\t\t\tthis._linkToTaskStore();\n\t\t},\n\n\t\tdestructor: function() {\n\t\t\tclearTaskStoreHandler(this);\n\t\t\tdestroyGrid.apply(this, arguments);\n\t\t},\n\n\t\t_linkToTaskStore: function () {\n\t\t\tif (this.$config.rowStore && this.$gantt.$data.tasksStore) {\n\t\t\t\tvar tasks = this.$gantt.$data.tasksStore;\n\t\t\t\tvar ownStore = this.$config.rowStore;\n\t\t\t\tclearTaskStoreHandler(this);\n\n\t\t\t\tvar self = this;\n\t\t\t\tvar delayRender = helpers.delay(function() {\n\t\t\t\t\tif (self.$gantt.getState().lightbox) {\n\t\t\t\t\t\tdelayRender();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// because rowstore could be changed during timeout\n\t\t\t\t\t\tself.$config.rowStore.refresh();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\n\t\t\t\tvar handlerIdProperty = \"_attached_\" + ownStore.name;\n\n\t\t\t\tif (!tasks.$attachedResourceViewHandler) {\n\t\t\t\t\ttasks.$attachedResourceViewHandler = true;\n\t\t\t\t\tself[handlerIdProperty] = tasks.attachEvent(\"onStoreUpdated\", delayRender);\n\t\t\t\t}\n\n\t\t\t\tthis.$gantt.attachEvent(\"onDestroy\", function() {\n\t\t\t\t\t// detach events to don't call delayed tasks\n\t\t\t\t\tclearTaskStoreHandler(self);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\n\t\t\t\tif (!ownStore.$attachedResourceViewHandler) {\n\t\t\t\t\townStore.$attachedResourceViewHandler = ownStore.attachEvent(\"onBeforeStoreUpdate\", function() {\n\t\t\t\t\t\tif (self.$gantt.getState().lightbox) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (delayRender.$pending) {\n\t\t\t\t\t\t\tdelayRender.$cancelTimeout();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._updateNestedTasks();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_updateNestedTasks: function(){\n\t\t\tvar gantt = this.$gantt;\n\t\t\tvar resourceStore = gantt.getDatastore(gantt.config.resource_store);\n\t\t\tif (!resourceStore.$config.fetchTasks) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar resourceProperty = gantt.config.resource_property;\n\n\t\t\tresourceStore.silent(function(){\n\t\t\t\tvar toAddArray = [];\n\t\t\t\tvar toAdd = {};\n\t\t\t\tvar toDelete = {};\n\n\t\t\t\tresourceStore.eachItem(function(resource){\n\t\t\t\t\tif (resource.$role == \"task\") {\n\t\t\t\t\t\ttoDelete[resource.id] = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar tasks = gantt.getTaskBy(resourceProperty, resource.id);\n\t\t\t\t\ttasks.forEach(function(task) {\n\t\t\t\t\t\tvar copy = gantt.copy(task);\n\t\t\t\t\t\tcopy.id = task.id + '_' + resource.id;\n\n\t\t\t\t\t\tcopy.$task_id = task.id;\n\t\t\t\t\t\tcopy.$resource_id = resource.id;\n\t\t\t\t\t\tcopy[resourceStore.$parentProperty] = resource.id;\n\t\t\t\t\t\tcopy.$role = \"task\";\n\t\t\t\t\t\ttoAddArray.push(copy);\n\t\t\t\t\t\ttoAdd[copy.id] = true;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tfor (var id in toDelete) {\n\t\t\t\t\tif (!toAdd[id]) {\n\t\t\t\t\t\tresourceStore.removeItem(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresourceStore.parse(toAddArray);\n\t\t\t});\n\t\t}\n\t};\n}\n\nmodule.exports = createMixin;","function create(gantt){\n\tvar events = [];\n\n\treturn {\n\t\tdelegate:function(event, className, handler, root) {\n\t\t\tevents.push([event, className, handler, root]);\n\n\t\t\tvar helper = gantt.$services.getService(\"mouseEvents\");\n\t\t\thelper.delegate(event, className, handler, root);\n\t\t},\n\t\tdestructor: function(){\n\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\tfor(var i = 0; i < events.length; i++){\n\t\t\t\tvar h = events[i];\n\t\t\t\tmouseEvents.detach(h[0], h[1], h[2], h[3]);\n\t\t\t}\n\t\t\tevents = [];\n\t\t}\n\t};\n}\n\nmodule.exports = create;","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tgridResize = require(\"./grid_resize\"),\n\ttopPositionMixin = require(\"../row_position_mixin\");\n\nvar Grid = function (parent, config, factory, gantt) {\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$gantt = gantt;\n\tthis.$parent = parent;\n\teventable(this);\n\tthis.$state = {};\n};\n\n\nGrid.prototype = {\n\tinit: function (container) {\n\t\tvar gantt = this.$gantt;\n\t\tvar gridAriaAttr = gantt._waiAria.gridAttrString();\n\t\tvar gridDataAriaAttr = gantt._waiAria.gridDataAttrString();\n\n\n\t\tcontainer.innerHTML = \"<div class='gantt_grid' style='height:inherit;width:inherit;' \" + gridAriaAttr + \"></div>\";\n\t\tthis.$grid = container.childNodes[0];\n\n\t\tthis.$grid.innerHTML = \"<div class='gantt_grid_scale' \" +\n\t\t\tgantt._waiAria.gridScaleRowAttrString() + \"></div><div class='gantt_grid_data' \" + gridDataAriaAttr + \"></div>\";\n\n\t\tthis.$grid_scale = this.$grid.childNodes[0];\n\t\tthis.$grid_data = this.$grid.childNodes[1];\n\n\t\tvar attr = this.$getConfig()[this.$config.bind + \"_attribute\"];\n\t\tif (!attr && this.$config.bind) {\n\t\t\tattr = this.$config.bind + \"_id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\n\t\tif (!this.$config.layers) {\n\t\t\tvar layers = this._createLayerConfig();\n\t\t\tthis.$config.layers = layers;\n\t\t}\n\n\t\tvar resizer = gridResize(gantt, this);\n\t\tresizer.init();\n\t\tthis._renderHeaderResizers = resizer.doOnRender;\n\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\n\t\tthis._addLayers(this.$gantt);\n\t\tthis._initEvents();\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t},\n\n\t_validateColumnWidth: function (column, property) {\n\t\t// user can set {name:\"text\", width:\"200\",...} for some reason,\n\t\t// check and convert it to number when possible\n\t\tvar value = column[property];\n\t\tif (value && value != \"*\") {\n\t\t\tvar gantt = this.$gantt;\n\t\t\tvar numericWidth = value * 1;\n\t\t\tif (isNaN(numericWidth)) {\n\t\t\t\tgantt.assert(false, \"Wrong \" + property + \" value of column \" + column.name);\n\t\t\t} else {\n\t\t\t\tcolumn[property] = numericWidth;\n\t\t\t}\n\t\t}\n\t},\n\n\tsetSize: function (width, height) {\n\t\tthis.$config.width = this.$state.width = width;\n\t\tthis.$state.height = height;\n\n\t\t// TODO: maybe inherit and override in a subclass instead of extending here\n\n\t\tvar columns = this.getGridColumns(),\n\t\t\tinnerWidth = 0;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tthis._validateColumnWidth(columns[i], \"min_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"max_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"width\");\n\n\t\t\tinnerWidth += columns[i].width * 1;\n\t\t}\n\n\t\tvar outerWidth;\n\t\tif (isNaN(innerWidth) || !this.$config.scrollable) {\n\t\t\touterWidth = this._setColumnsWidth(width + 1);\n\t\t\tinnerWidth = outerWidth;\n\t\t}\n\n\t\tif (this.$config.scrollable) {\n\t\t\tthis.$grid_scale.style.width = innerWidth + \"px\";\n\t\t\tthis.$grid_data.style.width = innerWidth + \"px\";\n\t\t} else {\n\t\t\tthis.$grid_scale.style.width = \"inherit\";\n\t\t\tthis.$grid_data.style.width = \"inherit\";\n\t\t}\n\t\tthis.$config.width -= 1;\n\n\t\tvar config = this.$getConfig();\n\t\tif (outerWidth !== width) {\n\t\t\tconfig.grid_width = outerWidth;\n\t\t\tthis.$config.width = outerWidth - 1;\n\t\t}\n\n\t\tvar dataHeight = Math.max(this.$state.height - config.scale_height, 0);\n\t\tthis.$grid_data.style.height = dataHeight + \"px\";\n\t\tthis.refresh();\n\t},\n\tgetSize: function () {\n\n\t\tvar config = this.$getConfig();\n\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? config.row_height * store.countVisible() : 0,\n\t\t\tcontentWidth = this._getGridWidth();\n\n\t\tvar size = {\n\t\t\tx: this.$state.width,\n\t\t\ty: this.$state.height,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\n\t\treturn size;\n\t},\n\trefresh: function () {\n\n\t\tif (this.$config.bind)\n\t\t\tthis.$config.rowStore = this.$gantt.getDatastore(this.$config.bind);\n\n\t\tthis._initSmartRenderingPlaceholder();\n\n\t\tthis._calculateGridWidth();\n\t\tthis._renderGridHeader();\n\t},\n\tscrollTo: function (left, top) {\n\t\tif (!this.isVisible())\n\t\t\treturn;\n\n\t\tif (left * 1 == left) {\n\t\t\tthis.$state.scrollLeft = this.$grid.scrollLeft = left;\n\t\t}\n\n\t\t// var config = this.$getConfig();\n\t\tif (top * 1 == top) {\n\t\t\tthis.$state.scrollTop = this.$grid_data.scrollTop = top;\n\t\t}\n\t},\n\n\tgetColumnIndex: function (name) {\n\t\tvar columns = this.$getConfig().columns;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (columns[i].name == name) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetColumn: function (name) {\n\t\tvar index = this.getColumnIndex(name);\n\t\tif (index === null) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.$getConfig().columns[index];\n\t},\n\n\tgetGridColumns: function () {\n\t\tvar config = this.$getConfig();\n\t\treturn config.columns.slice();\n\t},\n\tisVisible: function () {\n\t\tif (this.$parent && this.$parent.$config) {\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t} else {\n\t\t\treturn this.$grid.offsetWidth;\n\t\t}\n\t},\n\n\tgetItemHeight: function () {\n\t\tvar config = this.$getConfig();\n\t\treturn config.row_height;\n\t},\n\n\t_createLayerConfig: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar self = this;\n\t\tvar layers = [\n\t\t\t{\n\t\t\t\trenderer: gantt.$ui.layers.gridLine,\n\t\t\t\tcontainer: this.$grid_data,\n\t\t\t\tfilter: [function () {\n\t\t\t\t\treturn self.isVisible();\n\t\t\t\t}]\n\t\t\t}\n\t\t];\n\t\treturn layers;\n\t},\n\n\t_addLayers: function (gantt) {\n\t\tif (!this.$config.bind)\n\t\t\treturn;\n\n\t\tthis._taskLayers = [];\n\n\t\tvar self = this;\n\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\tif (!taskRenderer) {\n\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\tname: this.$config.bind,\n\t\t\t\tdefaultContainer: function () { return self.$grid_data; }\n\t\t\t});\n\t\t}\n\n\t\tvar taskLayers = this.$config.layers;\n\t\tfor (var i = 0; taskLayers && i < taskLayers.length; i++) {\n\t\t\tvar layer = taskLayers[i];\n\t\t\tlayer.host = this;\n\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\tthis._taskLayers.push(bar_layer);\n\t\t}\n\n\t\tif (this.$config.bind)\n\t\t\tthis.$config.rowStore = this.$gantt.getDatastore(this.$config.bind);\n\n\t\tthis._initSmartRenderingPlaceholder();\n\t},\n\n\t_refreshPlaceholderOnStoreUpdate: function (id) {\n\t\tvar config = this.$getConfig(),\n\t\t\tstore = this.$config.rowStore;\n\n\t\tif (!store || id !== null || !this.isVisible() || !config.smart_rendering) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar contentHeight;\n\t\tif (this.$config.scrollY) {\n\t\t\tvar scroll = this.$gantt.$ui.getView(this.$config.scrollY);\n\t\t\tif (scroll)\n\t\t\t\tcontentHeight = scroll.getScrollState().scrollSize;\n\t\t}\n\n\t\tif (!contentHeight) {\n\t\t\tcontentHeight = store ? config.row_height * store.countVisible() : 0;\n\t\t}\n\n\t\tif (contentHeight) {\n\t\t\tif (this.$rowsPlaceholder && this.$rowsPlaceholder.parentNode) {\n\t\t\t\tthis.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);\n\t\t\t}\n\n\t\t\tvar placeholder = this.$rowsPlaceholder = document.createElement(\"div\");\n\t\t\tplaceholder.style.visibility = \"hidden\";\n\t\t\tplaceholder.style.height = contentHeight + \"px\";\n\t\t\tplaceholder.style.width = \"1px\";\n\t\t\tthis.$grid_data.appendChild(placeholder);\n\t\t}\n\t},\n\n\t_initSmartRenderingPlaceholder: function () {\n\t\tvar store = this.$config.rowStore;\n\t\tif (!store) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis._initSmartRenderingPlaceholder = function () { };\n\t\t}\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", utils.bind(this._refreshPlaceholderOnStoreUpdate, this));\n\t},\n\n\t_initEvents: function () {\n\t\tvar gantt = this.$gantt;\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_close\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.close(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_open\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.open(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\t},\n\n\t_clearLayers: function (gantt) {\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor (var i = 0; i < this._taskLayers.length; i++) {\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._taskLayers = [];\n\t},\n\n\t_getColumnWidth: function (column, config, width) {\n\t\tvar min_width = column.min_width || config.min_grid_column_width;\n\t\tvar new_width = Math.max(width, min_width || 10);\n\t\tif (column.max_width)\n\t\t\tnew_width = Math.min(new_width, column.max_width);\n\t\treturn new_width;\n\t},\n\t// return min and max possible grid width according to restricts\n\t_getGridWidthLimits: function () {\n\t\tvar config = this.$getConfig(),\n\t\t\tcolumns = this.getGridColumns(),\n\t\t\tmin_limit = 0,\n\t\t\tmax_limit = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tmin_limit += columns[i].min_width ? columns[i].min_width : config.min_grid_column_width;\n\t\t\tif (max_limit !== undefined) {\n\t\t\t\tmax_limit = columns[i].max_width ? (max_limit + columns[i].max_width) : undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn [min_limit, max_limit];\n\t},\n\t// resize columns to get total newWidth, starting from columns[start_index]\n\t_setColumnsWidth: function (newWidth, start_index) {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns(),\n\t\t\tcolumns_width = 0,\n\t\t\tfinal_width = newWidth;\n\n\t\tstart_index = !window.isNaN(start_index) ? start_index : -1;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tcolumns_width += columns[i].width * 1;\n\t\t}\n\n\t\tif (window.isNaN(columns_width)) {\n\t\t\tthis._calculateGridWidth();\n\t\t\tcolumns_width = 0;\n\t\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\t\tcolumns_width += columns[i].width * 1;\n\t\t\t}\n\t\t}\n\n\t\tvar extra_width = final_width - columns_width;\n\n\t\tvar start_width = 0;\n\t\tfor (var i = 0; i < start_index + 1; i++) {\n\t\t\tstart_width += columns[i].width;\n\t\t}\n\n\t\tcolumns_width -= start_width;\n\n\t\tfor (var i = start_index + 1; i < columns.length; i++) {\n\n\t\t\tvar col = columns[i];\n\t\t\tvar share = Math.round(extra_width * (col.width / columns_width));\n\n\t\t\t// columns have 2 additional restrict fields - min_width & max_width that are set by user\n\t\t\tif (extra_width < 0) {\n\t\t\t\tif (col.min_width && col.width + share < col.min_width)\n\t\t\t\t\tshare = col.min_width - col.width;\n\t\t\t\telse if (!col.min_width && config.min_grid_column_width && col.width + share < config.min_grid_column_width)\n\t\t\t\t\tshare = config.min_grid_column_width - col.width;\n\t\t\t} else if (col.max_width && col.width + share > col.max_width)\n\t\t\t\tshare = col.max_width - col.width;\n\n\t\t\tcolumns_width -= col.width;\n\t\t\tcol.width += share;\n\t\t\textra_width -= share;\n\n\t\t}\n\n\t\tvar iterator = extra_width > 0 ? 1 : -1;\n\t\twhile ((extra_width > 0 && iterator === 1) || (extra_width < 0 && iterator === -1)) {\n\t\t\tvar curExtra = extra_width;\n\t\t\tfor (i = start_index + 1; i < columns.length; i++) {\n\t\t\t\tvar new_width = columns[i].width + iterator;\n\n\t\t\t\tif (new_width == this._getColumnWidth(columns[i], config, new_width)) {\n\t\t\t\t\textra_width -= iterator;\n\t\t\t\t\tcolumns[i].width = new_width;\n\t\t\t\t}\n\n\t\t\t\tif (!extra_width)\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif (curExtra == extra_width)\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// if impossible to resize the right-side columns, resize the start column\n\t\tif (extra_width && start_index > -1) {\n\t\t\tvar new_width = columns[start_index].width + extra_width;\n\t\t\tif (new_width == this._getColumnWidth(columns[start_index], config, new_width))\n\t\t\t\tcolumns[start_index].width = new_width;\n\t\t}\n\n\t\t//if (this.callEvent(\"onGridResizeEnd\", [config.grid_width, final_width]) === false)\n\t\t//\treturn;\n\n\t\treturn this._getColsTotalWidth();\n\t},\n\n\t_getColsTotalWidth: function () {\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcols_width += v;\n\t\t}\n\t\treturn cols_width;\n\t},\n\t_calculateGridWidth: function () {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\t\tvar unknown = [];\n\t\tvar width = [];\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\tv = config.min_grid_column_width || 10;\n\t\t\t\tunknown.push(i);\n\t\t\t}\n\t\t\twidth[i] = v;\n\t\t\tcols_width += v;\n\t\t}\n\t\tvar gridWidth = this._getGridWidth() + 1;\n\t\tif (config.autofit || unknown.length) {\n\t\t\tvar diff = gridWidth - cols_width;\n\t\t\t// TODO: logic may be improved for proportional changing of width\n\t\t\tif (config.autofit) {\n\t\t\t\t// delta must be added for all columns\n\t\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (width.length - i));\n\t\t\t\t\twidth[i] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[i], config, width[i]);\n\n\t\t\t\t\tif (new_width != width[i]) {\n\t\t\t\t\t\tdelta = new_width - width[i];\n\t\t\t\t\t\twidth[i] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t} else if (unknown.length) {\n\t\t\t\t// there are several columns with undefined width\n\t\t\t\tfor (var i = 0; i < unknown.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (unknown.length - i)); // no float values, just integer\n\t\t\t\t\tvar index = unknown[i];\n\t\t\t\t\twidth[index] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[index], config, width[index]);\n\t\t\t\t\tif (new_width != width[index]) {\n\t\t\t\t\t\tdelta = new_width - width[index];\n\t\t\t\t\t\twidth[index] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\tcolumns[i].width = width[i];\n\t\t\t}\n\t\t} else {\n\t\t\tvar changed = (gridWidth != cols_width);\n\t\t\tthis.$config.width = cols_width - 1;\n\t\t\tconfig.grid_width = cols_width;\n\t\t\tif (changed) {\n\t\t\t\tthis.$parent._setContentSize(this.$config.width, this.$config.height);\n\t\t\t\t//\t\t\t\tthis.$parent.$config.width = cols_width;\n\t\t\t}\n\t\t}\n\n\t},\n\n\t_renderGridHeader: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar config = this.$getConfig();\n\t\tvar locale = this.$gantt.locale;\n\t\tvar templates = this.$gantt.templates;\n\n\t\tvar columns = this.getGridColumns();\n\t\tif (config.rtl) {\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\t\tvar cells = [];\n\t\tvar width = 0,\n\t\t\tlabels = locale.labels;\n\n\t\tvar lineHeigth = config.scale_height - 1;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\n\t\t\t// ensure columns have non-empty names\n\t\t\tif (!col.name) {\n\t\t\t\tcol.name = gantt.uid() + \"\";\n\t\t\t}\n\n\t\t\tvar colWidth = col.width * 1;\n\n\t\t\tvar gridWidth = this._getGridWidth();\n\t\t\tif (last && gridWidth > width + colWidth)\n\t\t\t\tcol.width = colWidth = gridWidth - width;\n\t\t\twidth += colWidth;\n\t\t\tvar sort = (gantt._sort && col.name == gantt._sort.name) ? (\"<div class='gantt_sort gantt_\" + gantt._sort.direction + \"'></div>\") : \"\";\n\t\t\tvar cssClass = [\"gantt_grid_head_cell\",\n\t\t\t\t(\"gantt_grid_head_\" + col.name),\n\t\t\t\t(last ? \"gantt_last_cell\" : \"\"),\n\t\t\t\ttemplates.grid_header_class(col.name, col)].join(\" \");\n\n\t\t\tvar style = \"width:\" + (colWidth - (last ? 1 : 0)) + \"px;\";\n\t\t\tvar label = (col.label || labels[\"column_\" + col.name] || labels[col.name]);\n\t\t\tlabel = label || \"\";\n\n\t\t\tvar ariaAttrs = gantt._waiAria.gridScaleCellAttrString(col, label);\n\n\t\t\tvar cell = \"<div class='\" + cssClass + \"' style='\" + style + \"' \" + ariaAttrs + \" data-column-id='\" + col.name + \"' column_id='\" + col.name + \"'>\" + label + sort + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tthis.$grid_scale.style.height = (config.scale_height) + \"px\";\n\t\tthis.$grid_scale.style.lineHeight = lineHeigth + \"px\";\n\t\t//this.$grid_scale.style.width = \"inherit\";\n\t\tthis.$grid_scale.innerHTML = cells.join(\"\");\n\n\t\tif (this._renderHeaderResizers) {\n\t\t\tthis._renderHeaderResizers();\n\t\t}\n\t},\n\n\t_getGridWidth: function () {\n\t\t// TODO: refactor/remove/comment some of _getGridWidth/this.$config.width/this.$state.width, it's not clear what they do\n\t\treturn this.$config.width;\n\t},\n\n\tdestructor: function () {\n\t\tthis._clearLayers(this.$gantt);\n\t\tif (this._mouseDelegates) {\n\t\t\tthis._mouseDelegates.destructor();\n\t\t\tthis._mouseDelegates = null;\n\t\t}\n\t\tthis.$grid = null;\n\t\tthis.$grid_scale = null;\n\t\tthis.$grid_data = null;\n\t\tthis.$gantt = null;\n\n\t\tif (this.$config.rowStore) {\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t}\n};\n\nutils.mixin(Grid.prototype, topPositionMixin());\n\nmodule.exports = Grid;\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","var utils = require(\"../../utils/utils\");\nvar helpers = require(\"../../utils/helpers\");\n\n\nfunction IsWorkTimeArgument(date, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction ClosestWorkTimeArgument(date, dir, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.dir = dir;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar){\n\tthis.start_date = start_date;\n\tthis.duration = duration;\n\tthis.unit = unit;\n\tthis.step = step;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction GetDurationArgument(start, end, task, calendar) {\n\tthis.start_date = start;\n\tthis.end_date = end;\n\tthis.task = task;\n\tthis.calendar = calendar;\n\tthis.unit = null;\n\tthis.step = null;\n\treturn this;\n}\n\nvar calendarArgumentsHelper = function(gantt){\n\treturn {\n\t\tgetWorkHoursArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tconfig = {\n\t\t\t\t\tdate: config\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconfig = utils.mixin({}, config);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\tsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tunsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tisWorkTimeArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif(config instanceof IsWorkTimeArgument){\n\t\t\t\treturn config;\n\t\t\t}\n\n\t\t\tvar processedConfig;\n\t\t\tif (!config.date) {\n\t\t\t\t//IsWorkTimeArgument(date, unit, task, id, calendar)\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(arguments[0], arguments[1], arguments[2], null, arguments[3]);\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(config.date, config.unit, config.task, null, config.calendar);\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\n\t\t\treturn processedConfig;\n\t\t},\n\t\tgetClosestWorkTimeArguments: function (arg) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof ClosestWorkTimeArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(config);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(\n\t\t\t\t\tconfig.date,\n\t\t\t\t\tconfig.dir,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\t\t\t}\n\t\t\tprocessedConfig.dir = config.dir || 'any';\n\t\t\tprocessedConfig.unit = config.unit || gantt.config.duration_unit;\n\n\t\t\treturn processedConfig;\n\t\t},\n\n\t\t_getStartEndConfig: function (param) {\n\t\t\tvar argumentType = GetDurationArgument;\n\t\t\tvar config;\n\t\t\tif (param instanceof argumentType)\n\t\t\t\treturn param;\n\n\t\t\tif (helpers.isDate(param)) {\n\t\t\t\tconfig = new argumentType(arguments[0], arguments[1], arguments[2], arguments[3]);\n\t\t\t} else {\n\t\t\t\tconfig = new argumentType(param.start_date, param.end_date, param.task);\n\t\t\t\tif (param.id) {\n\t\t\t\t\tconfig.task = param;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconfig.unit = config.unit || gantt.config.duration_unit;\n\t\t\tconfig.step = config.step || gantt.config.duration_step;\n\t\t\tconfig.start_date = config.start_date || config.start || config.date;\n\n\t\t\treturn config;\n\t\t},\n\n\t\tgetDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\thasDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\tcalculateEndDateArguments: function (start, duration, unit, step) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof CalculateEndDateArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\t//CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar)\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\targuments[0],\n\t\t\t\t\targuments[1],\n\t\t\t\t\targuments[2],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[3],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[4]\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\tconfig.start_date,\n\t\t\t\t\tconfig.duration,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.step,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\t\t\tprocessedConfig.step = processedConfig.step || gantt.config.duration_step;\n\n\t\t\treturn processedConfig;\n\t\t}\n\t};\n};\n\n\nmodule.exports = calendarArgumentsHelper;","function copyLinkIdsArray(gantt, linkIds, targetHash){\n\tfor(var i = 0; i < linkIds.length; i++) {\n\t\tif(gantt.isLinkExists(linkIds[i])){\n\t\t\ttargetHash[linkIds[i]] = gantt.getLink(linkIds[i]);\n\t\t}\n\t}\n}\n\nfunction copyLinkIds(gantt, task, targetHash){\n\tcopyLinkIdsArray(gantt, task.$source, targetHash);\n\tcopyLinkIdsArray(gantt, task.$target, targetHash);\n}\n\nfunction getSubtreeLinks(gantt, rootId){\n\tvar res = {};\n\n\tif(gantt.isTaskExists(rootId)){\n\t\tcopyLinkIds(gantt, gantt.getTask(rootId), res);\n\t}\n\n\tgantt.eachTask(function(child){\n\t\tcopyLinkIds(gantt, child, res);\n\t}, rootId);\n\n\treturn res;\n}\n\nfunction getSubtreeTasks(gantt, rootId){\n\tvar res = {};\n\n\tgantt.eachTask(function(child){\n\t\tres[child.id] = child;\n\t}, rootId);\n\n\treturn res;\n}\n\nmodule.exports = {\n\tgetSubtreeLinks: getSubtreeLinks,\n\tgetSubtreeTasks: getSubtreeTasks\n};","var ScaleHelper = require(\"./ui/timeline/scales_ignore\");\n\n\nfunction dateRangeResolver(gantt){\n\t//reset project timing\n\t//_get_tasks_data(gantt);\n\treturn gantt.getSubtaskDates();\n}\n\nfunction defaultRangeResolver(){\n\treturn {\n\t\tstart_date: new Date(),\n\t\tend_date: new Date()\n\t};\n}\n\nfunction resolveConfigRange(unit, gantt){\n\tvar range = {\n\t\tstart_date:null,\n\t\tend_date:null\n\t};\n\n\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\trange.start_date = gantt.date[unit + \"_start\"](new Date(gantt.config.start_date));\n\n\t\tvar end = new Date(gantt.config.end_date);\n\t\tvar start_interval = gantt.date[unit + \"_start\"](new Date(end));\n\t\tif (+end != +start_interval) {\n\t\t\tend = gantt.date.add(start_interval, 1, unit);\n\t\t} else {\n\t\t\tend = start_interval;\n\t\t}\n\n\t\trange.end_date = end;\n\t}\n\treturn range;\n}\n\nfunction _scale_range_unit(gantt) {\n\tvar unit = gantt.config.scale_unit;\n\tvar step = gantt.config.step;\n\tif (gantt.config.scale_offset_minimal) {\n\n\t\tvar helper = new ScaleHelper(gantt);\n\t\tvar scales = [helper.primaryScale()].concat(gantt.config.subscales);\n\n\t\thelper.sortScales(scales);\n\t\tunit = scales[scales.length - 1].unit;\n\t\tstep = scales[scales.length - 1].step || 1;\n\t}\n\treturn { unit:unit, step:step };\n}\n\nfunction _init_tasks_range(gantt) {\n\tvar cfg = _scale_range_unit(gantt);\n\tvar unit = cfg.unit,\n\t\tstep = cfg.step;\n\tvar range = resolveConfigRange(unit, gantt);\n\n\tif(!(range.start_date && range.end_date)){\n\t\trange = dateRangeResolver(gantt);\n\t\tif(!range.start_date || !range.end_date){\n\t\t\trange = defaultRangeResolver(gantt);\n\t\t}\n\n\t\trange.start_date = gantt.date[unit + \"_start\"](range.start_date);\n\t\trange.start_date = gantt.calculateEndDate({\n\t\t\tstart_date: gantt.date[unit + \"_start\"](range.start_date),\n\t\t\tduration: -1,\n\t\t\tunit: unit,\n\t\t\tstep:step\n\t\t});//one free column before first task\n\n\t\trange.end_date = gantt.date[unit + \"_start\"](range.end_date);\n\t\trange.end_date = gantt.calculateEndDate({start_date: range.end_date, duration: 2, unit: unit, step:step});//one free column after last task\n\t}\n\n\tgantt._min_date = range.start_date;\n\tgantt._max_date = range.end_date;\n}\n\nfunction _adjust_scales(gantt) {\n\tif (gantt.config.fit_tasks) {\n\t\tvar old_min = +gantt._min_date,\n\t\t\told_max = +gantt._max_date;\n\t\t//this._init_tasks_range();\n\t\tif (+gantt._min_date != old_min || +gantt._max_date != old_max) {\n\t\t\tgantt.render();\n\n\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nmodule.exports = function updateTasksRange(gantt){\n\t_init_tasks_range(gantt);\n\t_adjust_scales(gantt);\n};\n","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar DataStore = require(\"./datastore\");\n\nvar TreeDataStore = function(config){\n\tDataStore.apply(this, [config]);\n\tthis._branches = {};\n\n\tthis.pull = {};\n\tthis.$initItem = config.initItem;\n\tthis.$parentProperty = config.parentProperty || \"parent\";\n\n\tif(typeof config.rootId !== \"function\"){\n\t\tthis.$getRootId = (function(val){\n\t\t\treturn function(){return val;};\n\t\t})(config.rootId || 0);\n\t}else{\n\t\tthis.$getRootId = config.rootId;\n\t}\n\n\t// TODO: replace with live reference to gantt config\n\tthis.$openInitially = config.openInitially;\n\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._searchVisibleOrder = {};\n\tthis._skip_refresh = false;\n\n\tthis.attachEvent(\"onFilterItem\", function(id, item){\n\t\tvar open = true;\n\t\tthis.eachParent(function(parent){\n\t\t\topen = open && parent.$open && !(this._isSplitItem(parent));\n\t\t}, item);\n\t\treturn !!open;\n\t});\n\n\treturn this;\n};\n\nTreeDataStore.prototype = utils.mixin({\n\n\t\t_buildTree: function(data){\n\t\t\tvar item = null;\n\t\t\tvar rootId = this.$getRootId();\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis.setParent(item, this.getParent(item) || rootId);\n\t\t\t}\n\n\t\t\t// calculating $level for each item\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis._add_branch(item);\n\t\t\t\titem.$level = this.calculateItemLevel(item);\n\n\t\t\t\tif (!utils.defined(item.$open)) {\n\t\t\t\t\titem.$open = utils.defined(item.open) ? item.open : this.$openInitially();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._updateOrder();\n\t\t},\n\t\t_isSplitItem: function(item){\n\t\t\treturn (item.render == \"split\" && this.hasChild(item.id));\n\t\t},\n\t\tparse: function(data){\n\t\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\t\tvar loaded = this._parseInner(data);\n\t\t\tthis._buildTree(loaded);\n\t\t\tthis.filter();\n\t\t\tthis.callEvent(\"onParse\", [loaded]);\n\t\t},\n\n\t\t_addItemInner: function(item, index){\n\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\tif(!utils.defined(parent)){\n\t\t\t\tparent = this.$getRootId();\n\t\t\t\tthis.setParent(item, parent);\n\t\t\t}\n\n\t\t\tvar parentIndex = this.getIndexById(parent);\n\t\t\tvar targetIndex = parentIndex + Math.min(Math.max(index, 0), this.visibleOrder.length);\n\n\t\t\tif(targetIndex*1 !== targetIndex){\n\t\t\t\ttargetIndex = undefined;\n\t\t\t}\n\t\t\tDataStore.prototype._addItemInner.call(this, item, targetIndex);\n\t\t\tthis.setParent(item, parent);\n\n\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\tthis._move_branch(item, item.$rendered_parent);\n\t\t\t}\n\t\t\tthis._add_branch(item, index);\n\t\t},\n\t\t_changeIdInner: function(oldId, newId){\n\t\t\tvar children = this.getChildren(oldId);\n\t\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\n\t\t\tDataStore.prototype._changeIdInner.call(this, oldId, newId);\n\n\t\t\tvar parent = this.getParent(newId);\n\n\t\t\tthis._replace_branch_child(parent, oldId, newId);\n\t\t\tfor(var i = 0; i < children.length; i++){\n\t\t\t\tthis.setParent(this.getItem(children[i]), newId);\n\t\t\t}\n\n\t\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\t\tdelete this._branches[oldId];\n\t\t},\n\n\t\t_traverseBranches: function(code, parent){\n\t\t\tparent = parent || this.$getRootId();\n\t\t\tvar branch = this._branches[parent];\n\t\t\tif (branch) {\n\t\t\t\tfor (var i = 0; i < branch.length; i++) {\n\t\t\t\t\tvar itemId = branch[i];\n\t\t\t\t\tcode.call(this, itemId);\n\t\t\t\t\tif (this._branches[itemId])\n\t\t\t\t\t\tthis._traverseBranches(code, itemId);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_updateOrder: function(code){\n\n\t\t\tthis.fullOrder = powerArray.$create();\n\t\t\tthis._traverseBranches(function(taskId){\n\t\t\t\tthis.fullOrder.push(taskId);\n\t\t\t});\n\n\t\t\tif(code)\n\t\t\t\tDataStore.prototype._updateOrder.call(this, code);\n\t\t},\n\n\t\t_removeItemInner: function(id){\n\n\t\t\tvar items = [];\n\t\t\tthis.eachItem(function(child){\n\t\t\t\titems.push(child);\n\t\t\t}, id);\n\n\t\t\titems.push(this.getItem(id));\n\n\t\t\tfor(var i = 0; i < items.length; i++){\n\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t\tDataStore.prototype._removeItemInner.call(this, items[i].id);\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t}\n\t\t},\n\n\t\tmove: function(sid, tindex, parent){\n\t\t\t//target id as 4th parameter\n\t\t\tvar id = arguments[3];\n\t\t\tif (id) {\n\t\t\t\tif (id === sid) return;\n\n\t\t\t\tparent = this.getParent(id);\n\t\t\t\ttindex = this.getBranchIndex(id);\n\t\t\t}\n\t\t\tif(sid == parent){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tparent = parent || this.$getRootId();\n\t\t\tvar source = this.getItem(sid);\n\t\t\tvar source_pid = this.getParent(source.id);\n\n\t\t\tvar tbranch = this.getChildren(parent);\n\n\t\t\tif (tindex == -1)\n\t\t\t\ttindex = tbranch.length + 1;\n\t\t\tif (source_pid == parent) {\n\t\t\t\tvar sindex = this.getBranchIndex(sid);\n\t\t\t\tif (sindex == tindex) return;\n\t\t\t}\n\n\t\t\tif(this.callEvent(\"onBeforeItemMove\", [sid, parent, tindex]) === false)\n\t\t\t\treturn;\n\n\t\t\tthis._replace_branch_child(source_pid, sid);\n\t\t\ttbranch = this.getChildren(parent);\n\n\t\t\tvar tid = tbranch[tindex];\n\t\t\tif (!tid) //adding as last element\n\t\t\t\ttbranch.push(sid);\n\t\t\telse\n\t\t\t\ttbranch = tbranch.slice(0, tindex).concat([ sid ]).concat(tbranch.slice(tindex));\n\n\t\t\tthis.setParent(source, parent);\n\t\t\tthis._branches[parent] = tbranch;\n\n\t\t\tvar diff = this.calculateItemLevel(source) - source.$level;\n\t\t\tsource.$level += diff;\n\t\t\tthis.eachItem(function(item){\n\t\t\t\titem.$level += diff;\n\t\t\t}, source.id, this);\n\n\n\t\t\tthis._moveInner(this.getIndexById(sid), this.getIndexById(parent) + tindex);\n\n\t\t\tthis.callEvent(\"onAfterItemMove\", [sid, parent, tindex]);\n\t\t\tthis.refresh();\n\t\t},\n\n\t\tgetBranchIndex: function(id){\n\t\t\tvar branch = this.getChildren(this.getParent(id));\n\t\t\tfor (var i = 0; i < branch.length; i++)\n\t\t\t\tif (branch[i] == id)\n\t\t\t\t\treturn i;\n\n\t\t\treturn -1;\n\t\t},\n\t\thasChild: function(id){\n\t\t\treturn (utils.defined(this._branches[id]) && this._branches[id].length);\n\t\t},\n\t\tgetChildren: function(id){\n\t\t\treturn utils.defined(this._branches[id]) ? this._branches[id] : powerArray.$create();\n\t\t},\n\n\t\tisChildOf: function(childId, parentId){\n\t\t\tif (!this.exists(childId))\n\t\t\t\treturn false;\n\t\t\tif (parentId === this.$getRootId())\n\t\t\t\treturn true;\n\n\t\t\tif (!this.hasChild(parentId))\n\t\t\t\treturn false;\n\n\t\t\tvar item = this.getItem(childId);\n\t\t\tvar pid = this.getParent(childId);\n\n\t\t\tvar parent = this.getItem(parentId);\n\t\t\tif(parent.$level >= item.$level){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twhile (item && this.exists(pid)) {\n\t\t\t\titem = this.getItem(pid);\n\n\t\t\t\tif (item && item.id == parentId)\n\t\t\t\t\treturn true;\n\t\t\t\tpid = this.getParent(item);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tgetSiblings: function(id){\n\t\t\tif(!this.exists(id)){\n\t\t\t\treturn powerArray.$create();\n\t\t\t}\n\t\t\tvar parent = this.getParent(id);\n\t\t\treturn this.getChildren(parent);\n\n\t\t},\n\t\tgetNextSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id)\n\t\t\t\t\treturn siblings[i+1] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetPrevSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id)\n\t\t\t\t\treturn siblings[i-1] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetParent: function(id){\n\t\t\tvar item = null;\n\t\t\tif(id.id !== undefined){\n\t\t\t\titem = id;\n\t\t\t}else{\n\t\t\t\titem = this.getItem(id);\n\t\t\t}\n\n\t\t\tvar parent;\n\t\t\tif(item){\n\t\t\t\tparent = item[this.$parentProperty];\n\t\t\t}else{\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\t\t\treturn parent;\n\n\t\t},\n\n\t\tclearAll: function(){\n\t\t\tthis._branches = {};\n\t\t\tDataStore.prototype.clearAll.call(this);\n\t\t},\n\n\t\tcalculateItemLevel: function(item){\n\t\t\tvar level = 0;\n\t\t\tthis.eachParent(function(){\n\t\t\t\tlevel++;\n\t\t\t}, item);\n\t\t\treturn level;\n\t\t},\n\n\t\t_setParentInner: function(item, new_pid, silent){\n\t\t\tif(!silent){\n\t\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\t\tthis._move_branch(item, item.$rendered_parent, new_pid);\n\t\t\t\t}else{\n\t\t\t\t\tthis._move_branch(item, item[this.$parentProperty], new_pid);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetParent: function(item, new_pid, silent){\n\t\t\tthis._setParentInner(item, new_pid, silent);\n\n\t\t\titem[this.$parentProperty] = new_pid;\n\t\t},\n\t\teachItem: function(code, parent){\n\t\t\tparent = parent || this.$getRootId();\n\n\n\t\t\tvar branch = this.getChildren(parent);\n\t\t\tif (branch)\n\t\t\t\tfor (var i=0; i<branch.length; i++){\n\t\t\t\t\tvar item = this.pull[branch[i]];\n\t\t\t\t\tcode.call(this, item);\n\t\t\t\t\tif (this.hasChild(item.id))\n\t\t\t\t\t\tthis.eachItem(code, item.id);\n\t\t\t\t}\n\t\t},\n\t\teachParent: function(code, startItem) {\n\t\t\tvar parentsHash = {};\n\t\t\tvar item = startItem;\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\twhile (this.exists(parent)) {\n\t\t\t\tif (parentsHash[parent]) {\n\t\t\t\t\tthrow new Error(\"Invalid tasks tree. Cyclic reference has been detected on task \" + parent);\n\t\t\t\t}\n\t\t\t\tparentsHash[parent] = true;\n\t\t\t\titem = this.getItem(parent);\n\t\t\t\tcode.call(this, item);\n\t\t\t\tparent = this.getParent(item);\n\t\t\t}\n\t\t},\n\t\t_add_branch: function(item, index, parent){\n\t\t\tvar pid = parent === undefined ? this.getParent(item) : parent;\n\t\t\tif (!this.hasChild(pid))\n\t\t\t\tthis._branches[pid] = powerArray.$create();\n\t\t\tvar branch = this.getChildren(pid);\n\t\t\tvar added_already = false;\n\t\t\tfor(var i = 0, length = branch.length; i < length; i++){\n\t\t\t\tif(branch[i] == item.id){\n\t\t\t\t\tadded_already = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!added_already){\n\t\t\t\tif(index*1 == index){\n\n\t\t\t\t\tbranch.splice(index, 0, item.id);\n\t\t\t\t}else{\n\t\t\t\t\tbranch.push(item.id);\n\t\t\t\t}\n\n\t\t\t\titem.$rendered_parent = pid;\n\t\t\t}\n\t\t},\n\t\t_move_branch: function(item, old_parent, new_parent){\n\t\t\t//this.setParent(item, new_parent);\n\t\t\t//this._sync_parent(task);\n\t\t\tthis._replace_branch_child(old_parent, item.id);\n\t\t\tif(this.exists(new_parent) || new_parent == this.$getRootId()){\n\n\t\t\t\tthis._add_branch(item, undefined, new_parent);\n\t\t\t}else{\n\t\t\t\tdelete this._branches[item.id];\n\t\t\t}\n\t\t\titem.$level =  this.calculateItemLevel(item);\n\t\t\tthis.eachItem(function(child){\n\t\t\t\tchild.$level = this.calculateItemLevel(child);\n\t\t\t}, item.id);\n\t\t},\n\n\t\t_replace_branch_child: function(node, old_id, new_id){\n\t\t\tvar branch = this.getChildren(node);\n\t\t\tif (branch && node !== undefined){\n\t\t\t\tvar newbranch = powerArray.$create();\n\t\t\t\tfor (var i=0; i<branch.length; i++){\n\t\t\t\t\tif (branch[i] != old_id)\n\t\t\t\t\t\tnewbranch.push(branch[i]);\n\t\t\t\t\telse if (new_id)\n\t\t\t\t\t\tnewbranch.push(new_id);\n\t\t\t\t}\n\t\t\t\tthis._branches[node] = newbranch;\n\t\t\t}\n\n\t\t},\n\n\t\tsort: function(field, desc, parent){\n\t\t\tif (!this.exists(parent)) {\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\n\t\t\tif (!field) field = \"order\";\n\t\t\tvar criteria = (typeof(field) == \"string\") ? (function(a, b) {\n\t\t\t\tif(a[field] == b[field]){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar result = a[field] > b[field];\n\t\t\t\treturn result ? 1 : -1;\n\t\t\t}) : field;\n\n\t\t\tif (desc) {\n\t\t\t\tvar original_criteria = criteria;\n\t\t\t\tcriteria = function (a, b) {\n\t\t\t\t\treturn original_criteria(b, a);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar els = this.getChildren(parent);\n\n\t\t\tif (els){\n\t\t\t\tvar temp = [];\n\t\t\t\tfor (var i = els.length - 1; i >= 0; i--)\n\t\t\t\t\ttemp[i] = this.getItem(els[i]);\n\n\t\t\t\ttemp.sort(criteria);\n\n\t\t\t\tfor (var i = 0; i < temp.length; i++) {\n\t\t\t\t\tels[i] = temp[i].id;\n\t\t\t\t\tthis.sort(field, desc, els[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfilter: function(rule){\n\t\t\tfor(var i  in this.pull){\n\t\t\t\tif(this.pull[i].$rendered_parent !== this.getParent(this.pull[i])){\n\t\t\t\t\tthis._move_branch(this.pull[i], this.pull[i].$rendered_parent, this.getParent(this.pull[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn DataStore.prototype.filter.apply(this, arguments);\n\t\t},\n\n\t\topen: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = true;\n\t\t\t\tthis.callEvent(\"onItemOpen\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tclose: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = false;\n\t\t\t\tthis.callEvent(\"onItemClose\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tdestructor: function(){\n\t\t\tDataStore.prototype.destructor.call(this);\n\t\t\tthis._branches = null;\n\t\t}\n\t},\n\tDataStore.prototype\n);\n\nmodule.exports = TreeDataStore;","var utils = require(\"../../utils/utils\");\n\nvar $powerArray  = {\n\t$create: function(array){\n\t\treturn utils.mixin(array || [], this);\n\t},\n\t//remove element at specified position\n\t$removeAt:function(pos,len){\n\t\tif (pos>=0) this.splice(pos,(len||1));\n\t},\n\t//find element in collection and remove it\n\t$remove:function(value){\n\t\tthis.$removeAt(this.$find(value));\n\t},\n\t//add element to collection at specific position\n\t$insertAt:function(data,pos){\n\t\tif (!pos && pos!==0) \t//add to the end by default\n\t\t\tthis.push(data);\n\t\telse {\n\t\t\tvar b = this.splice(pos,(this.length-pos));\n\t\t\tthis[pos] = data;\n\t\t\tthis.push.apply(this,b); //reconstruct array without loosing this pointer\n\t\t}\n\t},\n\t//return index of element, -1 if it doesn't exists\n\t$find:function(data){\n\t\tfor (var i=0; i<this.length; i++)\n\t\t\tif (data==this[i]) return i;\n\t\treturn -1;\n\t},\n\t//execute some method for each element of array\n\t$each:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tfunctor.call((master||this),this[i]);\n\t},\n\t//create new array from source, by using results of functor\n\t$map:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tthis[i]=functor.call((master||this),this[i]);\n\t\treturn this;\n\t},\n\t$filter:function(functor, master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tif (!functor.call((master||this),this[i])){\n\t\t\t\tthis.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\treturn this;\n\t}\n};\n\nmodule.exports = $powerArray;","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar eventable = require(\"../../utils/eventable\");\n\nvar DataStore = function(config){\n\tthis.pull = {};\n\tthis.$initItem = config.initItem;\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._skip_refresh = false;\n\tthis._filterRule = null;\n\tthis._searchVisibleOrder = {};\n\tthis.$config = config;\n\teventable(this);\n\treturn this;\n};\nDataStore.prototype = {\n\n\t_parseInner: function(data){\n\t\tvar item = null,\n\t\t\tloaded = [];\n\t\tfor(var i = 0, len = data.length; i< len; i++){\n\t\t\titem = data[i];\n\t\t\tif(this.$initItem){\n\t\t\t\titem = this.$initItem(item);\n\t\t\t}\n\t\t\tif(this.callEvent(\"onItemLoading\", [item])){\n\t\t\t\tif (!this.pull.hasOwnProperty(item.id)) {\n\t\t\t\t\tthis.fullOrder.push(item.id);\n\t\t\t\t\tloaded.push(item);\n\t\t\t\t}\n\t\t\t\tthis.pull[item.id] = item;\n\t\t\t}\n\t\t}\n\t\treturn loaded;\n\t},\n\tparse: function(data){\n\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\tvar loaded = this._parseInner(data);\n\t\tthis.refresh();\n\t\tthis.callEvent(\"onParse\", [loaded]);\n\t},\n\tgetItem: function(id){\n\t\treturn this.pull[id];\n\t},\n\n\t_updateOrder: function(code){\n\t\tcode.call(this.visibleOrder);\n\t\tcode.call(this.fullOrder);\n\t},\n\tupdateItem: function(id, item){\n\t\tif (!utils.defined(item)) item = this.getItem(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeUpdate\", [item.id, item]) === false) return false;\n\t\t}\n\t\tthis.pull[id]=item;\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.callEvent(\"onAfterUpdate\", [item.id, item]);\n\t\t\tthis.callEvent(\"onStoreUpdated\", [item.id, item, \"update\"]);\n\t\t}\n\t},\n\n\t_removeItemInner: function(id){\n\t\t//clear from collections\n\t\t//this.visibleOrder.$remove(id);\n\t\tthis._updateOrder(function(){ this.$remove(id);});\n\t\tdelete this.pull[id];\n\t},\n\n\tremoveItem: function(id){\n\t\t//utils.assert(this.exists(id), \"Not existing ID in remove command\"+id);\n\n\t\tvar obj = this.getItem(id);\t//save for later event\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeDelete\", [obj.id, obj]) === false) return false;\n\t\t}\n\n\t\tthis._removeItemInner(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.filter();\n\t\t\tthis.callEvent(\"onAfterDelete\", [obj.id, obj]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"delete\"]);\n\t\t}\n\t},\n\n\t_addItemInner: function(item, index){\n\t\t//in case of treetable order is sent as 3rd parameter\n\t\t//var order = index;\n\n\t\tif(this.exists(item.id)){\n\t\t\tthis.silent(function(){this.updateItem(item.id, item);});\n\t\t}else{\n\t\t\tvar order = this.visibleOrder;\n\n\t\t\t//by default item is added to the end of the list\n\t\t\tvar data_size = order.length;\n\n\t\t\tif (!utils.defined(index) || index < 0)\n\t\t\t\tindex = data_size;\n\t\t\t//check to prevent too big indexes\n\t\t\tif (index > data_size){\n\t\t\t\t//dhx.log(\"Warning\",\"DataStore:add\",\"Index of out of bounds\");\n\t\t\t\tindex = Math.min(order.length,index);\n\t\t\t}\n\t\t}\n\n\n\t\t//gantt.assert(!this.exists(id), \"Not unique ID\");\n\n\t\tthis.pull[item.id]=item;\n\t\tif (!this._skip_refresh){\n\t\t\tthis._updateOrder(function(){\n\t\t\t\tif(this.$find(item.id) === -1)\n\t\t\t\t\tthis.$insertAt(item.id,index);\n\t\t\t});\n\t\t}\n\t\tthis.filter();\n\t\t//order.$insertAt(item.id,index);\n\t},\n\n\n\tisVisible: function(id){\n\t\treturn this.visibleOrder.$find(id) > -1;\n\t},\n\tgetVisibleItems: function(){\n\t\treturn this.getIndexRange();\n\t},\n\n\taddItem: function(item, index){\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\tif(this.$initItem){\n\t\t\titem = this.$initItem(item);\n\t\t}\n\n\t\tif (!this._skip_refresh){\n\t\t\tif (this.callEvent(\"onBeforeAdd\", [item.id, item]) === false) return false;\n\t\t}\n\n\n\t\tthis._addItemInner(item, index);\n\n\t\tif (!this._skip_refresh){\n\t\t\tthis.callEvent(\"onAfterAdd\",[item.id, item]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\",[item.id,item,\"add\"]);\n\t\t}\n\t\treturn item.id;\n\t},\n\n\t_changeIdInner: function(oldId, newId){\n\t\tif(this.pull[oldId])\n\t\t\tthis.pull[newId] = this.pull[oldId];\n\n\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\t\tthis.pull[newId].id = newId;\n\t\tthis._updateOrder(function(){\n\t\t\tthis[this.$find(oldId)] = newId;\n\t\t});\n\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\tdelete this._searchVisibleOrder[oldId];\n\n\t\t//this.visibleOrder[this.visibleOrder.$find(oldId)]=newId;\n\t\tdelete this.pull[oldId];\n\t},\n\tchangeId: function(oldId, newId){\n\t\tthis._changeIdInner(oldId, newId);\n\n\t\tthis.callEvent(\"onIdChange\", [oldId, newId]);\n\n\t},\n\texists: function(id){\n\t\treturn !!(this.pull[id]);\n\t},\n\n\t_moveInner: function(sindex, tindex){\n\t\tvar id = this.getIdByIndex(sindex);\n\n\t\tthis._updateOrder(function(){\n\t\t\tthis.$removeAt(sindex);\n\t\t\tthis.$insertAt(id,Math.min(this.length, tindex));\n\t\t});\n\t\t//this.visibleOrder.$removeAt(sindex);\t//remove at old position\n\t\t//if (sindex<tindex) tindex--;\t//correct shift, caused by element removing\n\t\t//this.visibleOrder.$insertAt(id,Math.min(this.visibleOrder.length, tindex));\t//insert at new position\n\t},\n\n\tmove: function(sindex, tindex){\n\t\t//gantt.assert(sindex>=0 && tindex>=0, \"DataStore::move\",\"Incorrect indexes\");\n\n\t\tvar id = this.getIdByIndex(sindex);\n\t\tvar obj = this.getItem(id);\n\t\tthis._moveInner(sindex, tindex);\n\n\n\t\tif (!this._skip_refresh) {\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"move\"]);\n\t\t}\n\t},\n\tclearAll: function(){\n\t\tthis.pull = {};\n\t\tthis.visibleOrder = powerArray.$create();\n\t\tthis.fullOrder = powerArray.$create();\n\t\tif (this._skip_refresh) return;\n\t\tthis.callEvent(\"onClearAll\",[]);\n\t\tthis.refresh();\n\t},\n\n\tsilent:function(code, master){\n\t\tthis._skip_refresh = true;\n\t\tcode.call(master||this);\n\t\tthis._skip_refresh = false;\n\t},\n\n\tarraysEqual: function (arr1, arr2) {\n\t\tif(arr1.length !== arr2.length)\n\t\t\treturn false;\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tif(arr1[i] !== arr2[i])\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\trefresh: function(id, quick){\n\t\tif (this._skip_refresh) return;\n\n\t\tvar args;\n\t\tif (id){\n\t\t\targs = [id, this.pull[id], \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tif(this.callEvent(\"onBeforeStoreUpdate\", args) === false){\n\t\t\treturn;\n\t\t}\n\n\t\tif(id){\n\t\t\t// if item changes visible order (e.g. expand-collapse branch) - do a complete repaint\n\t\t\tif(!quick){\n\t\t\t\tvar oldOrder = this.visibleOrder;\n\t\t\t\tthis.filter();\n\t\t\t\tif(!this.arraysEqual(oldOrder, this.visibleOrder)){\n\t\t\t\t\tid = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else{\n\t\t\tthis.filter();\n\t\t}\n\n\t\tif (id){\n\t\t\targs = [id, this.pull[id], \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tthis.callEvent(\"onStoreUpdated\",args);\n\t},\n\n\tcount: function(){\n\t\treturn this.fullOrder.length;\n\t},\n\tcountVisible: function(){\n\t\treturn this.visibleOrder.length;\n\t},\n\n\tsort: function(sort){},\n\n\tserialize: function(){},\n\n\teachItem: function(code){\n\t\tfor (var i=0; i<this.fullOrder.length; i++) {\n\t\t\tvar item = this.pull[this.fullOrder[i]];\n\t\t\tcode.call(this, item);\n\t\t}\n\t},\n\t\n\tfilter: function(rule){\n\t\tvar filteredOrder = powerArray.$create();\n\t\tthis.eachItem(function(item){\n\t\t\tif(this.callEvent(\"onFilterItem\", [item.id, item])){\n\t\t\t\tfilteredOrder.push(item.id);\n\t\t\t}\n\t\t});\n\n\t\tthis.visibleOrder = filteredOrder;\n\t\tthis._searchVisibleOrder = {};\n\t\tfor(var i = 0; i < this.visibleOrder.length; i++){\n\t\t\tthis._searchVisibleOrder[this.visibleOrder[i]] = i;\n\t\t}\n\t},\n\n\tgetIndexRange: function(from, to){\n\t\tto=Math.min((to||Infinity),this.countVisible()-1);\n\n\t\tvar ret= [];\n\t\tfor (var i=(from||0); i <= to; i++)\n\t\t\tret.push(this.getItem(this.visibleOrder[i]));\n\t\treturn ret;\n\t},\n\tgetItems: function(){\n\t\tvar res = [];\n\t\tfor(var i in this.pull){\n\t\t\tres.push(this.pull[i]);\n\t\t}\n\t/*\tfor(var i = 0; i < this.fullOrder.length; i++){\n\n\t\t}*/\n\t\treturn res;\n\t},\n\n\tgetIdByIndex: function(index){\n\t\treturn this.visibleOrder[index];\n\t},\n\tgetIndexById: function(id){\n\t\tvar res = this._searchVisibleOrder[id];\n\t\tif(res === undefined){\n\t\t\tres = -1;\n\t\t}\n\t\treturn res;\n\t},\n\t_getNullIfUndefined: function(value){\n\t\tif(value === undefined){\n\t\t\treturn null;\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t},\n\tgetFirst: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[0]);\n\t},\n\tgetLast: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1]);\n\t},\n\tgetNext: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) + 1]);\n\t},\n\tgetPrev: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) - 1]);\n\t},\n\tdestructor: function(){\n\t\tthis.detachAllEvents();\n\t\tthis.pull = null;\n\t\tthis.$initItem = null;\n\t\tthis.visibleOrder = null;\n\t\tthis.fullOrder = null;\n\t\tthis._skip_refresh = null;\n\t\tthis._filterRule = null;\n\t\tthis._searchVisibleOrder = null;\n\t}\n};\n\nmodule.exports = DataStore;","function createTaskRenderer(gantt){\n\n\tfunction _render_task_element(task, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar painters = config.type_renderers;\n\t\tvar renderer = painters[gantt.getTaskType(task.type)],\n\t\t\tdefaultRenderer = _task_default_render;\n\n\t\tif (!renderer) {\n\t\t\treturn defaultRenderer.call(gantt, task, view);\n\t\t}else{\n\t\t\treturn renderer.call(gantt, task, function(task){ return defaultRenderer.call(gantt, task, view);}, view);\n\t\t}\n\t}\n\n\tfunction _task_default_render(task, view) {\n\t\tif (gantt._isAllowedUnscheduledTask(task))\n\t\t\treturn;\n\n\n\t\tvar pos = view.getItemPosition(task);\n\n\t\tvar cfg = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\t\tvar height = view.getItemHeight();\n\n\t\tvar taskType = gantt.getTaskType(task.type);\n\n\t\tvar padd = Math.floor((gantt.config.row_height - height) / 2);\n\t\tif (taskType == cfg.types.milestone && cfg.link_line_width > 1) {\n\t\t\t//little adjust milestone position, so horisontal corners would match link arrow when thickness of link line is more than 1px\n\t\t\tpadd += 1;\n\t\t}\n\n\t\tif (taskType == cfg.types.milestone){\n\t\t\tpos.left -= Math.round(height / 2);\n\t\t\tpos.width = height;\n\t\t}\n\n\t\tvar div = document.createElement(\"div\");\n\n\t\tvar width = Math.round(pos.width);\n\n\t\tif(view.$config.item_attribute){\n\t\t\tdiv.setAttribute(view.$config.item_attribute, task.id);\n\t\t}\n\n\t\tif (cfg.show_progress && taskType != cfg.types.milestone) {\n\t\t\t_render_task_progress(task, div, width, cfg, templates);\n\t\t}\n\n\t\t//use separate div to display content above progress bar\n\t\tvar content = _render_task_content(task, width, templates);\n\t\tif (task.textColor) {\n\t\t\tcontent.style.color = task.textColor;\n\t\t}\n\t\tdiv.appendChild(content);\n\n\t\tvar css = _combine_item_class(\"gantt_task_line\",\n\t\t\ttemplates.task_class(task.start_date, task.end_date, task),\n\t\t\ttask.id,\n\t\t\tview);\n\t\tif (task.color || task.progressColor || task.textColor) {\n\t\t\tcss += \" gantt_task_inline_color\";\n\t\t}\n\t\tdiv.className = css;\n\n\t\tvar styles = [\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"top:\" + (padd + pos.top) + 'px',\n\t\t\t\"height:\" + height + 'px',\n\t\t\t\"line-height:\" + (Math.max(height < 30 ? height - 2 : height, 0)) + 'px',\n\t\t\t\"width:\" + width + 'px'\n\t\t];\n\t\tif (task.color) {\n\t\t\tstyles.push(\"background-color:\" + task.color);\n\t\t}\n\t\tif (task.textColor) {\n\t\t\tstyles.push(\"color:\" + task.textColor);\n\t\t}\n\n\t\tdiv.style.cssText = styles.join(\";\");\n\t\tvar side = _render_leftside_content(task, cfg, templates);\n\t\tif (side) div.appendChild(side);\n\n\t\tside = _render_rightside_content(task, cfg, templates);\n\t\tif (side) div.appendChild(side);\n\n\t\tgantt._waiAria.setTaskBarAttr(task, div);\n\n\t\tvar state = gantt.getState();\n\n\t\tif (!gantt.isReadonly(task)) {\n\t\t\tif (cfg.drag_resize && !gantt.isSummaryTask(task) && taskType != cfg.types.milestone) {\n\t\t\t\t_render_pair(div, \"gantt_task_drag\", task, function (css) {\n\t\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\t\tel.className = css;\n\t\t\t\t\treturn el;\n\t\t\t\t}, cfg);\n\t\t\t}\n\t\t\tif (cfg.drag_links && cfg.show_links) {\n\t\t\t\t_render_pair(div, \"gantt_link_control\", task, function (css) {\n\t\t\t\t\tvar outer = document.createElement(\"div\");\n\t\t\t\t\touter.className = css;\n\t\t\t\t\touter.style.cssText = [\n\t\t\t\t\t\t\"height:\" + height + 'px',\n\t\t\t\t\t\t\"line-height:\" + height + 'px'\n\t\t\t\t\t].join(\";\");\n\t\t\t\t\tvar inner = document.createElement(\"div\");\n\t\t\t\t\tinner.className = \"gantt_link_point\";\n\n\t\t\t\t\tvar showLinkPoints = false;\n\t\t\t\t\tif(state.link_source_id && cfg.touch){\n\t\t\t\t\t\tshowLinkPoints = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tinner.style.display = showLinkPoints ? \"block\" : \"\";\n\t\t\t\t\touter.appendChild(inner);\n\t\t\t\t\treturn outer;\n\t\t\t\t}, cfg);\n\t\t\t}\n\t\t}\n\t\treturn div;\n\t}\n\n\tfunction _render_side_content(task, template, cssClass) {\n\t\tif (!template) return null;\n\n\t\tvar text = template(task.start_date, task.end_date, task);\n\t\tif (!text) return null;\n\t\tvar content = document.createElement(\"div\");\n\t\tcontent.className = \"gantt_side_content \" + cssClass;\n\t\tcontent.innerHTML = text;\n\t\treturn content;\n\t}\n\n\tfunction _render_leftside_content(task, cfg, templates) {\n\t\tvar css = \"gantt_left \" + _get_link_crossing_css(!cfg.rtl ? true : false, task, cfg);\n\t\treturn _render_side_content(task, templates.leftside_text, css);\n\t}\n\n\tfunction _render_rightside_content(task, cfg, templates) {\n\t\tvar css = \"gantt_right \" + _get_link_crossing_css(!cfg.rtl ? false : true, task, cfg);\n\t\treturn _render_side_content(task, templates.rightside_text, css);\n\t}\n\n\tfunction _get_link_crossing_css(left, task) {\n\t\tvar cond = _get_conditions(left);\n\n\t\tfor (var i in cond) {\n\t\t\tvar links = task[i];\n\t\t\tfor (var ln = 0; ln < links.length; ln++) {\n\t\t\t\tvar link = gantt.getLink(links[ln]);\n\n\t\t\t\tfor (var tp = 0; tp < cond[i].length; tp++) {\n\t\t\t\t\tif (link.type == cond[i][tp]) {\n\t\t\t\t\t\treturn \"gantt_link_crossing\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\tfunction _render_task_content(task, width, templates) {\n\t\tvar content = document.createElement(\"div\");\n\t\tif (gantt.getTaskType(task.type) != gantt.config.types.milestone)\n\t\t\tcontent.innerHTML = templates.task_text(task.start_date, task.end_date, task);\n\t\tcontent.className = \"gantt_task_content\";\n\t\t//content.style.width = width + 'px';\n\t\treturn content;\n\t}\n\n\tfunction _render_task_progress(task, element, maxWidth, cfg, templates) {\n\t\tvar done = task.progress * 1 || 0;\n\n\t\tmaxWidth = Math.max(maxWidth - 2, 0);//2px for borders\n\t\tvar pr = document.createElement(\"div\");\n\t\tvar width = Math.round(maxWidth * done);\n\n\t\twidth = Math.min(maxWidth, width);\n\t\tif (task.progressColor) {\n\t\t\tpr.style.backgroundColor = task.progressColor;\n\t\t\tpr.style.opacity = 1;\n\t\t}\n\t\tpr.style.width = width + 'px';\n\t\tpr.className = \"gantt_task_progress\";\n\t\tpr.innerHTML = templates.progress_text(task.start_date, task.end_date, task);\n\n\t\tif(cfg.rtl){\n\t\t\tpr.style.position = \"absolute\";\n\t\t\tpr.style.right = \"0px\";\n\t\t}\n\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.className = \"gantt_task_progress_wrapper\";\n\t\twrapper.appendChild(pr);\n\t\telement.appendChild(wrapper);\n\n\t\tif (gantt.config.drag_progress && !gantt.isReadonly(task)) {\n\t\t\tvar drag = document.createElement(\"div\");\n\n\t\t\tvar markerPos = width;\n\t\t\tif(cfg.rtl){\n\t\t\t\tmarkerPos = maxWidth - width;\n\t\t\t}\n\n\t\t\tdrag.style.left = markerPos + 'px';\n\t\t\tdrag.className = \"gantt_task_progress_drag\";\n\t\t\tpr.appendChild(drag);\n\t\t\telement.appendChild(drag);\n\t\t}\n\t}\n\n\tfunction _get_conditions(leftside) {\n\t\tif (leftside) {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.start_to_start\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.start_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_start\n\t\t\t\t]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.finish_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction _combine_item_class(basic, template, itemId, view) {\n\t\tvar cfg = view.$getConfig();\n\t\tvar css = [basic];\n\t\tif (template)\n\t\t\tcss.push(template);\n\n\t\tvar state = gantt.getState();\n\n\t\tvar task = gantt.getTask(itemId);\n\n\t\tif (gantt.getTaskType(task.type) == cfg.types.milestone) {\n\t\t\tcss.push(\"gantt_milestone\");\n\t\t}else if (gantt.getTaskType(task.type) == cfg.types.project) {\n\t\t\tcss.push(\"gantt_project\");\n\t\t}\n\n\t\tcss.push(\"gantt_bar_\" + gantt.getTaskType(task.type));\n\n\n\t\tif (gantt.isSummaryTask(task))\n\t\t\tcss.push(\"gantt_dependent_task\");\n\n\t\tif (gantt.isSplitTask(task)) {\n\t\t\tcss.push(\"gantt_split_parent\");\n\t\t}\n\n\t\tif (cfg.select_task && itemId == state.selected_task)\n\t\t\tcss.push(\"gantt_selected\");\n\n\t\tif (itemId == state.drag_id) {\n\t\t\tcss.push(\"gantt_drag_\" + state.drag_mode);\n\t\t\tif (state.touch_drag) {\n\t\t\t\tcss.push(\"gantt_touch_\" + state.drag_mode);\n\t\t\t}\n\t\t}\n\n\t\tif (state.link_source_id == itemId)\n\t\t\tcss.push(\"gantt_link_source\");\n\n\t\tif (state.link_target_id == itemId)\n\t\t\tcss.push(\"gantt_link_target\");\n\n\n\t\tif (cfg.highlight_critical_path && gantt.isCriticalTask) {\n\t\t\tif (gantt.isCriticalTask(task))\n\t\t\t\tcss.push(\"gantt_critical_task\");\n\t\t}\n\n\t\tif (state.link_landing_area &&\n\t\t\t(state.link_target_id && state.link_source_id) &&\n\t\t\t(state.link_target_id != state.link_source_id)) {\n\n\t\t\tvar from_id = state.link_source_id;\n\t\t\tvar from_start = state.link_from_start;\n\t\t\tvar to_start = state.link_to_start;\n\n\t\t\tvar allowDrag = gantt.isLinkAllowed(from_id, itemId, from_start, to_start);\n\n\t\t\tvar dragClass = \"\";\n\t\t\tif (allowDrag) {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_allow\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_allow\";\n\t\t\t} else {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_deny\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_deny\";\n\t\t\t}\n\t\t\tcss.push(dragClass);\n\t\t}\n\t\treturn css.join(\" \");\n\t}\n\n\tfunction _render_pair(parent, css, task, content, config) {\n\t\tvar state = gantt.getState();\n\t\tvar className, element;\n\t\tif (+task.start_date >= +state.min_date) {\n\t\t\tclassName = [css, config.rtl ? \"task_right\" : \"task_left\", \"task_start_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"start_date\");\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t\tif (+task.end_date <= +state.max_date){\n\t\t\tclassName = [css, config.rtl ? \"task_left\" : \"task_right\", \"task_end_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"end_date\");\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t}\n\n\treturn _render_task_element;\n}\n\nmodule.exports = createTaskRenderer;","var utils = require(\"../../../utils/utils\");\nvar Timeline = require(\"./timeline\");\nvar resourceStoreMixin = require(\"../resource_store_mixin\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceTimeline = (function (_super) {\n\n\tfunction ResourceTimeline(parent, config, factory, gantt) {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\tself.$config.bindLinks = null;\n\t\treturn self;\n\t}\n\n\t__extends(ResourceTimeline, _super);\n\n\tutils.mixin(ResourceTimeline.prototype, {\n\t\tinit: function(){\n\t\t\tif(this.$config.bind === undefined){\n\t\t\t\tthis.$config.bind = this.$getConfig().resource_store;\n\t\t\t}\n\t\t\t_super.prototype.init.apply(this, arguments);\n\t\t},\n\t\t_createLayerConfig: function() {\n\t\t\tvar self = this;\n\t\t\tvar taskFilter = function() {\n\t\t\t\treturn self.isVisible();\n\t\t\t};\n\n\t\t\tvar taskLayers = [\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.resourceRow,\n\t\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg,\n\t\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar linkLayers = [];\n\n\t\t\treturn {\n\t\t\t\ttasks: taskLayers,\n\t\t\t\tlinks: linkLayers\n\t\t\t};\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceTimeline.prototype, resourceStoreMixin(ResourceTimeline), true);\n\n\treturn ResourceTimeline;\n})(Timeline);\n\n\nmodule.exports = ResourceTimeline;\n\n\n","function createMixin(){\n\treturn {\n\t\t/**\n\t\t * Get top coordinate by row index (order)\n\t\t * @param {number} index \n\t\t */\n\t\tgetRowTop: function(index){\n\t\t\treturn index * this.$getConfig().row_height;\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by item id\n\t\t * @param {*} task_id \n\t\t */\n\t\tgetItemTop: function (task_id) {\n\t\t\tif(this.$config.rowStore){\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return 0;\n\n\t\t\t\tif(store.getParent && store.exists(task_id) && store.exists(store.getParent(task_id))){\n\t\t\t\t\tvar parent = store.getItem(store.getParent(task_id));\n\t\t\t\t\tif(this.$gantt.isSplitTask(parent)){\n\t\t\t\t\t\treturn this.getRowTop(store.getIndexById(parent.id));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.getRowTop(store.getIndexById(task_id));\n\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t}\n\t};\n}\n\nmodule.exports = createMixin;","\nvar ScaleHelper = require(\"./scales\");\n\nfunction ScaleIgnoreHelper(gantt){\n\tvar helper = new ScaleHelper(gantt);\n\n\thelper.processIgnores = function (config) {\n\t\tvar display_count = config.count;\n\t\tconfig.ignore_x = {};\n\t\tif (gantt.ignore_time || gantt.config.skip_off_time) {\n\t\t\tvar ignore = gantt.ignore_time || function () {\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tdisplay_count = 0;\n\n\t\t\tfor (var i = 0; i < config.trace_x.length; i++) {\n\n\t\t\t\tif (ignore.call(gantt, config.trace_x[i]) || this._ignore_time_config.call(gantt, config.trace_x[i], config)) {\n\t\t\t\t\tconfig.ignore_x[config.trace_x[i].valueOf()] = true;\n\t\t\t\t\tconfig.ignored_colls = true;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay_count++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tconfig.display_count = display_count;\n\t};\n\n\treturn helper;\n}\n\nmodule.exports = ScaleIgnoreHelper;","var ScaleHelper = require(\"./scales_ignore\");\nvar eventable = require(\"../../../utils/eventable\");\nvar utils = require(\"../../../utils/utils\");\nvar topPositionMixin = require(\"../row_position_mixin\");\nvar canvasRender = require(\"./tasks_canvas_render\");\n\nvar Timeline = function(parent, config, factory, gantt){\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$scaleHelper = new ScaleHelper(gantt);\n\tthis.$gantt = gantt;\n\teventable(this);\n};\n\nTimeline.prototype = {\n\tinit: function(container){\n\t\tcontainer.innerHTML += \"<div class='gantt_task' style='width:inherit;height:inherit;'></div>\";\n\t\tthis.$task = container.childNodes[0];\n\n\t\tthis.$task.innerHTML = \"<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>\";\n\t\tthis.$task_scale = this.$task.childNodes[0];\n\n\t\tthis.$task_data = this.$task.childNodes[1];\n\t\tthis.$task_data.innerHTML = \"<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>\";\n\t\tthis.$task_bg = this.$task_data.childNodes[0];\n\t\tthis.$task_links = this.$task_data.childNodes[1];\n\t\tthis.$task_bars = this.$task_data.childNodes[2];\n\n\t\tthis._tasks = {\n\t\t\tcol_width: 0,\n\t\t\twidth: [], // width of each column\n\t\t\tfull_width: 0, // width of all columns\n\t\t\ttrace_x: [],\n\t\t\trendered: {}\n\t\t};\n\n\t\tvar config = this.$getConfig();\n\t\tvar attr = config[this.$config.bind + \"_attribute\"];\n\t\tvar linksAttr = config[this.$config.bindLinks + \"_attribute\"];\n\t\tif(!attr && this.$config.bind){\n\t\t\tattr = this.$config.bind + \"_id\";\n\t\t}\n\t\tif(!linksAttr && this.$config.bindLinks){\n\t\t\tlinksAttr = this.$config.bindLinks + \"_id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\t\tthis.$config.link_attribute = linksAttr || null;\n\n\t\tvar layers = this._createLayerConfig();\n\t\tif(!this.$config.layers){\n\t\t\tthis.$config.layers = layers.tasks;\n\t\t}\n\t\tif(!this.$config.linkLayers){\n\t\t\tthis.$config.linkLayers = layers.links;\n\t\t}\n\n\t\tthis._attachLayers(this.$gantt);\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t},\n\n\tsetSize: function(width, height){\n\t\tvar config = this.$getConfig();\n\n\t\tif(width*1 === width){\n\t\t\tthis.$config.width = width;\n\t\t}\n\t\tif(height*1 === height){\n\n\t\t\tthis.$config.height = height;\n\t\t\tvar dataHeight = Math.max(this.$config.height - config.scale_height);\n\t\t\tthis.$task_data.style.height = dataHeight + 'px';\n\t\t}\n\n\t\tthis.refresh();\n\t\tthis.$task_bg.style.backgroundImage = \"\";\n\n\t\tif(config.smart_rendering && this.$config.rowStore){\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tthis.$task_bg.style.height = config.row_height * store.countVisible() +\"px\";\n\t\t}else{\n\t\t\tthis.$task_bg.style.height = \"\";\n\t\t}\n\n\t\tvar scale = this._tasks;\n\t\t//timeline area layers\n\t\tvar data_els = this.$task_data.childNodes;\n\t\tfor(var i= 0, len = data_els.length; i < len; i++){\n\t\t\tvar el = data_els[i];\n\t\t\tif(el.hasAttribute(\"data-layer\") && el.style)\n\t\t\t\tel.style.width = scale.full_width + \"px\";\n\t\t}\n\t},\n\n\tisVisible: function(){\n\t\tif(this.$parent && this.$parent.$config){\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t}else{\n\t\t\treturn this.$task.offsetWidth;\n\t\t}\n\t},\n\n\tgetSize: function(){\n\t\tvar config = this.$getConfig();\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? config.row_height * store.countVisible() : 0,\n\t\t\tcontentWidth = this._tasks.full_width;\n\n\t\treturn {\n\t\t\tx: this.$config.width,\n\t\t\ty: this.$config.height,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\t},\n\n\tscrollTo: function(left, top){\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tif(top*1 === top){\n\t\t\tthis.$config.scrollTop = top;\n\t\t\tthis.$task_data.scrollTop = this.$config.scrollTop;\n\t\t}\n\t\tif (left*1 === left){\n\t\t\tthis.$task.scrollLeft = left;\n\t\t\tthis.$config.scrollLeft = this.$task.scrollLeft;\n\t\t\tthis._refreshScales();\n\t\t}\n\t},\n\n\t_refreshScales: function _refreshScales() {\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tvar config = this.$getConfig();\n\t\tif (!config.smart_scales) return;\n\n\t\tvar x = this.$config.scrollLeft;\n\t\tvar width = this.$config.width;\n\n\t\tvar scales = this._scales;\n\t\tthis.$task_scale.innerHTML = this._getScaleChunkHtml(scales, x, x + width);\n\t},\n\t_createLayerConfig: function(){\n\t\tvar self = this;\n\t\tvar taskFilter = function(){\n\t\t\treturn self.isVisible();\n\t\t};\n\n\t\tvar taskLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBar,\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tfilter: [taskFilter]\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskSplitBar,\n\t\t\t\tfilter: [taskFilter],\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tappend: true\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg,\n\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\tfilter: [\n\t\t\t\t\tfunction(){\n\t\t\t\t\t\treturn !self.$getConfig().static_background;\n\t\t\t\t\t},\n\t\t\t\t\ttaskFilter\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\n\t\tvar linkLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.link,\n\t\t\t\tcontainer: this.$task_links,\n\t\t\t\tfilter: [taskFilter]\n\t\t\t}\n\t\t];\n\n\t\treturn {\n\t\t\ttasks: taskLayers,\n\t\t\tlinks: linkLayers\n\t\t};\n\n\t},\n\n\t_attachLayers: function(gantt){\n\t\tthis._taskLayers = [];\n\t\tthis._linkLayers = [];\n\n\t\tvar self = this;\n\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\n\t\tif(this.$config.bind){\n\n\t\t\tself.$config.rowStore = self.$gantt.getDatastore(self.$config.bind);\n\n\t\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\t\tif(!taskRenderer){\n\t\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bind,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttaskRenderer.container = function(){ return self.$task_data;};\n\n\t\t\tvar taskLayers = this.$config.layers;\n\t\t\tfor(var i = 0; taskLayers && i < taskLayers.length; i++){\n\t\t\t\tvar layer = taskLayers[i];\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer];\n\t\t\t\t}\n\n\t\t\t\tif(typeof layer == \"function\"){\n\t\t\t\t\tlayer = {renderer: layer};\n\t\t\t\t}\n\n\t\t\t\tlayer.host = this;\n\t\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(bar_layer);\n\t\t\t\tif(layer.expose){\n\t\t\t\t\tthis._taskRenderer = taskRenderer.getLayer(bar_layer);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._initStaticBackgroundRender();\n\t\t}\n\n\t\tif(this.$config.bindLinks){\n\t\t\tself.$config.linkStore = self.$gantt.getDatastore(self.$config.bindLinks);\n\n\t\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\t\tif(!linkRenderer){\n\t\t\t\tlinkRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bindLinks,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar linkLayers = this.$config.linkLayers;\n\t\t\tfor(var i = 0; linkLayers && i < linkLayers.length; i++){\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer];\n\t\t\t\t}\n\n\t\t\t\tvar layer = linkLayers[i];\n\t\t\t\tlayer.host = this;\n\t\t\t\tvar linkLayer = linkRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(linkLayer);\n\t\t\t\tif(linkLayers[i].expose){\n\t\t\t\t\tthis._linkRenderer = linkRenderer.getLayer(linkLayer);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_initStaticBackgroundRender: function(){\n\t\tvar self = this;\n\t\tvar staticRender = canvasRender.create();\n\t\tvar store = self.$config.rowStore;\n\t\tif(!store) return;\n\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", function(id, item, mode){\n\t\t\tif(id !== null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!self.isVisible())\n\t\t\t\treturn;\n\t\t\tvar config = self.$getConfig();\n\t\t\tif(config.static_background) {\n\t\t\t\tvar store = self.$gantt.getDatastore(self.$config.bind);\n\t\t\t\tif (store) {\n\t\t\t\t\tstaticRender.render(self.$task_bg, config, self.getScale(), config.row_height * store.countVisible());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._initStaticBackgroundRender = function(){};//init once\n\t},\n\n\t_clearLayers: function(gantt){\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor(var i = 0; i < this._taskLayers.length; i++){\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\t\tif (this._linkLayers) {\n\t\t\tfor(var i = 0; i < this._linkLayers.length; i++){\n\t\t\t\tlinkRenderer.removeLayer(this._linkLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._linkLayers = [];\n\t\tthis._taskLayers = [];\n\t},\n\n\t_render_tasks_scales: function _render_tasks_scales() {\n\t\tvar config = this.$getConfig();\n\n\t\tvar scales_html = \"\",\n\t\t\touter_width = 0,\n\t\t\tscale_height = 0;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (this.isVisible()) {\n\t\t\tvar helpers = this.$scaleHelper;\n\t\t\tvar scales = this._getScales();\n\t\t\tscale_height = config.scale_height;\n\n\t\t\tvar availWidth = this.$config.width;\n\t\t\tif(config.autosize == \"x\" || config.autosize == \"xy\"){\n\t\t\t\tavailWidth = Math.max(config.autosize_min_width, 0);\n\t\t\t}\n\n\t\t\tvar cfgs = helpers.prepareConfigs(scales, config.min_column_width, availWidth, scale_height - 1, state.min_date, state.max_date, config.rtl);\n\t\t\tvar cfg = this._tasks = cfgs[cfgs.length - 1];\n\t\t\tthis._scales = cfgs;\n\n\t\t\tscales_html = this._getScaleChunkHtml(cfgs, 0, this.$config.width);\n\n\t\t\touter_width = cfg.full_width + \"px\";//cfg.full_width + (this._scroll_sizes().y ? scrollSizes.scroll_size : 0) + \"px\";\n\t\t\tscale_height += \"px\";\n\t\t}\n\n\t\tthis.$task_scale.style.height = scale_height;\n\n\t\tthis.$task_data.style.width =\n\t\t\tthis.$task_scale.style.width = outer_width;\n\n\t\tthis.$task_scale.innerHTML = scales_html;\n\n\t},\n\n\t_getScaleChunkHtml: function _get_scale_chunk_html (scales, fromPos, toPos) {\n\t\tvar templates = this.$gantt.$services.templates();\n\t\tvar html = [];\n\n\t\tvar css = templates.scale_row_class;\n\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\tvar cssClass = \"gantt_scale_line\";\n\t\t\tvar tplClass = css(scales[i]);\n\t\t\tif (tplClass) {\n\t\t\t\tcssClass += \" \" + tplClass;\n\t\t\t}\n\n\t\t\thtml.push(\"<div class=\\\"\" + cssClass + \"\\\" style=\\\"height:\" + (scales[i].height) +\n\t\t\t\t\"px;position:relative;line-height:\" + (scales[i].height) + \"px\\\">\" + this._prepareScaleHtml(scales[i], fromPos, toPos) + \"</div>\");\n\t\t}\n\n\t\treturn html.join(\"\");\n\t},\n\t_prepareScaleHtml: function _prepare_scale_html(config, fromPos, toPos) {\n\t\tvar globalConfig = this.$getConfig();\n\t\tvar globalTemplates = this.$gantt.$services.templates();\n\n\t\tvar cells = [];\n\t\tvar date = null, content = null, css = null;\n\n\t\tif (config.template || config.date) {\n\t\t\tcontent = config.template || this.$gantt.date.date_to_str(config.date);\n\t\t}\n\n\t\tvar startIndex = 0,\n\t\t\tendIndex = config.count;\n\n\t\tif (globalConfig.smart_scales && (!isNaN(fromPos) && !isNaN(toPos))) {\n\t\t\tstartIndex = _findBinary(config.left, fromPos);\n\t\t\tendIndex = _findBinary(config.left, toPos) + 1;\n\t\t}\n\n\t\tcss = config.css || function () {\n\t\t\t};\n\t\tif (!config.css && globalConfig.inherit_scale_class) {\n\t\t\tcss = globalTemplates.scale_cell_class;\n\t\t}\n\n\t\tfor (var i = startIndex; i < endIndex; i++) {\n\t\t\tif (!config.trace_x[i]) break;\n\n\t\t\tdate = new Date(config.trace_x[i]);\n\t\t\tvar value = content.call(this, date),\n\t\t\t\twidth = config.width[i],\n\t\t\t\theight = config.height,\n\t\t\t\tleft = config.left[i],\n\t\t\t\tstyle = \"\",\n\t\t\t\ttemplate = \"\",\n\t\t\t\tcssclass = \"\";\n\n\t\t\tif (width) {\n\t\t\t\tvar position = globalConfig.smart_scales ? (\"position:absolute;left:\" + left + \"px\") : \"\";\n\n\t\t\t\tstyle = \"width:\" + (width) + \"px;height:\" + height + \"px;\" + position;\n\t\t\t\tcssclass = \"gantt_scale_cell\" + (i == config.count - 1 ? \" gantt_last_cell\" : \"\");\n\n\t\t\t\ttemplate = css.call(this, date);\n\t\t\t\tif (template) cssclass += \" \" + template;\n\n\t\t\t\tvar ariaAttr = this.$gantt._waiAria.getTimelineCellAttr(value);\n\t\t\t\tvar cell = \"<div class='\" + cssclass + \"'\" + ariaAttr + \" style='\" + style + \"'>\" + value + \"</div>\";\n\t\t\t\tcells.push(cell);\n\t\t\t} else {\n\t\t\t\t//do not render ignored cells\n\t\t\t}\n\n\t\t}\n\t\treturn cells.join(\"\");\n\t},\n\tdateFromPos: function dateFromPos(x) {\n\t\tvar scale = this._tasks;\n\t\tif (x < 0 || x > scale.full_width || !scale.full_width) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar ind = _findBinary(this._tasks.left, x);\n\t\tvar summ = this._tasks.left[ind];\n\n\t\tvar col_width = scale.width[ind] || scale.col_width;\n\t\tvar part = 0;\n\t\tif (col_width) {\n\t\t\tpart = (x - summ) / col_width;\n\t\t\tif(scale.rtl){\n\t\t\t\tpart = 1 - part;\n\t\t\t}\n\n\t\t}\n\n\t\tvar unit = 0;\n\t\tif (part) {\n\t\t\tunit = this._getColumnDuration(scale, scale.trace_x[ind]);\n\t\t}\n\n\t\tvar date = new Date(scale.trace_x[ind].valueOf() + Math.round(part * unit));\n\t\treturn date;\n\t},\n\tposFromDate: function posFromDate(date) {\n\t\tif (!this.isVisible())\n\t\t\treturn 0;\n\n\t\tvar ind = this.columnIndexByDate(date);\n\t\tthis.$gantt.assert(ind >= 0, \"Invalid day index\");\n\n\t\tvar wholeCells = Math.floor(ind);\n\t\tvar partCell = ind % 1;\n\n\t\tvar pos = this._tasks.left[Math.min(wholeCells, this._tasks.width.length - 1)];\n\t\tif (wholeCells == this._tasks.width.length)\n\t\t\tpos += this._tasks.width[this._tasks.width.length - 1];\n\t\t//for(var i=1; i <= wholeCells; i++)\n\t\t//\tpos += gantt._tasks.width[i-1];\n\n\t\tif (partCell) {\n\t\t\tif (wholeCells < this._tasks.width.length) {\n\t\t\t\tpos += this._tasks.width[wholeCells] * (partCell % 1);\n\t\t\t} else {\n\t\t\t\tpos += 1;\n\t\t\t}\n\n\t\t}\n\t\treturn Math.round(pos);\n\t},\n\tcolumnIndexByDate: function columnIndexByDate(date) {\n\t\tvar pos = new Date(date).valueOf();\n\t\tvar days = this._tasks.trace_x_ascending,\n\t\t\tignores = this._tasks.ignore_x;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (pos <= state.min_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn days.length;\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif (pos >= state.max_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn days.length;\n\t\t\t}\n\t\t}\n\n\t\t/*var day = null;\n\t\t for (var xind = 0, length = days.length-1; xind < length; xind++) {\n\t\t // | 8:00, 8:30 | 8:15 should be checked against 8:30\n\t\t // clicking at the most left part of the cell, say 8:30 should create event in that cell, not previous one\n\t\t day = +days[xind+1];\n\t\t if (pos < day && !ignores[day])\n\t\t break;\n\t\t }*/\n\n\t\tvar day_ind = _findBinary(days, pos);\n\t\tvar day = +days[day_ind];\n\t\twhile (ignores[day]) {\n\t\t\tday = +days[++day_ind];\n\t\t}\n\n\t\tvar transition = this._tasks.trace_index_transition;\n\t\tvar index = day_ind;\n\t\tif(!day){\n\t\t\tif(transition){\n\t\t\t\treturn transition[0];\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tvar part = ((date - days[day_ind]) / this._getColumnDuration(this._tasks, days[day_ind]));\n\t\tif(transition){\n\t\t\treturn transition[index] + (1 - part);\n\t\t}else{\n\t\t\treturn index + part;\n\t\t}\n\n\t\t//return day_ind + ((date - days[day_ind]) / this._getColumnDuration(this._tasks, days[day_ind]));\n\t},\n\tgetItemPosition:function (task, start_date, end_date) {\n\t\tvar xLeft, xRight, width;\n\t\tif(this._tasks.rtl){\n\t\t\txRight = this.posFromDate(start_date || task.start_date);\n\t\t\txLeft = this.posFromDate(end_date || task.end_date);\n\t\t}else{\n\t\t\txLeft = this.posFromDate(start_date || task.start_date);\n\t\t\txRight = this.posFromDate(end_date || task.end_date);\n\t\t}\n\t\twidth =  Math.max((xRight - xLeft), 0);\n\n\t\tvar y = this.getItemTop(task.id);\n\t\tvar height = this.getItemHeight();\n\t\treturn {\n\t\t\tleft: xLeft,\n\t\t\ttop: y,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\tgetItemHeight: function(){\n\t\tvar config = this.$getConfig();\n\n\t\t// height of the bar item\n\t\tvar height = config.task_height;\n\n\t\tif (height == \"full\") {\n\t\t\tvar offset = config.task_height_offset || 5;\n\t\t\theight = config.row_height - offset;\n\t\t}\n\t\t//item height cannot be bigger than row height\n\t\theight = Math.min(height, config.row_height);\n\t\treturn Math.max(height, 0);\n\t},\n\n\tgetScale: function(){\n\t\treturn this._tasks;\n\t},\n\n\t_getScales: function _get_scales() {\n\t\tvar config = this.$getConfig();\n\t\tvar helpers = this.$scaleHelper;\n\t\tvar scales = [helpers.primaryScale()].concat(config.subscales);\n\n\t\thelpers.sortScales(scales);\n\t\treturn scales;\n\t},\n\n\t_getColumnDuration: function _get_coll_duration(scale, date) {\n\t\treturn this.$gantt.date.add(date, scale.step, scale.unit) - date;\n\t},\n\n\trefresh: function(){\n\t\tif(this.$config.bind) {\n\t\t\tthis.$config.rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t}\n\n\t\tif(this.$config.bindLinks) {\n\t\t\tthis.$config.linkStore = this.$gantt.getDatastore(this.$config.bindLinks);\n\t\t}\n\n\t\tthis._initStaticBackgroundRender();\n\t\tthis._render_tasks_scales();\n\t},\n\n\tdestructor: function(){\n\t\tvar gantt = this.$gantt;\n\t\tthis._clearLayers(gantt);\n\n\t\tthis.$task = null;\n\t\tthis.$task_scale = null;\n\t\tthis.$task_data = null;\n\t\tthis.$task_bg = null;\n\t\tthis.$task_links = null;\n\t\tthis.$task_bars = null;\n\n\t\tthis.$gantt = null;\n\n\t\tif(this.$config.rowStore){\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\t\tif(this.$config.linkStore){\n\t\t\tthis.$config.linkStore = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t}\n};\n\nutils.mixin(Timeline.prototype, topPositionMixin());\n\nmodule.exports = Timeline;\n\nfunction _findBinary(array, target) {\n\t// modified binary search, target value not exactly match array elements, looking for closest one\n\n\tvar low = 0, high = array.length - 1, i, item, prev;\n\twhile (low <= high) {\n\n\t\ti = Math.floor((low + high) / 2);\n\t\titem = +array[i];\n\t\tprev = +array[i - 1];\n\t\tif (item < target) {\n\t\t\tlow = i + 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (item > target) {\n\t\t\tif (!(!isNaN(prev) && prev < target)) {\n\t\t\t\thigh = i - 1;\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\t// if target is between 'i' and 'i-1' return 'i - 1'\n\t\t\t\treturn i - 1;\n\t\t\t}\n\n\t\t}\n\t\twhile (+array[i] == +array[i + 1]) i++;\n\n\t\treturn i;\n\t}\n\treturn array.length - 1;\n}\n\n","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tCell = require(\"./cell\");\n\nvar Layout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(Layout, _super);\n\tfunction Layout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(parent)\n\t\t\t_this.$root = true;\n\n\t\t_this._parseConfig(config);\n\t\t_this.$name = \"layout\";\n\t\treturn _this;\n\t}\n\n\tLayout.prototype.destructor = function () {\n\t\tif (this.$container && this.$view) {\n\t\t\tdomHelpers.removeNode(this.$view);\n\t\t}\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tchild.destructor();\n\t\t}\n\t\tthis.$cells = [];\n\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tLayout.prototype._resizeScrollbars = function(autosize, scrollbars){\n\t\tvar scrollChanged = false;\n\t\tvar visibleScrollbars = [],\n\t\t\thiddenSrollbars = [];\n\n\t\tfunction showScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.show();\n\t\t\tscrollChanged = true;\n\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t}\n\t\tfunction hideScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.hide();\n\t\t\tscrollChanged = true;\n\t\t\thiddenSrollbars.push(scrollbar);\n\t\t}\n\n\t\tvar scrollbar;\n\t\tfor(var i = 0; i < scrollbars.length; i++){\n\t\t\tscrollbar = scrollbars[i];\n\n\t\t\tif(autosize[scrollbar.$config.scroll]) {\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldHide()){\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldShow()){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t}else{\n\t\t\t\tif(scrollbar.isVisible()){\n\t\t\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t\t\t}else{\n\t\t\t\t\thiddenSrollbars.push(scrollbar);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar visibleGroups = {};\n\t\tfor(var i = 0; i < visibleScrollbars.length; i++){\n\t\t\tif(visibleScrollbars[i].$config.group){\n\t\t\t\tvisibleGroups[visibleScrollbars[i].$config.group] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor(var i = 0; i < hiddenSrollbars.length; i++){\n\t\t\tscrollbar = hiddenSrollbars[i];\n\n\t\t\tif(scrollbar.$config.group && visibleGroups[scrollbar.$config.group]){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t}\n\t\t}\n\n\t\treturn scrollChanged;\n\t};\n\n\tLayout.prototype._syncCellSizes = function(groupName, newSize){\n\t\tif(!groupName)\n\t\t\treturn;\n\n\t\tvar groups = {};\n\n\t\tthis._eachChild(function(cell){\n\t\t\tif(cell.$config.group && cell.$name != \"scrollbar\" && cell.$name != \"resizer\"){\n\t\t\t\tif(!groups[cell.$config.group]){\n\t\t\t\t\tgroups[cell.$config.group] = [];\n\t\t\t\t}\n\t\t\t\tgroups[cell.$config.group].push(cell);\n\t\t\t}\n\t\t});\n\n\t\tif(groups[groupName]){\n\t\t\tthis._syncGroupSize(groups[groupName], newSize);\n\t\t}\n\t\treturn groups[groupName];\n\t};\n\n\tLayout.prototype._syncGroupSize = function(cells, newSize){\n\t\tif(!cells.length) return;\n\n\t\tvar property = cells[0].$parent._xLayout ? \"width\" : \"height\";\n\t\tvar direction = cells[0].$parent.getNextSibling(cells[0].$id) ? 1 : -1;\n\n\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\tvar ownSize = cells[i].getSize();\n\n\t\t\tvar resizeSibling = direction > 0 ? cells[i].$parent.getNextSibling(cells[i].$id) : cells[i].$parent.getPrevSibling(cells[i].$id);\n\t\t\tif(resizeSibling.$name == \"resizer\"){\n\t\t\t\tresizeSibling = direction > 0 ? resizeSibling.$parent.getNextSibling(resizeSibling.$id) : resizeSibling.$parent.getPrevSibling(resizeSibling.$id);\n\t\t\t}\n\t\t\tvar siblingSize = resizeSibling.getSize();\n\n\t\t\tif(resizeSibling[property]){\n\t\t\t\tvar totalGravity = ownSize.gravity + siblingSize.gravity;\n\t\t\t\tvar totalSize = ownSize[property] + siblingSize[property];\n\t\t\t\tvar k = totalGravity / totalSize;\n\t\t\t\tcells[i].$config.gravity = k * newSize;\n\n\t\t\t\tresizeSibling.$config[property] = totalSize - newSize;\n\t\t\t\tresizeSibling.$config.gravity = totalGravity - k * newSize;\n\t\t\t}else{\n\n\n\t\t\t\tcells[i].$config[property] = newSize;\n\t\t\t}\n\n\t\t\tvar mainGrid = this.$gantt.$ui.getView(\"grid\");\n\t\t\tif(mainGrid && cells[i].$content === mainGrid && !mainGrid.$config.scrollable){\n\t\t\t\tthis.$gantt.config.grid_width = newSize;\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.resize = function(startStage){\n\t\tvar mainCall = false;\n\t\tif(this.$root && !this._resizeInProgress){\n\t\t\tthis.callEvent(\"onBeforeResize\", []);\n\t\t\tmainCall = true;\n\t\t\tthis._resizeInProgress = true;\n\t\t}\n\n\t\t_super.prototype.resize.call(this, true);\n\t\t_super.prototype.resize.call(this, false);\n\n\t\tif(mainCall){\n\n\t\t\tvar contentViews = [];\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewCell\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewLayout\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"hostCell\"));\n\n\t\t\tvar scrollbars = this.getCellsByType(\"scroller\");\n\n\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t}\n\n\t\t\tvar autosize = this._getAutosizeMode(this.$config.autosize);\n\n\t\t\tvar scrollChanged = this._resizeScrollbars(autosize, scrollbars);\n\n\t\t\tif(this.$config.autosize){\n\t\t\t\tthis.autosize(this.$config.autosize);\n\t\t\t\tscrollChanged = true;\n\t\t\t}\n\n\t\t\tif(scrollChanged){\n\t\t\t\tthis.resize();\n\t\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onResize\", []);\n\t\t}\n\t\tif(mainCall){\n\t\t\tthis._resizeInProgress = false;\n\t\t}\n\t};\n\n\tLayout.prototype._eachChild = function(code, cell){\n\t\tcell = cell || this;\n\t\tcode(cell);\n\t\tif(cell.$cells){\n\t\t\tfor(var i = 0; i < cell.$cells.length; i++){\n\t\t\t\tthis._eachChild(code, cell.$cells[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.isChild = function(view){\n\t\tvar res = false;\n\t\tthis._eachChild(function(child){\n\t\t\tif(child === view || child.$content === view){\n\t\t\t\tres = true;\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getCellsByType = function(type){\n\t\tvar res = [];\n\t\tif(type === this.$name){\n\t\t\tres.push(this);\n\t\t}\n\n\t\tif(this.$content && this.$content.$name == type){\n\t\t\tres.push(this.$content);\n\t\t}\n\n\t\tif(this.$cells){\n\t\t\tfor(var i = 0; i < this.$cells.length; i++){\n\t\t\t\tvar children = Layout.prototype.getCellsByType.call(this.$cells[i], type);\n\t\t\t\tif(children.length){\n\t\t\t\t\tres.push.apply(res, children);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getNextSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index + 1]){\n\t\t\treturn this.$cells[index + 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tLayout.prototype.getPrevSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index - 1]){\n\t\t\treturn this.$cells[index - 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\n\tLayout.prototype.cell = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tif (child.$id === id) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t\tvar sub = child.cell(id);\n\t\t\tif (sub) {\n\t\t\t\treturn sub;\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.cellIndex = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tif (this.$cells[i].$id === id) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\tLayout.prototype.moveView = function (view, ind) {\n\t\tif (this.$cells[ind] !== view) {\n\t\t\treturn window.alert(\"Not implemented\");\n\t\t}\n\t\telse {\n\t\t\tind += this.$config.header ? 1 : 0;\n\t\t\tvar node = this.$view;\n\t\t\tif (ind >= node.childNodes.length) {\n\t\t\t\tnode.appendChild(view.$view);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnode.insertBefore(view.$view, node.childNodes[ind]);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype._parseConfig = function (config) {\n\t\tthis.$cells = [];\n\t\tthis._xLayout = !config.rows;\n\t\tvar cells = config.rows || config.cols || config.views;\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tvar cell = cells[i];\n\t\t\tcell.mode = this._xLayout ? \"x\" : \"y\";\n\t\t\tvar $content = this.$factory.initUI(cell, this);\n\t\t\tif(!$content){\n\t\t\t\tcells.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}else{\n\t\t\t\t$content.$parent = this;\n\t\t\t\tthis.$cells.push($content);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.getCells = function () {\n\t\treturn this.$cells;\n\t};\n\tLayout.prototype.render = function () {\n\t\tvar view = domHelpers.insertNode(this.$container, this.$toHTML());\n\t\tthis.$fill(view, null);\n\t\tthis.callEvent(\"onReady\", []);\n\t\tthis.resize();\n\n\t\t// do simple repaint after the first call\n\t\tthis.render = this.resize;\n\t};\n\tLayout.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tvar cells = domHelpers.getChildNodes(node, \"gantt_layout_cell\");\n\t\tfor (var i = cells.length - 1; i >= 0; i--) {\n\t\t\tvar sub = this.$cells[i];\n\t\t\tsub.$fill(cells[i], this);\n\t\t\t// initially hidden cell\n\t\t\tif (sub.$config.hidden) {\n\t\t\t\tsub.$view.parentNode.removeChild(sub.$view);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.$toHTML = function () {\n\t\tvar mode = this._xLayout ? \"x\" : \"y\";\n\t\tvar html = [];\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\thtml.push(this.$cells[i].$toHTML());\n\t\t}\n\t\treturn _super.prototype.$toHTML.call(this, html.join(\"\"), (this.$root ? \"gantt_layout_root \" : \"\") + \"gantt_layout gantt_layout_\" + mode);\n\t};\n\n\tLayout.prototype.getContentSize = function(mode){\n\t\tvar contentWidth = 0,\n\t\t\tcontentHeight = 0;\n\n\t\tvar cellSize, cell, borders;\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\t\t\tif(cell.$config.hidden)\n\t\t\t\tcontinue;\n\n\t\t\tcellSize = cell.getContentSize(mode);\n\n\t\t\tif(cell.$config.view === \"scrollbar\" && mode[cell.$config.scroll]){\n\t\t\t\tcellSize.height = 0;\n\t\t\t\tcellSize.width = 0;\n\t\t\t}\n\n\t\t\tif(cell.$config.resizer){\n\t\t\t\tif(this._xLayout){\n\t\t\t\t\tcellSize.height = 0;\n\t\t\t\t}else{\n\t\t\t\t\tcellSize.width = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tborders = cell._getBorderSizes();\n\n\t\t\tif(this._xLayout){\n\t\t\t\tcontentWidth += (cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight = Math.max(contentHeight, (cellSize.height + borders.vertical));\n\t\t\t}else{\n\t\t\t\tcontentWidth = Math.max(contentWidth, cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight += cellSize.height + borders.vertical;\n\t\t\t}\n\t\t}\n\n\t\tborders = this._getBorderSizes();\n\t\tcontentWidth += borders.horizontal;\n\t\tcontentHeight += borders.vertical;\n\n\t\tif(this.$root){\n\t\t\tcontentWidth += 1;\n\t\t\tcontentHeight += 1;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: contentWidth,\n\t\t\theight: contentHeight\n\t\t};\n\t};\n\n\tLayout.prototype._cleanElSize = function(value){\n\t\treturn ((value || \"\").toString().replace(\"px\", \"\") * 1 || 0);\n\t};\n\tLayout.prototype._getBoxStyles = function(div){\n\t\tvar computed = null;\n\t\tif(window.getComputedStyle){\n\t\t\tcomputed = window.getComputedStyle(div, null);\n\t\t}else{\n\t\t\t//IE with elem.currentStyle does not calculate sizes from %, so will use the default approach\n\t\t\tcomputed = {\n\t\t\t\t\"width\":div.clientWidth,\n\t\t\t\t\"height\":div.clientHeight\n\t\t\t};\n\t\t}\n\t\tvar properties = [\n\t\t\t\"width\",\n\t\t\t\"height\",\n\n\t\t\t\"paddingTop\",\n\t\t\t\"paddingBottom\",\n\t\t\t\"paddingLeft\",\n\t\t\t\"paddingRight\",\n\n\t\t\t\"borderLeftWidth\",\n\t\t\t\"borderRightWidth\",\n\t\t\t\"borderTopWidth\",\n\t\t\t\"borderBottomWidth\"\n\t\t];\n\t\tvar styles = {\n\t\t\tboxSizing:(computed.boxSizing == \"border-box\")\n\t\t};\n\n\t\tif(computed.MozBoxSizing){\n\t\t\tstyles.boxSizing = (computed.MozBoxSizing == \"border-box\");\n\t\t}\n\t\tfor(var i =0; i < properties.length; i++){\n\t\t\tstyles[properties[i]] = computed[properties[i]] ? this._cleanElSize(computed[properties[i]]) : 0;\n\t\t}\n\n\n\t\tvar box = {\n\t\t\thorPaddings : (styles.paddingLeft + styles.paddingRight + styles.borderLeftWidth + styles.borderRightWidth),\n\t\t\tvertPaddings : (styles.paddingTop + styles.paddingBottom + styles.borderTopWidth + styles.borderBottomWidth),\n\t\t\tborderBox: styles.boxSizing,\n\t\t\tinnerWidth : styles.width,\n\t\t\tinnerHeight : styles.height,\n\t\t\touterWidth : styles.width,\n\t\t\touterHeight : styles.height\n\t\t};\n\n\n\t\tif(box.borderBox){\n\t\t\tbox.innerWidth -= box.horPaddings;\n\t\t\tbox.innerHeight -= box.vertPaddings;\n\t\t}else{\n\t\t\tbox.outerWidth += box.horPaddings;\n\t\t\tbox.outerHeight += box.vertPaddings;\n\t\t}\n\n\t\treturn box;\n\t};\n\n\tLayout.prototype._getAutosizeMode = function(config){\n\t\tvar res = {x:false, y:false};\n\t\tif(config === \"xy\"){\n\t\t\tres.x = res.y = true;\n\t\t}else if(config === \"y\" || config === true){\n\t\t\tres.y = true;\n\t\t}else if(config === \"x\"){\n\t\t\tres.x = true;\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.autosize = function(mode) {\n\t\tvar res = this._getAutosizeMode(mode);\n\t\tvar boxSizes = this._getBoxStyles(this.$container);\n\t\tvar contentSizes = this.getContentSize(mode);\n\n\t\tvar node = this.$container;\n\t\tif(res.x){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.width += boxSizes.horPaddings;\n\t\t\t}\n\t\t\tnode.style.width = contentSizes.width + \"px\";\n\t\t}\n\t\tif(res.y){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.height += boxSizes.vertPaddings;\n\t\t\t}\n\t\t\tnode.style.height = contentSizes.height + \"px\";\n\t\t}\n\t};\n\n\tLayout.prototype.getSize = function () {\n\t\tthis._sizes = [];\n\t\tvar width = 0;\n\t\tvar minWidth = 0;\n\t\tvar maxWidth = 100000;\n\t\tvar height = 0;\n\t\tvar maxHeight = 100000;\n\t\tvar minHeight = 0;\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\n\t\t\tvar size = this._sizes[i] = this.$cells[i].getSize();\n\t\t\tif (this.$cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width && size.minWidth) {\n\t\t\t\t\twidth += size.minWidth;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\twidth += size.width;\n\t\t\t\t}\n\t\t\t\tmaxWidth += size.maxWidth;\n\t\t\t\tminWidth += size.minWidth;\n\t\t\t\theight = Math.max(height, size.height);\n\t\t\t\tmaxHeight = Math.min(maxHeight, size.maxHeight); // min of maxHeight\n\t\t\t\tminHeight = Math.max(minHeight, size.minHeight); // max of minHeight\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height && size.minHeight) {\n\t\t\t\t\theight += size.minHeight;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\theight += size.height;\n\t\t\t\t}\n\t\t\t\tmaxHeight += size.maxHeight;\n\t\t\t\tminHeight += size.minHeight;\n\t\t\t\twidth = Math.max(width, size.width);\n\t\t\t\tmaxWidth = Math.min(maxWidth, size.maxWidth); // min of maxWidth\n\t\t\t\tminWidth = Math.max(minWidth, size.minWidth); // max of minWidth\n\t\t\t}\n\t\t}\n\t\tvar self = _super.prototype.getSize.call(this);\n\t\t// maxWidth\n\t\tif (self.maxWidth >= 100000) {\n\t\t\tself.maxWidth = maxWidth;\n\t\t}\n\t\t// maxHeight\n\t\tif (self.maxHeight >= 100000) {\n\t\t\tself.maxHeight = maxHeight;\n\t\t}\n\t\t// minWidth\n\t\tself.minWidth = self.minWidth !== self.minWidth ? 0 : self.minWidth;// || self.width || Math.max(minWidth, width);\n\t\t// minHeight\n\t\tself.minHeight = self.minHeight !== self.minHeight ? 0 : self.minHeight;//self.minHeight || self.height || Math.max(minHeight, height);\n\t\t// sizes with paddings and margins\n\t\tif (this._xLayout) {\n\t\t\tself.minWidth += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minWidth += this.$config.padding * 2 || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\telse {\n\t\t\tself.minHeight += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\t\n\t\treturn self;\n\t};\n\t// calc total gravity and free space\n\tLayout.prototype._calcFreeSpace = function (s, cell, xLayout) {\n\t\tvar min = xLayout ? cell.minWidth : cell.minHeight;\n\t\tvar max = xLayout ? cell.maxWidth : cell.maxWidth;\n\t\tvar side = s;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * cell.gravity);\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t}\n\t\t\tthis._free -= side;\n\t\t}\n\t\treturn side;\n\t};\n\tLayout.prototype._calcSize = function (s, size, xLayout) {\n\t\tvar side = s;\n\t\tvar min = xLayout ? size.minWidth : size.minHeight;\n\t\tvar max = xLayout ? size.maxWidth : size.maxHeight;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * size.gravity);\n\t\t}\n\t\tif (side > max) {\n\t\t\tside = max;\n\t\t}\n\t\tif (side < min) {\n\t\t\tside = min;\n\t\t}\n\t\treturn side;\n\t};\n\n\tLayout.prototype._configureBorders = function(){\n\t\tif(this.$root){\n\t\t\tthis._setBorders([\n\t\t\t\tthis._borders.left,\n\t\t\t\tthis._borders.top,\n\t\t\t\tthis._borders.right,\n\t\t\t\tthis._borders.bottom\n\t\t\t],\n\t\t\tthis);\n\t\t}\n\n\t\tvar borderClass = this._xLayout ? this._borders.right : this._borders.bottom;\n\n\t\tvar cells = this.$cells;\n\n\t\tvar lastVisibleIndex = cells.length - 1;\n\t\tfor(var i = lastVisibleIndex; i >= 0; i--){\n\t\t\tif (!cells[i].$config.hidden) {\n\t\t\t\tlastVisibleIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tif (cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar lastCell = i >= lastVisibleIndex;\n\t\t\tvar borderColorClass = \"\";\n\t\t\tif(!lastCell && cells[i + 1]){\n\t\t\t\tif(cells[i + 1].$config.view == \"scrollbar\"){\n\t\t\t\t\tif(this._xLayout){\n\t\t\t\t\t\tlastCell = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tborderColorClass = \"gantt_layout_cell_border_transparent\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tthis._setBorders(lastCell ? [] : [borderClass, borderColorClass], cells[i]);\n\t\t}\n\t};\n\n\tLayout.prototype._updateCellVisibility = function(){\n\t\tvar oldVisibleCells = this._visibleCells || {};\n\t\tvar firstCall = !this._visibleCells;\n\t\tvar visibleCells = {};\n\t\tvar cell;\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (!firstCall && cell.$config.hidden && oldVisibleCells[cell.$id]) {\n\t\t\t\tcell._hide(true);\n\t\t\t}else if(!cell.$config.hidden && !oldVisibleCells[cell.$id]){\n\t\t\t\tcell._hide(false);\n\t\t\t}\n\n\t\t\tif(!cell.$config.hidden){\n\t\t\t\tvisibleCells[cell.$id] = true;\n\t\t\t}\n\t\t}\n\t\tthis._visibleCells = visibleCells;\n\t};\n\n\tLayout.prototype.setSize = function (x, y) {\n\t\tthis._configureBorders();\n\t\t_super.prototype.setSize.call(this, x, y);\n\t\ty = this.$lastSize.contentY;\n\t\tx = this.$lastSize.contentX;\n\n\t\tvar padding = (this.$config.padding || 0);\n\t\tthis.$view.style.padding = padding + \"px\";\n\t\tthis._gravity = 0;\n\t\tthis._free = this._xLayout ? x : y;\n\t\tthis._free -= padding * 2;\n\t\t// calc all gravity\n\n\t\tvar cell,\n\t\t\tsize;\n\n\t\tthis._updateCellVisibility();\n\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar margin = (this.$config.margin || 0);\n\t\t\tif(cell.$name == \"resizer\" && !margin){\n\t\t\t\tmargin = -1;\n\t\t\t}\n\n\t\t\t// set margins to child cell\n\t\t\tvar cellView = cell.$view;\n\n\t\t\tvar marginSide = this._xLayout ? \"marginRight\" : \"marginBottom\";\n\t\t\tif (i !== this.$cells.length - 1) {\n\t\t\t\tcellView.style[marginSide] = margin + \"px\";\n\t\t\t\tthis._free -= margin; // calc free space without margin\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar width = size.width;\n\t\t\tvar height = size.height;\n\t\t\tif (this._xLayout) {\n\t\t\t\tthis._calcFreeSpace(width, size, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._calcFreeSpace(height, size, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar dx = void 0;\n\t\t\tvar dy = void 0;\n\t\t\tif (this._xLayout) {\n\t\t\t\tdx = this._calcSize(size.width, size, true);\n\t\t\t\tdy = y - padding * 2; // layout height without paddings\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdx = x - padding * 2; // layout width without paddings\n\t\t\t\tdy = this._calcSize(size.height, size, false);\n\t\t\t}\n\n\t\t\tcell.setSize(dx, dy);\n\t\t}\n\n\t};\n\n\treturn Layout;\n}(Cell));\n\nmodule.exports = Layout;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","function checkTimeout(host, updPerSecond){\n\tif (!updPerSecond)\n\t\treturn true;\n\t\n\tif (host._on_timeout)\n\t\treturn false;\n\t\n\tvar timeout = Math.ceil(1000/updPerSecond);\n\tif (timeout < 2) return true;\n\n\tsetTimeout(function(){\n\t\tdelete host._on_timeout;\n\t}, timeout);\n\n\thost._on_timeout = true;\n\treturn true;\n}\n\nmodule.exports = checkTimeout;","function extend(gantt){\n\n\tgantt.destructor = function(){\n\t\tgantt.callEvent(\"onDestroy\", []);\n\n\t\tthis.clearAll();\n\n\t\tif(this.$root){\n\t\t\tdelete this.$root.gantt;\n\t\t}\n\n\t\tthis._eventRemoveAll();\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t}\n\n\t\tthis.resetLightbox();\n\n\t\tif(this._dp && this._dp.destructor){\n\t\t\tthis._dp.destructor();\n\t\t}\n\t\tthis.$services.destructor();\n\n\t\t// detachAllEvents should be called last, because in components may be attached events\n\t\tthis.detachAllEvents();\n\n\t\tfor(var i in this){\n\t\t\tif(i.indexOf(\"$\") === 0){\n\t\t\t\tdelete this[i];\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = extend;\n","/*\n \tasserts will be removed in final code, so you can place them anythere\n\twithout caring about performance impacts\n*/\n\nmodule.exports = function(gantt){\n\treturn function assert(check, message){\n\t\tif (!check){\n\t\t\tif(gantt.config.show_errors && gantt.callEvent(\"onError\",[message]) !== false) {\n\t\t\t\tgantt.message({type: \"error\", text: message, expire: -1});\n\n\t\t\t\t// eslint-disable-next-line no-debugger\n\t\t\t\tdebugger;\n\t\t\t}\n\t\t}\n\t};\n};","var domHelpers = require(\"../utils/dom_helpers\"),\n\thelpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt){\n\tvar calculateScaleRange = require(\"./gantt_data_range\");\n\n\tgantt.assert = require(\"./common/assert\")(gantt);\n\n//initial initialization\n\tgantt.init = function(node, from, to){\n\t\tif(from && to){\n\t\t\tthis.config.start_date = this._min_date = new Date(from);\n\t\t\tthis.config.end_date = this._max_date = new Date(to);\n\t\t}\n\t\tthis.date.init();\n\n\t\tif (!this.config.scroll_size)\n\t\t\tthis.config.scroll_size = domHelpers.getScrollSize() || 1;\n\n\t\t//can be called only once\n\t\tthis.init = function(node){\n\t\t\tif (this.$container && this.$container.parentNode){\n\t\t\t\tthis.$container.parentNode.removeChild(this.$container);\n\t\t\t\tthis.$container = null;\n\t\t\t}\n\n\t\t\tif(this.$layout){\n\t\t\t\tthis.$layout.clear();\n\t\t\t}\n\t\t\tthis._reinit(node);\n\t\t};\n\n\t\tthis._reinit(node);\n\t};\n\n\tgantt._reinit = function(node){\n\t\tthis.callEvent(\"onBeforeGanttReady\", []);\n\t\t//this._init_tasks_range();\n\t\tthis.resetLightbox();\n\t\tthis._update_flags();\n\n\n\t\tvar config = this.$services.getService(\"templateLoader\");\n\t\tconfig.initTemplates(this);\n\n\t\tthis._clearTaskLayers();\n\t\tthis._clearLinkLayers();\n\n\t\t//this.clear\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t\tthis.$ui.reset();\n\t\t}\n\n\t\tthis.$root = domHelpers.toNode(node);\n\t\tif(this.$root){\n\t\t\tthis.$root.innerHTML = \"\";\n\t\t}\n\t\tthis.$root.gantt = this;\n\t\tcalculateScaleRange(this);\n\t\tthis.config.layout.id = \"main\";\n\t\tthis.$layout = this.$ui.createView(\"layout\", node, this.config.layout);\n\n\t\tthis.$layout.attachEvent(\"onBeforeResize\", function(){\n\t\t\tvar storeNames = gantt.$services.getService(\"datastores\");\n\t\t\tfor(var i = 0; i < storeNames.length; i++){\n\t\t\t\tgantt.getDatastore(storeNames[i]).filter();\n\t\t\t}\n\t\t});\n\n\t\tthis.$layout.attachEvent(\"onResize\", function(){\n\t\t\tgantt.refreshData();\n\t\t});\n\n\t\tthis.callEvent(\"onGanttLayoutReady\", []);\n\t\tthis.$layout.render();\n\n\t\tgantt.$container = this.$layout.$container.firstChild;\n\n\t\taddResizeListener(gantt);\n\n\t\tthis.callEvent(\"onTemplatesReady\",[]);\n\t\tthis.$mouseEvents.reset(this.$root);\n\t\tthis.callEvent(\"onGanttReady\", []);\n\n\t\tthis.render();\n\t};\n\n\tfunction addResizeListener(gantt){\n\t\tvar containerStyles = window.getComputedStyle(gantt.$root);\n\t\tif(containerStyles.getPropertyValue(\"position\") == \"static\"){\n\t\t\tgantt.$root.style.position = \"relative\";\n\t\t}\n\n\t\tvar resizeWatcher = document.createElement('iframe');\n\t\tresizeWatcher.className = \"gantt_container_resize_watcher\";\n\t\tresizeWatcher.tabIndex = -1;\n\n\t\t// in some environments (namely, in SalesForce) iframe.contentWindow is not available\n\t\tgantt.$root.appendChild(resizeWatcher);\n\t\tif (resizeWatcher.contentWindow) {\n\t\t\tlistenWindowResize(gantt, resizeWatcher.contentWindow);\n\t\t} else {\n\t\t\t// if so - ditch the iframe and fallback to listening the main window resize\n\t\t\tgantt.$root.removeChild(resizeWatcher);\n\t\t\tlistenWindowResize(gantt, window);\n\t\t}\n\t}\n\n\tfunction listenWindowResize(gantt, window){\n\t\tvar resizeDelay;\n\t\tgantt.event(window, \"resize\", function(){\n\t\t\tclearTimeout(resizeDelay);\n\t\t\tresizeDelay = setTimeout(function(){\n\t\t\t\tgantt.render();\n\t\t\t}, 300);\n\t\t});\n\t}\n\n\tgantt.$click={\n\t\tbuttons:{\n\t\t\t\"edit\":function(id){\n\t\t\t\tgantt.showLightbox(id);\n\t\t\t},\n\t\t\t\"delete\":function(id){\n\t\t\t\tvar question = gantt.locale.labels.confirm_deleting;\n\t\t\t\tvar title = gantt.locale.labels.confirm_deleting_title;\n\n\t\t\t\tgantt._dhtmlx_confirm(question, title, function(){\n\t\t\t\t\tif(!gantt.isTaskExists(id)){\n\t\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\t\tif(task.$new){\n\t\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\t\tgantt.deleteTask(id, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgantt.refreshData();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tgantt.deleteTask(id);\n\t\t\t\t\t}\n\n\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n//renders self\n\tgantt.render = function(){\n\t\tthis.callEvent(\"onBeforeGanttRender\", []);\n\n\t\tif (!this.config.sort && this._sort) {\n\t\t\tthis._sort = undefined;\n\t\t}\n\n\t\tvar pos = this.getScrollState();\n\t\tvar posX = pos ? pos.x : 0;\n\t\tif(this._getHorizontalScrollbar()){\n\t\t\tvar scrollbar = this._getHorizontalScrollbar();\n\t\t\tposX = scrollbar.$config.codeScrollLeft || posX || 0;\n\t\t}\n\n\n\t\tvar visible_date = null;\n\t\tif(posX){\n\t\t\tvisible_date = gantt.dateFromPos(posX + this.config.task_scroll_offset);\n\t\t}\n\t\tcalculateScaleRange(this);\n\n\t\tthis.$layout.$config.autosize = this.config.autosize;\n\t\tthis.$layout.resize();\n\n\t\tif(this.config.preserve_scroll && pos){\n\n\t\t\tif(posX){\n\t\t\t\tvar new_pos = gantt.getScrollState();\n\t\t\t\tvar new_date = gantt.dateFromPos(new_pos.x);\n\t\t\t\tif(!(+visible_date == +new_date && new_pos.y == pos.y)){\n\t\t\t\t\tif(visible_date){\n\t\t\t\t\t\tthis.showDate(visible_date);\n\t\t\t\t\t}\n\t\t\t\t\tif(pos.y)\n\t\t\t\t\t\tgantt.scrollTo(undefined, pos.y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.callEvent(\"onGanttRender\", []);\n\t};\n\n\t//TODO: add layout.resize method that wouldn't trigger data repaint\n\tgantt.setSizes = gantt.render;\n\n\tgantt.locate = function(e) {\n\t\tvar trg = domHelpers.getTargetNode(e);\n\n\t\t//ignore empty cells\n\t\tvar className = domHelpers.getClassName(trg);\n\t\tif ((className || \"\").indexOf(\"gantt_task_cell\") >= 0) return null;\n\n\t\tvar targetAttribute = arguments[1] || this.config.task_attribute;\n\n\t\tvar node = domHelpers.locateAttribute(trg, targetAttribute);\n\t\tif(node){\n\t\t\treturn node.getAttribute(targetAttribute);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tgantt._locate_css = function(e, classname, strict){\n\t\treturn domHelpers.locateClassName(e, classname, strict);\n\t};\n\n\tgantt._locateHTML = function(e, attribute) {\n\t\treturn domHelpers.locateAttribute(e, attribute || this.config.task_attribute);\n\t};\n\n\tgantt.getTaskRowNode = function(id) {\n\t\tvar els = this.$grid_data.childNodes;\n\t\tvar attribute = this.config.task_attribute;\n\t\tfor (var i = 0; i < els.length; i++) {\n\t\t\tif (els[i].getAttribute) {\n\t\t\t\tvar value = els[i].getAttribute(attribute);\n\t\t\t\tif (value == id) return els[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\n\tgantt.changeLightboxType = function(type){\n\t\tif(this.getLightboxType() == type)\n\t\t\treturn true;\n\t\tgantt._silent_redraw_lightbox(type);\n\t};\n\n\n\tgantt._get_link_type = function (from_start, to_start) {\n\t\tvar type = null;\n\t\tif (from_start && to_start) {\n\t\t\ttype = gantt.config.links.start_to_start;\n\t\t} else if (!from_start && to_start) {\n\t\t\ttype = gantt.config.links.finish_to_start;\n\t\t} else if (!from_start && !to_start) {\n\t\t\ttype = gantt.config.links.finish_to_finish;\n\t\t} else if (from_start && !to_start) {\n\t\t\ttype = gantt.config.links.start_to_finish;\n\t\t}\n\t\treturn type;\n\t};\n\n\tgantt.isLinkAllowed = function (from, to, from_start, to_start) {\n\t\tvar link = null;\n\t\tif (typeof(from) == \"object\") {\n\t\t\tlink = from;\n\t\t} else {\n\t\t\tlink = {source: from, target: to, type: this._get_link_type(from_start, to_start)};\n\t\t}\n\n\t\tif (!link) return false;\n\t\tif (!(link.source && link.target && link.type)) return false;\n\t\tif (link.source == link.target) return false;\n\n\t\tvar res = true;\n\t\t//any custom rules\n\t\tif (this.checkEvent(\"onLinkValidation\"))\n\t\t\tres = this.callEvent(\"onLinkValidation\", [link]);\n\n\t\treturn res;\n\t};\n\n\n\tgantt._correct_dst_change = function(date, prevOffset, step, unit){\n\t\tvar time_unit = helpers.getSecondsInUnit(unit) * step;\n\t\tif(time_unit > 60*60 && time_unit < 60*60*24){\n\t\t\t//correct dst change only if current unit is more than one hour and less than day (days have own checking), e.g. 12h\n\t\t\tvar offsetChanged = date.getTimezoneOffset() - prevOffset;\n\t\t\tif(offsetChanged){\n\t\t\t\tdate = gantt.date.add(date, offsetChanged, \"minute\");\n\t\t\t}\n\t\t}\n\t\treturn date;\n\t};\n\n\tgantt.isSplitTask = function(task){\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSplitTask. Task object was expected\");\n\t\treturn this.$data.tasksStore._isSplitItem(task);\n\t};\n\n\tgantt._is_icon_open_click = function(e) {\n\t\tif (!e)\n\t\t\treturn false;\n\t\tvar target = e.target || e.srcElement;\n\t\tif (!(target && target.className))\n\t\t\treturn false;\n\t\tvar className = domHelpers.getClassName(target);\n\t\tif (className.indexOf(\"gantt_tree_icon\") !== -1 && (className.indexOf(\"gantt_close\") !== -1 || className.indexOf(\"gantt_open\") !== -1))\n\t\t\treturn true;\n\t\treturn false;\n\t};\n\n};","// default locale\n// load locale definition and wrap it into module build-time\nmodule.exports = function (gantt) {\n\tgantt.locale = {\n\tdate: {\n\t\tmonth_full: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\tday_short: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"New task\",\n\t\ticon_save: \"Save\",\n\t\ticon_cancel: \"Cancel\",\n\t\ticon_details: \"Details\",\n\t\ticon_edit: \"Edit\",\n\t\ticon_delete: \"Delete\",\n\t\tconfirm_closing: \"\",//Your changes will be lost, are you sure?\n\t\tconfirm_deleting: \"Task will be deleted permanently, are you sure?\",\n\t\tsection_description: \"Description\",\n\t\tsection_time: \"Time period\",\n\t\tsection_type: \"Type\",\n\n\t\t/* grid columns */\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Cancel\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n};","module.exports = function(gantt) {\n\n\tgantt.config.touch_drag = 500; //nearly immediate dnd\n\tgantt.config.touch = true;\n\tgantt.config.touch_feedback = true;\n\tgantt.config.touch_feedback_duration = 1;\n\tgantt._prevent_touch_scroll = false;\n\n\n\tgantt._touch_feedback = function () {\n\t\tif (gantt.config.touch_feedback) {\n\t\t\tif (navigator.vibrate)\n\t\t\t\tnavigator.vibrate(gantt.config.touch_feedback_duration);\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onGanttReady\", gantt.bind(function(){\n\t\tif (this.config.touch != \"force\")\n\t\t\tthis.config.touch = this.config.touch &&\n\t\t\t\t((navigator.userAgent.indexOf(\"Mobile\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"iPad\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Android\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Touch\") != -1));\n\n\t\tif (this.config.touch) {\n\n\t\t\tvar touchEventsSupported = true;\n\t\t\ttry {\n\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t} catch (e) {\n\t\t\t\ttouchEventsSupported = false;\n\t\t\t}\n\n\t\t\tif (touchEventsSupported) {\n\t\t\t\tthis._touch_events([\"touchmove\", \"touchstart\", \"touchend\"], function (ev) {\n\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttarget: ev.target,\n\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn ev;\n\t\t\t\t}, function () {\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t} else if (window.navigator.pointerEnabled) {\n\t\t\t\tthis._touch_events([\"pointermove\", \"pointerdown\", \"pointerup\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || (ev.pointerType == \"mouse\" ));\n\t\t\t\t});\n\t\t\t} else if (window.navigator.msPointerEnabled) {\n\t\t\t\tthis._touch_events([\"MSPointerMove\", \"MSPointerDown\", \"MSPointerUp\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || ev.pointerType == ev.MSPOINTER_TYPE_MOUSE);\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t}, gantt));\n\n\n\tfunction getTaskDND(){\n\t\tvar _tasks_dnd;\n\t\tif(gantt.$ui.getView(\"timeline\")){\n\t\t\t_tasks_dnd = gantt.$ui.getView(\"timeline\")._tasks_dnd;\n\t\t}\n\t\treturn _tasks_dnd;\n\t}\n\n\tvar touchHandlers = [];\n\n//we can't use native scrolling, as we need to sync momentum between different parts\n//so we will block native scroll and use the custom one\n//in future we can add custom momentum\n\tgantt._touch_events = function (names, accessor, ignore) {\n\t\t//webkit on android need to be handled separately\n\t\tvar dblclicktime = 0;\n\t\tvar action_mode = false;\n\t\tvar scroll_mode = false;\n\t\tvar action_start = null;\n\t\tvar scroll_state;\n\t\tvar long_tap_timer = null;\n\t\tvar current_target = null;\n\n\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.eventRemove(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\t\ttouchHandlers = [];\n\n\t\t//touch move\n\t\ttouchHandlers.push([gantt.$container, names[0], function (e) {\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\t\tif (ignore(e)) return;\n\n\t\t\t\t//ignore common and scrolling moves\n\t\t\t\tif (!action_mode) return;\n\n\t\t\t\tif (long_tap_timer) clearTimeout(long_tap_timer);\n\n\t\t\t\tvar source = accessor(e);\n\t\t\t\tif (_tasks_dnd && (_tasks_dnd.drag.id || _tasks_dnd.drag.start_drag)) {\n\t\t\t\t\t_tasks_dnd.on_mouse_move(source);\n\t\t\t\t\tif (e.preventDefault)\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.cancelBubble = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!gantt._prevent_touch_scroll) {\n\t\t\t\t\tif (source && action_start) {\n\t\t\t\t\t\tvar dx = action_start.pageX - source.pageX;\n\t\t\t\t\t\tvar dy = action_start.pageY - source.pageY;\n\t\t\t\t\t\tif (!scroll_mode && (Math.abs(dx) > 5 || Math.abs(dy) > 5)) {\n\t\t\t\t\t\t\tgantt._touch_scroll_active = scroll_mode = true;\n\t\t\t\t\t\t\tdblclicktime = 0;\n\t\t\t\t\t\t\tscroll_state = gantt.getScrollState();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (scroll_mode) {\n\t\t\t\t\t\t\tgantt.scrollTo(scroll_state.x + dx, scroll_state.y + dy);\n\t\t\t\t\t\t\tvar new_scroll_state = gantt.getScrollState();\n\n\t\t\t\t\t\t\tif ((scroll_state.x != new_scroll_state.x && dy > 2 * dx) ||\n\t\t\t\t\t\t\t\t(scroll_state.y != new_scroll_state.y && dx > 2 * dy )) {\n\t\t\t\t\t\t\t\treturn block_action(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn block_action(e);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}]);\n\n\n\t\t//block touch context menu in IE10\n\t\ttouchHandlers.push([this.$container, \"contextmenu\", function (e) {\n\t\t\tif (action_mode)\n\t\t\t\treturn block_action(e);\n\t\t}]);\n\n\t\t//touch start\n\t\ttouchHandlers.push([this.$container, names[1], function (e) {\n\t\t\tif (ignore(e)) return;\n\t\t\tif (e.touches && e.touches.length > 1) {\n\t\t\t\taction_mode = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taction_start = accessor(e);\n\t\t\tif (!gantt._locate_css(action_start, \"gantt_hor_scroll\") && !gantt._locate_css(action_start, \"gantt_ver_scroll\")) {\n\t\t\t\taction_mode = true;\n\t\t\t}\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\t//long tap\n\t\t\tlong_tap_timer = setTimeout(function () {\n\t\t\t\tvar taskId = gantt.locate(action_start);\n\t\t\t\tif (_tasks_dnd && (taskId && !gantt._locate_css(action_start, \"gantt_link_control\") && !gantt._locate_css(action_start, \"gantt_grid_data\"))) {\n\t\t\t\t\t_tasks_dnd.on_mouse_down(action_start);\n\n\t\t\t\t\tif (_tasks_dnd.drag && _tasks_dnd.drag.start_drag) {\n\t\t\t\t\t\tcloneTaskRendered(taskId);\n\t\t\t\t\t\t_tasks_dnd._start_dnd(action_start);\n\t\t\t\t\t\tgantt._touch_drag = true;\n\n\t\t\t\t\t\tgantt.refreshTask(taskId);\n\n\t\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tlong_tap_timer = null;\n\t\t\t}, gantt.config.touch_drag);\n\t\t}]);\n\n\t\t//touch end\n\t\ttouchHandlers.push([this.$container, names[2], function (e) {\n\t\t\tif (ignore(e)) return;\n\t\t\tif (long_tap_timer) clearTimeout(long_tap_timer);\n\t\t\tgantt._touch_drag = false;\n\t\t\taction_mode = false;\n\t\t\tvar source = accessor(e);\n\n\t\t\tvar _tasks_dnd = getTaskDND();\n\n\t\t\tif(_tasks_dnd)\n\t\t\t\t_tasks_dnd.on_mouse_up(source);\n\n\t\t\tif (current_target) {\n\t\t\t\tgantt.refreshTask(gantt.locate(current_target));\n\t\t\t\tif (current_target.parentNode) {\n\t\t\t\t\tcurrent_target.parentNode.removeChild(current_target);\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgantt._touch_scroll_active = action_mode = scroll_mode = false;\n\t\t\tcurrent_target = null;\n\n\t\t\t//dbl-tap handling\n\t\t\tif (action_start && dblclicktime) {\n\t\t\t\tvar now = new Date();\n\t\t\t\tif ((now - dblclicktime) < 500) {\n\n\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\tmouseEvents.onDoubleClick(action_start);\n\t\t\t\t\tblock_action(e);\n\t\t\t\t} else\n\t\t\t\t\tdblclicktime = now;\n\t\t\t} else {\n\t\t\t\tdblclicktime = new Date();\n\t\t\t}\n\t\t}]);\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.event(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\n\t\t//common helper, prevents event\n\t\tfunction block_action(e) {\n\t\t\tif (e && e.preventDefault)\n\t\t\t\te.preventDefault();\n\t\t\t(e || event).cancelBubble = true;\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction cloneTaskRendered(taskId) {\n\t\t\tvar renders = gantt._getTaskLayers();\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\tif (task && gantt.isTaskVisible(taskId)) {\n\t\t\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\t\t\ttask = renders[i].rendered[taskId];\n\t\t\t\t\tif (task && task.getAttribute(gantt.config.task_attribute) && task.getAttribute(gantt.config.task_attribute) == taskId) {\n\t\t\t\t\t\tvar copy = task.cloneNode(true);\n\t\t\t\t\t\tcurrent_target = task;\n\t\t\t\t\t\trenders[i].rendered[taskId] = copy;\n\t\t\t\t\t\ttask.style.display = \"none\";\n\t\t\t\t\t\tcopy.className += \" gantt_drag_move \";\n\t\t\t\t\t\ttask.parentNode.appendChild(copy);\n\t\t\t\t\t\t//return copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_white\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_black\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\n\tgantt.skins.material = {\n\t\tconfig: {\n\t\t\tgrid_width: 411,\n\t\t\trow_height: 34,\n\t\t\ttask_height_offset: 6,\n\t\t\tscale_height: 36,\n\t\t\tlink_line_width: 2,\n\t\t\tlink_arrow_size: 6,\n\t\t\tlightbox_additional_height: 80\n\t\t},\n\t\t_second_column_width: 110,\n\t\t_third_column_width: 75,\n\t\t_redefine_lightbox_buttons: {\n\t\t\t\"buttons_left\": [\"dhx_delete_btn\"],\n\t\t\t\"buttons_right\": [\"dhx_save_btn\", \"dhx_cancel_btn\"]\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onAfterTaskDrag\", function (id) {\n\t\tvar t = gantt.getTaskNode(id);\n\t\tif (t) {\n\t\t\tt.className += \" gantt_drag_animation\";\n\t\t\tsetTimeout(function () {\n\t\t\t\tvar indx = t.className.indexOf(\" gantt_drag_animation\");\n\t\t\t\tif (indx > -1) {\n\t\t\t\t\tt.className = t.className.slice(0, indx);\n\t\t\t\t}\n\t\t\t}, 200);\n\t\t}\n\t});\n\n};","module.exports = function(gantt) {\n\tgantt.skins.broadway = {\n\t\tconfig: {\n\t\t\tgrid_width: 360,\n\t\t\trow_height: 35,\n\t\t\tscale_height: 35,\n\t\t\tlink_line_width: 1,\n\t\t\tlink_arrow_size: 7,\n\t\t\tlightbox_additional_height: 86\n\t\t},\n\t\t_second_column_width: 90,\n\t\t_third_column_width: 80,\n\n\t\t_lightbox_template: \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>\",\n\t\t_config_buttons_left: {},\n\t\t_config_buttons_right: {\n\t\t\t\"gantt_delete_btn\": \"icon_delete\",\n\t\t\t\"gantt_save_btn\": \"icon_save\"\n\t\t}\n\t};\n};","module.exports = function(gantt) {\ngantt.skins.terrace = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:90,\n\t_third_column_width:70\t\t\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.meadow = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 30,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:72\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.skyblue = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 27,\n\t\tlink_line_width:1,\n\t\tlink_arrow_size:8,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","function _configure(col, data, force) {\n\tfor (var key in data)\n\t\tif (typeof col[key] == \"undefined\" || force)\n\t\t\tcol[key] = data[key];\n}\n\nfunction _get_skin(force, gantt) {\n\tvar skin = gantt.skin;\n\tif (!skin || force) {\n\t\tvar links = document.getElementsByTagName(\"link\");\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar res = links[i].href.match(\"dhtmlxgantt_([a-z_]+).css\");\n\t\t\tif (res) {\n\t\t\t\tif (gantt.skins[res[1]] || !skin) {\n\t\t\t\t\tskin = res[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgantt.skin = skin || \"terrace\";\n\tvar skinset = gantt.skins[gantt.skin] || gantt.skins[\"terrace\"];\n\n\t//apply skin related settings\n\t_configure(gantt.config, skinset.config, force);\n\n\tvar config = gantt.getGridColumns();\n\tif (config[1] && !gantt.defined(config[1].width))\n\t\tconfig[1].width = skinset._second_column_width;\n\tif (config[2] && !gantt.defined(config[2].width))\n\t\tconfig[2].width = skinset._third_column_width;\n\t\n\tfor (var i=0; i<config.length; i++) {\n\t\tvar column = config[i];\n\t\tif (column.name == \"add\") {\n\t\t\tif(!column.width){\n\t\t\t\tcolumn.width = 44;\n\t\t\t}\n\t\t\tif (!(gantt.defined(column.min_width) && gantt.defined(column.max_width))) {\n\t\t\t\tcolumn.min_width = column.min_width || column.width;\n\t\t\t\tcolumn.max_width = column.max_width || column.width;\n\t\t\t}\n\t\t\tif (column.min_width)\n\t\t\t\tcolumn.min_width = +column.min_width;\n\t\t\tif (column.max_width)\n\t\t\t\tcolumn.max_width = +column.max_width;\n\t\t\tif (column.width) {\n\t\t\t\tcolumn.width = +column.width;\n\t\t\t\tcolumn.width = (column.min_width && column.min_width > column.width) ? column.min_width : column.width;\n\t\t\t\tcolumn.width = (column.max_width && column.max_width < column.width) ? column.max_width : column.width;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (skinset.config.task_height)\n\t\tgantt.config.task_height = skinset.config.task_height || \"full\"; \n\n\tif (skinset._lightbox_template)\n\t\tgantt._lightbox_template = skinset._lightbox_template;\n\n\tif (skinset._redefine_lightbox_buttons) {\n\t\tgantt.config.buttons_right = skinset._redefine_lightbox_buttons[\"buttons_right\"];\n\t\tgantt.config.buttons_left = skinset._redefine_lightbox_buttons[\"buttons_left\"];\n\t}\n\n\n\tgantt.resetLightbox();\n}\n\nmodule.exports = function(gantt) {\n\tif(!gantt.resetSkin){\n\t\tgantt.resetSkin = function () {\n\t\t\tthis.skin = \"\";\n\t\t\t_get_skin(true, this);\n\t\t};\n\t\tgantt.skins = {};\n\n\t\tgantt.attachEvent(\"onGanttLayoutReady\", function(){\n\t\t\t_get_skin(false, this);\n\t\t});\n\t}\n};","/*\n reuse results of functions that can be recalculated during rendering\n greatly increases the rendering speed when critical path enabled\n Sample - 94_dev/critical_path.html\n\n */\nmodule.exports = function(gantt){\n\ngantt._cached_functions = {\n\tcache: {},\n\tmode: false,\n\tcritical_path_mode: false,\n\twrap_methods : function(methods, object){\n\t\tif(object._prefetch_originals){\n\t\t\tfor(var i in object._prefetch_originals){\n\t\t\t\tobject[i] = object._prefetch_originals[i];\n\t\t\t}\n\t\t}\n\t\tobject._prefetch_originals = {};\n\t\tfor(var i = 0; i < methods.length; i++)\n\t\t\tthis.prefetch(methods[i], object);\n\n\t},\n\tprefetch : function(methodname, host){\n\t\tvar original = host[methodname];\n\t\tif(original){\n\t\t\tvar optimizer = this;\n\n\t\t\thost._prefetch_originals[methodname] = original;\n\t\t\thost[methodname] = function get_prefetched_value(){\n\n\t\t\t\tvar argumentsArray = new Array(arguments.length);\n\t\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\t\targumentsArray[i] = arguments[i];\n\t\t\t\t}\n\n\t\t\t\tif(optimizer.active){\n\t\t\t\t\tvar args = optimizer.get_arguments_hash(Array.prototype.slice.call(argumentsArray));\n\t\t\t\t\tif(!optimizer.cache[methodname]){\n\t\t\t\t\t\toptimizer.cache[methodname] = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar cached_values = optimizer.cache[methodname];\n\n\t\t\t\t\tif(optimizer.has_cached_value(cached_values, args)){\n\t\t\t\t\t\treturn optimizer.get_cached_value(cached_values, args);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar value = original.apply(this, argumentsArray);\n\t\t\t\t\t\toptimizer.cache_value(cached_values, args, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn original.apply(this, argumentsArray);\n\t\t\t};\n\t\t}\n\t\treturn original;\n\t},\n\tcache_value: function(cache, arguments_hash, value){\n\t\tif(this.is_date(value))\n\t\t\tvalue = new Date(value);\n\t\tcache[arguments_hash] = value;\n\t},\n\thas_cached_value: function(cache, arguments_hash){\n\t\treturn cache.hasOwnProperty(arguments_hash);\n\t},\n\tget_cached_value: function(cache, arguments_hash){\n\t\tvar data = cache[arguments_hash];\n\n\t\t//for cached dates - return copy\n\t\tif(this.is_date(data)){\n\t\t\tdata = new Date(data);\n\t\t}\n\t\treturn data;\n\t},\n\tis_date: function(value){\n\t\treturn (value && value.getUTCDate);\n\t},\n\tget_arguments_hash:function(args){\n\t\tvar values = [];\n\t\tfor(var i = 0; i < args.length; i++){\n\t\t\tvalues.push(this.stringify_argument(args[i]));\n\t\t}\n\t\treturn \"(\" + values.join(\";\") + \")\";\n\t},\n\tstringify_argument: function(value){\n\t\t//expecting task or link, or any other data entries, dates and primitive values\n\t\tvar ret = \"\";\n\t\tif(value.id){\n\t\t\tret = value.id;\n\t\t}else if(this.is_date(value)){\n\t\t\tret = value.valueOf();\n\t\t}else{\n\t\t\tret = value;\n\t\t}\n\t\treturn ret + \"\";\n\t},\n\tactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = true;\n\t},\n\tdeactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = false;\n\t},\n\tclear: function(){\n\t\tthis.cache = {};\n\t},\n\n\tsetup: function(gantt){\n\t\tvar override_gantt = [];\n\n\t\tvar gantt_methods  = [\n\t\t\t'_isProjectEnd',\n\t\t\t'_getProjectEnd',\n\t\t\t'_getSlack'\n\t\t];\n\n\n\n\t\tif(this.mode == 'auto'){\n\t\t\tif(gantt.config.highlight_critical_path){\n\t\t\t\toverride_gantt = gantt_methods;\n\t\t\t}\n\t\t}else if(this.mode === true){\n\t\t\toverride_gantt = gantt_methods;\n\t\t}\n\n\t\tthis.wrap_methods(override_gantt, gantt);\n\n\t},\n\tupdate_if_changed: function(gantt){\n\t\tvar changed = (this.critical_path_mode != gantt.config.highlight_critical_path ||\n\t\t\t\t\t\tthis.mode !== gantt.config.optimize_render);\n\t\tif(changed){\n\t\t\tthis.critical_path_mode = gantt.config.highlight_critical_path;\n\t\t\tthis.mode = gantt.config.optimize_render;\n\t\t\tthis.setup(gantt);\n\t\t}\n\t}\n};\n\nfunction activate(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\tif(!gantt._cached_functions.active){\n\t\tgantt._cached_functions.activate();\n\t}\n\treturn true;\n}\ngantt.attachEvent(\"onBeforeGanttRender\", activate);\ngantt.attachEvent(\"onBeforeDataRender\", activate);\ngantt.attachEvent(\"onBeforeSmartRender\",  function(){\n\tactivate();\n});\ngantt.attachEvent(\"onBeforeParse\", activate);\ngantt.attachEvent(\"onDataRender\", function(){\n\tgantt._cached_functions.deactivate();\n});\nvar deactivTimeout = null;\ngantt.attachEvent(\"onSmartRender\", function(){\n\tif(deactivTimeout)\n\t\tclearTimeout(deactivTimeout);\n\tdeactivTimeout = setTimeout(function(){\n\t\tgantt._cached_functions.deactivate();\n\t}, 1000);\n});\n\ngantt.attachEvent(\"onBeforeGanttReady\", function(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\treturn true;\n});\n\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./select_control\")(gantt);\n\n\tfunction TypeselectControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(TypeselectControl, _super);\n\n\tTypeselectControl.prototype.render = function(sns) {\n\t\tvar types = gantt.config.types,\n\t\t\tlocale = gantt.locale.labels,\n\t\t\toptions = [];\n\n\t\tvar filter = sns.filter || function() {\n\t\t\treturn true;\n\t\t};\n\t\tfor (var i in types) {\n\t\t\tif (!filter(i, types[i]) === false) {\n\t\t\t\toptions.push({ key: types[i], label: locale[\"type_\" + i] });\n\t\t\t}\n\t\t}\n\t\tsns.options = options;\n\n\t\tvar oldOnChange = sns.onchange;\n\t\tsns.onchange = function () {\n\t\t\tgantt.changeLightboxType(this.value);\n\t\t\tif (typeof oldOnChange == 'function') {\n\t\t\t\toldOnChange.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\treturn _super.prototype.render.apply(this, arguments);\n\t};\n\n\treturn TypeselectControl;\n};\n","module.exports = function(gantt) {\n\tvar TypeselectControl = require(\"./lightbox/controls/typeselect_control\")(gantt);\n\n\tgantt.getTaskType = function (type) {\n\t\tvar checkType = type;\n\t\tif(type && typeof type == \"object\"){\n\t\t\tcheckType = type.type;\n\t\t}\n\n\t\tfor (var i in this.config.types) {\n\t\t\tif (this.config.types[i] == checkType) {\n\t\t\t\treturn checkType;\n\t\t\t}\n\t\t}\n\t\treturn gantt.config.types.task;\n\t};\n\n\tgantt.form_blocks.typeselect = new TypeselectControl();\n\n};","module.exports = function(gantt) {\n\n\tgantt._extend_to_optional = function (lightbox_block) {\n\n\t\tvar duration = lightbox_block;\n\t\tvar optional_time = {\n\t\t\trender: duration.render,\n\t\t\tfocus: duration.focus,\n\t\t\tset_value: function (node, value, task, section) {\n\t\t\t\tvar mapping = gantt._resolve_default_mapping(section);\n\t\t\t\tif (!task[mapping.start_date] || (mapping.start_date == \"start_date\" && this._isAllowedUnscheduledTask(task))) {\n\t\t\t\t\toptional_time.disable(node, section);\n\t\t\t\t\tvar val = {};\n\n\t\t\t\t\tfor (var i in mapping) {\n\t\t\t\t\t\t//take default values from the time control from task start/end dates\n\t\t\t\t\t\tval[mapping[i]] = task[i];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, val, section);//set default value\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.enable(node, section);\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget_value: function (node, task, section) {\n\t\t\t\tif (section.disabled) {\n\t\t\t\t\treturn {start_date: null};\n\t\t\t\t} else {\n\t\t\t\t\treturn duration.get_value.call(gantt, node, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate_block: function (node, section) {\n\t\t\t\tgantt.callEvent(\"onSectionToggle\", [gantt._lightbox_id, section]);\n\t\t\t\tnode.style.display = section.disabled ? \"none\" : \"block\";\n\n\t\t\t\tif (section.button) {\n\t\t\t\t\tvar button = node.previousSibling.querySelector(\".gantt_custom_button_label\"),\n\t\t\t\t\t\tlabels = gantt.locale.labels;\n\n\t\t\t\t\tvar button_text = section.disabled ? labels[section.name + \"_enable_button\"] : labels[section.name + \"_disable_button\"];\n\n\t\t\t\t\tbutton.innerHTML = button_text;\n\t\t\t\t}\n\t\t\t\tgantt.resizeLightbox();\n\t\t\t},\n\t\t\tdisable: function (node, section) {\n\t\t\t\tsection.disabled = true;\n\t\t\t\toptional_time.update_block(node, section);\n\n\t\t\t},\n\t\t\tenable: function (node, section) {\n\t\t\t\tsection.disabled = false;\n\t\t\t\toptional_time.update_block(node, section);\n\t\t\t},\n\t\t\tbutton_click: function (index, el, section, container) {\n\t\t\t\tif (gantt.callEvent(\"onSectionButton\", [gantt._lightbox_id, section]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar config = gantt._get_typed_lightbox_config()[index];\n\t\t\t\tif (config.disabled) {\n\t\t\t\t\toptional_time.enable(container, config);\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.disable(container, config);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn optional_time;\n\t};\n\n\tgantt.form_blocks.duration_optional = gantt._extend_to_optional(gantt.form_blocks.duration);\n\tgantt.form_blocks.time_optional = gantt._extend_to_optional(gantt.form_blocks.time);\n\n};","var __extends = require(\"../../../utils/extends\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction ConstraintControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(ConstraintControl, _super);\n\n\tfunction isNonTimedConstraint(value) {\n\t\tif (!value || value === gantt.config.constraint_types.ASAP || value === gantt.config.constraint_types.ALAP) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction toggleTimeSelect(timeSelects, typeValue) {\n\t\tvar isNonTimed = isNonTimedConstraint(typeValue);\n\t\tfor (var i = 0; i < timeSelects.length; i++) {\n\t\t\ttimeSelects[i].disabled = isNonTimed;\n\t\t}\n\t}\n\n\tConstraintControl.prototype.render = function (sns) {\n\t\tvar height = (sns.height || 30) + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext gantt_section_\" + sns.name + \"' style='height:\" + height + \";'>\";\n\n\t\tvar options = [];\n\t\tfor (var i in gantt.config.constraint_types) {\n\t\t\toptions.push({ key: gantt.config.constraint_types[i], label: gantt.locale.labels[gantt.config.constraint_types[i]] });\n\t\t}\n\n\t\tsns.options = sns.options || options;\n\n\t\thtml += \"<span data-constraint-type-select>\" + htmlHelpers.getHtmlSelect(sns.options, [{ key: \"data-type\", value: \"constraint-type\" }]) + \"</span>\";\n\n\t\tvar timeLabel = gantt.locale.labels[\"constraint_date\"] || \"Constraint date\";\n\t\thtml += \"<label data-constraint-time-select>\" + timeLabel + \": \" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</label>\";\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tConstraintControl.prototype.set_value = function (node, value, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\t\tvar map = config._time_format_order;\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (!typeSelect._eventsInitialized) {\n\t\t\ttypeSelect.addEventListener(\"input\", function (e) {\n\t\t\t\ttoggleTimeSelect(timeSelects, e.target.value);\n\t\t\t});\n\t\t\ttypeSelect._eventsInitialized = true;\n\t\t}\n\n\t\tvar constraintDate = task[mapping.constraint_date] || new Date();\n\t\tgantt.form_blocks._fill_lightbox_select(timeSelects, 0, constraintDate, map, config);\n\n\t\tvar constraintType = task[mapping.constraint_type] || gantt.getConstraintType(task);\n\t\ttypeSelect.value = constraintType;\n\t\ttoggleTimeSelect(timeSelects, constraintType);\n\t};\n\n\tConstraintControl.prototype.get_value = function (node, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\n\t\tvar constraintType = typeSelect.value;\n\t\tvar constraintDate = null;\n\t\tif (!isNonTimedConstraint(constraintType)) {\n\t\t\tconstraintDate = gantt.form_blocks.getTimePickerValue(timeSelects, config);\n\t\t}\n\n\t\treturn {\n\t\t\tconstraint_type: constraintType,\n\t\t\tconstraint_date: constraintDate\n\t\t};\n\t};\n\n\tConstraintControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.querySelector(\"select\"));\n\t};\n\n\treturn ConstraintControl;\n};","var helpers = require(\"../../../utils/helpers\");\nvar domHelpers = require(\"../../../utils/dom_helpers\");\nvar htmlHelpers = require(\"../../../utils/html_helpers\");\nvar __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\tvar localCache = {\n\t\tresources: {},\n\t\tresourcesValues: {},\n\t\tfilter: {},\n\t\teventsInitialized: {}\n\t};\n\n\tgantt.attachEvent(\"onAfterLightbox\", _clearCached);\n\n\tfunction ResourcesControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(ResourcesControl, _super);\n\n\tResourcesControl.prototype.render = function(sns) {\n\t\tvar html;\n\t\tvar resourceFilterPlaceholder = gantt.locale.labels.resources_filter_placeholder || sns.filter_placeholder || \"type to filter\";\n\t\tvar resourceFilterLabel = gantt.locale.labels.resources_filter_label || \"hide empty\";\n\t\t// if set fixed height for this element, then resize of lightbox will be calculated improperly\n\t\thtml = \"<div\" + (!isNaN(sns.height) ? \" style='height: \" + sns.height + \"px;'\" : \"\") + \">\";\n\t\thtml += \"<div class='gantt_cal_ltext gantt_resources_filter'><input type='text' class='gantt_resources_filter_input' placeholder='\" + resourceFilterPlaceholder + \"'> <label><input class='switch_unsetted' type='checkbox'><span class='matherial_checkbox_icon'></span>\" + resourceFilterLabel + \"</label></div>\";\n\t\thtml += \"<div class='gantt_cal_ltext gantt_resources' data-name='\" + sns.name + \"'></div>\";\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tResourcesControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar resourcesElement = _setResourcesElement(node, sns);\n\t\tvar htmlResourceRow = \"\";\n\t\tvar data;\n\n\t\t_setFilterCache(node, sns);\n\t\t_initEvents(node, ev, sns, this);\n\n\t\thelpers.forEach(sns.options, function(entry, index) {\n\t\t\tif (sns.unassigned_value == entry.key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata = _getDisplayValues(sns, value, entry);\n\n\t\t\thtmlResourceRow += [\n\t\t\t\t\"<label class='gantt_resource_row' data-item-id='\" + entry.key + \"' data-checked=\"+(data.value ? 'true' : 'false')+\">\",\n\t\t\t\t\"<input class='gantt_resource_toggle' type='checkbox'\", data.value ? \" checked='checked'\" : \"\", \"><div class='gantt_resource_cell gantt_resource_cell_checkbox'><span class='matherial_checkbox_icon'></span></div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_label'>\", entry.label, \"</div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_value'>\", _getAmountInput(entry, data.value, !data.value),\"</div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_unit'>\", entry.unit,\"</div>\",\n\t\t\t\t\"</label>\"\n\t\t\t].join(\"\");\n\t\t});\n\t\tresourcesElement.innerHTML = htmlResourceRow;\n\t\t// weird element sizes in ie11 when display empty resource list, use zoom to force repaint\n\t\tresourcesElement.style.zoom = \"1\";\n\t\tresourcesElement._offsetSizes = resourcesElement.offsetHeight;\n\t\tresourcesElement.style.zoom = \"\";\n\n\t\tgantt.resizeLightbox();\n\t\tgantt._center_lightbox(gantt.getLightbox());\n\t};\n\n\tResourcesControl.prototype.get_value = function(node, ev, sns) {\n\t\tvar amountElement = _getResourcesElement(sns);\n\t\tvar result = [];\n\t\tvar selectorAdd = _getInputElementSelector(true);\n\t\tvar selectorSub = _getInputElementSelector(false);\n\t\tvar filterCache = _getFilterCache(sns);\n\t\tvar settedValues = ev[sns.map_to] || [];\n\t\tvar settedValuesHash = {};\n\n\t\tif (filterCache.filterApplied && settedValues && settedValues.length > 0) {\n\t\t\thelpers.forEach(settedValues, function(entry) {\n\t\t\t\tsettedValuesHash[String(entry.resource_id)] = entry;\n\t\t\t});\n\t\t}\n\n\t\tvar itemsAdd = amountElement.querySelectorAll(selectorAdd);\n\t\tvar itemsSub = amountElement.querySelectorAll(selectorSub);\n\n\t\tfor (var i = 0; i < itemsSub.length; i++) {\n\t\t\tdelete settedValuesHash[itemsSub[i].getAttribute(\"data-item-id\")];\n\t\t}\n\n\t\tfor (var i = 0; i < itemsAdd.length; i++) {\n\t\t\tvar resourceId = itemsAdd[i].getAttribute(\"data-item-id\");\n\t\t\tvar amount = itemsAdd[i].value.trim();\n\n\t\t\tif (amount !== \"\" && amount !== \"0\") {\n\t\t\t\tdelete settedValuesHash[resourceId];\n\t\t\t\tresult[result.length] = { resource_id: resourceId, value: amount };\n\t\t\t}\n\t\t}\n\n\t\tfor (var item in settedValuesHash) {\n\t\t\tif (!localCache.resourcesValues[sns.id]) {\n\t\t\t\tresult[result.length] = settedValuesHash[item];\n\t\t\t} else {\n\t\t\t\tresult[result.length] = localCache.resourcesValues[sns.id][item] || settedValuesHash[item];\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tResourcesControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\".gantt_resources\"));\n\t};\n\n\tfunction _getAmountInput(item, value, disabled) {\n\t\tvar _attributes;\n\t\tvar innerHTML = \"\";\n\n\t\tif (!item) return;\n\n\t\t_attributes = [{ key: \"data-item-id\", value: item.key }, { key: \"class\", value: \"gantt_resource_amount_input\"}];\n\t\tif (disabled) {\n\t\t\t_attributes.push({ key: \"disabled\", value: \"disabled\" });\n\t\t}\n\n\t\tif (item.options) {\n\t\t\tinnerHTML += htmlHelpers.getHtmlSelect(item.options, _attributes, value);\n\t\t} else {\n\t\t\t_attributes[_attributes.length] = { key: \"value\", value: value || \"\" };\n\t\t\tinnerHTML += htmlHelpers.getHtmlInput(_attributes);\n\t\t}\n\t\treturn innerHTML;\n\t}\n\n\tfunction _getValue(el) {\n\t\treturn el.value.trim();\n\t}\n\n\tfunction _initEvents(node, ev, sns, context) {\n\t\tif (localCache.eventsInitialized[sns.id]) return;\n\n\t\tvar _applyFilter = function(e) {\n\t\t\tvar resultSns;\n\t\t\tvar value = ev[sns.map_to];\n\t\t\tvar query;\n\t\t\tvar hideUnsetted;\n\t\t\tvar input;\n\t\t\tvar checkbox;\n\t\t\tvar filterCache = _getFilterCache(sns);\n\n\t\t\tcheckbox = filterCache.checkbox;\n\t\t\tinput = filterCache.input;\n\n\t\t\thideUnsetted = checkbox.checked;\n\t\t\tquery = _getValue(input);\n\t\t\tresultSns = _getSnsToHideUnsetted(sns, ev, query, hideUnsetted);\n\t\t\tfilterCache.filterApplied = true;\n\t\t\tcontext.form_blocks.resources.set_value(node, value, ev, resultSns);\n\t\t};\n\n\t\tfunction _resourceChangeListener(e) {\n\t\t\tvar target = e.target;\n\t\t\tvar parent;\n\t\t\tvar input;\n\n\t\t\tif (e.target.type === \"checkbox\") {\n\t\t\t\tparent = target.parentNode;\n\t\t\t\tinput = parent.querySelector(_getInputElementSelector());\n\t\t\t\tinput.disabled = !target.checked;\n\t\t\t\tvar itemId = input.getAttribute(\"data-item-id\");\n\t\t\t\tvar row = domHelpers.locateClassName(e, \"gantt_resource_row\");\n\t\t\t\tvar valueInput = row.querySelector(\".gantt_resource_amount_input\");\n\t\t\t\trow.setAttribute(\"data-checked\", target.checked);\n\t\t\t\tif (target.checked) {\n\t\t\t\t\tif (input.nodeName.toLowerCase() === \"select\") {\n\t\t\t\t\t\tgantt.callEvent(\"onResourcesSelectActivated\", [{ target: input }]);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar resId = itemId;\n\t\t\t\t\tvar defaultValue = sns.default_value;\n\t\t\t\t\tsns.options.forEach(function(option){\n\t\t\t\t\t\tif(option.key == resId && option.default_value){\n\t\t\t\t\t\t\tdefaultValue = option.default_value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif(valueInput && !valueInput.value && defaultValue !== undefined){\n\t\t\t\t\t\tvalueInput.value = defaultValue;\n\t\t\t\t\t\t_saveValues(sns, this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(valueInput.select) {\n\t\t\t\t\t\tvalueInput.select();\n\t\t\t\t\t}else if(valueInput.focus){\n\t\t\t\t\t\tvalueInput.focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\n\t\t\t\t\tif (localCache.resourcesValues[sns.id]) {\n\t\t\t\t\t\tdelete localCache.resourcesValues[sns.id][itemId];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (e.target.type === \"text\" || e.target.nodeName.toLowerCase() === \"select\") {\n\t\t\t\tparent = target.parentNode.parentNode;\n\n\t\t\t\tinput = e.target;\n\t\t\t\t_saveValues(sns, this);\n\t\t\t}\n\t\t}\n\n\t\tfunction _saveValues(sns, domElement) {\n\t\t\tvar selector = _getInputElementSelector();\n\t\t\tvar inputs = domElement.querySelectorAll(selector);\n\n\t\t\tlocalCache.resourcesValues[sns.id] = localCache.resourcesValues[sns.id] || {};\n\n\t\t\tfor (var i = 0; i < inputs.length; i++) {\n\t\t\t\tvar key = inputs[i].getAttribute(\"data-item-id\");\n\n\t\t\t\tif (!inputs[i].disabled) {\n\t\t\t\t\tlocalCache.resourcesValues[sns.id][key] = inputs[i].value;\n\t\t\t\t} else {\n\t\t\t\t\tdelete localCache.resourcesValues[sns.id][key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_applyFilter = helpers.throttle(_applyFilter, 100);\n\n\t\t_getFilterCache(sns).container.addEventListener(\"keyup\", _applyFilter);\n\t\t_getFilterCache(sns).container.addEventListener(\"input\", _applyFilter, true);\n\t\t_getFilterCache(sns).container.addEventListener(\"change\", _applyFilter, true);\n\t\t_getResourcesElement(sns).addEventListener(\"input\", _resourceChangeListener);\n\t\t_getResourcesElement(sns).addEventListener(\"change\", _resourceChangeListener);\n\t\tgantt.attachEvent(\"onResourcesSelectActivated\", gantt.bind(_resourceChangeListener, _getResourcesElement(sns)));\n\t\tlocalCache.eventsInitialized[sns.id] = true;\n\t}\n\n\tfunction _getSnsToHideUnsetted(sns, ev, query, hideUnsetted) {\n\t\tvar comparison;\n\t\tvar resultSns;\n\n\t\tif (!hideUnsetted) {\n\t\t\tif (query === \"\") {// show all\n\t\t\t\treturn sns;\n\t\t\t}\n\n\t\t\tcomparison = function(entry) {// show matching labels only\n\t\t\t\tif (entry.label.indexOf(query) >= 0) {\n\t\t\t\t\treturn entry;\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\tvar collection = ev[sns.map_to] || [];\n\n\t\t\tif (!helpers.isArray(collection)) {\n\t\t\t\tcollection = [collection];\n\t\t\t}\n\t\t\t\n\t\t\t// copy section array in order not to modify ev[sns.map_to]\n\t\t\tcollection = collection.slice();\n\n\t\t\tif (collection.length === 0) {//nothing setted\n\t\t\t\tcollection = [];\n\t\t\t\tresultSns = gantt.copy(sns);\n\t\t\t\tresultSns.options = [];\n\t\t\t\tfor (var key in localCache.resourcesValues[sns.id]) {\n\t\t\t\t\tcollection.push({resource_id: key, value: localCache.resourcesValues[sns.id][key]});\n\t\t\t\t}\n\n\t\t\t\tif (collection.length === 0) {\n\t\t\t\t\treturn resultSns;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var key in localCache.resourcesValues[sns.id]) {\n\t\t\t\t\tvar searchResult = helpers.arrayFind(collection, function(entry) {\n\t\t\t\t\t\treturn entry.id == key;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!searchResult) {\n\t\t\t\t\t\tcollection.push({resource_id: key, value: localCache.resourcesValues[sns.id][key]});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar itemIds = {};\n\n\t\t\tfor (var i=0; i < collection.length; i++) {\n\t\t\t\titemIds[collection[i].resource_id] = true;\n\t\t\t}\n\t\t\tcomparison = function(entry) {//show setted and filtered if field is filled\n\t\t\t\tif (itemIds[String(entry.key)] && (query === \"\" || entry.label.indexOf(query) >= 0)) {\n\t\t\t\t\treturn entry;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tresultSns = gantt.copy(sns);\n\t\tresultSns.options = helpers.arrayFilter(resultSns.options, comparison);\n\t\treturn resultSns;\n\t}\n\n\tfunction _getInputElementSelector(isChecked) {\n\t\tif(isChecked === undefined){\n\t\t\treturn \".gantt_resource_amount_input\";\n\t\t}else{\n\t\t\treturn \"[data-checked='\"+(isChecked ? \"true\" : \"false\") + \"'] .gantt_resource_amount_input\";\n\t\t}\n\t}\n\n\tfunction _setResourcesElement(node, sns) {\n\t\tif (!localCache.resources[sns.id]) {\n\t\t\tlocalCache.resources[sns.id] = node.querySelector(\".gantt_resources\");\n\t\t}\n\t\treturn localCache.resources[sns.id];\n\t}\n\n\tfunction _getResourcesElement(sns) {\n\t\treturn localCache.resources[sns.id];\n\t}\n\n\tfunction _setFilterCache(node, sns) {\n\t\tif (!localCache.filter[sns.id]) {\n\t\t\tvar container = node.querySelector(\".gantt_resources_filter\");\n\t\t\tvar input = container.querySelector(\".gantt_resources_filter_input\");\n\t\t\tvar checkbox = container.querySelector(\".switch_unsetted\");\n\n\t\t\tlocalCache.filter[sns.id] = {\n\t\t\t\tcontainer: container,\n\t\t\t\tinput: input,\n\t\t\t\tcheckbox: checkbox,\n\t\t\t\tfilterApplied: false\n\t\t\t};\n\t\t}\n\t\treturn localCache.filter[sns.id];\n\t}\n\n\tfunction _getFilterCache(sns) {\n\t\treturn localCache.filter[sns.id];\n\t}\n\n\tfunction _clearCached() {\n\t\tfor (var key in localCache.filter) {\n\t\t\tlocalCache.filter[key].checkbox.checked = false;\n\t\t\tlocalCache.filter[key].input.value = \"\";\n\t\t\tlocalCache.filter[key].filterApplied = false;\n\t\t}\n\t\tlocalCache.resourcesValues = {};\n\t}\n\n\tfunction _getDisplayValues(sns, value, option) {\n\t\tvar data = {};\n\n\t\tif (value) {\n\t\t\tvar searchResult;\n\n\t\t\tif (helpers.isArray(value)) {\n\t\t\t\tsearchResult = helpers.arrayFind(value, function(val) {\n\t\t\t\t\treturn (val.resource_id == option.key);\n\t\t\t\t});\n\t\t\t} else if (value.resource_id == option.key) {\n\t\t\t\tsearchResult = value;\n\t\t\t}\n\n\t\t\tif (searchResult) {\n\t\t\t\tdata.value = searchResult.value;\n\t\t\t}\n\t\t}\n\t\tif (localCache.resourcesValues[sns.id] && localCache.resourcesValues[sns.id][option.key]) {\n\t\t\tdata.value = localCache.resourcesValues[sns.id][option.key];\n\t\t}\n\t\treturn data;\n\t}\n\n\treturn ResourcesControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./select_control\")(gantt);\n\n\tfunction ParentControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\t__extends(ParentControl, _super);\n\n\n\tParentControl.prototype.render = function(sns) {\n\t\treturn _display(sns, false);\n\t};\n\n\tParentControl.prototype.set_value = function(node, value, ev, config) {\n\t\tvar tmpDom = document.createElement(\"div\");\n\t\ttmpDom.innerHTML = _display(config, ev.id);\n\t\tvar newOptions = tmpDom.removeChild(tmpDom.firstChild);\n\t\tnode.onselect = null;\n\t\tnode.parentNode.replaceChild(newOptions, node);\n\n\t\treturn gantt.form_blocks.select.set_value.apply(gantt, [newOptions, value, ev, config]);\n\t};\n\n\tfunction _display(config, item_id) {\n\t\tvar tasks = [],\n\t\t\toptions = [];\n\t\tif (item_id) {\n\t\t\ttasks = gantt.getTaskByTime();\n\t\t\tif (config.allow_root) {\n\t\t\t\ttasks.unshift({id: gantt.config.root_id, text: config.root_label || \"\"});\n\t\t\t}\n\t\t\ttasks = _filter(tasks, config, item_id);\n\t\t\tif (config.sort) {\n\t\t\t\ttasks.sort(config.sort);\n\t\t\t}\n\t\t}\n\t\tvar text = config.template || gantt.templates.task_text;\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tvar label = text.apply(gantt, [tasks[i].start_date, tasks[i].end_date, tasks[i]]);\n\t\t\tif (label === undefined) {\n\t\t\t\tlabel = \"\";\n\t\t\t}\n\t\t\toptions.push({\n\t\t\t\tkey: tasks[i].id,\n\t\t\t\tlabel: label\n\t\t\t});\n\t\t}\n\t\tconfig.options = options;\n\t\tconfig.map_to = config.map_to || \"parent\";\n\t\treturn gantt.form_blocks.select.render.apply(this, arguments);\n\t}\n\n\tfunction _filter(options, config, item_id) {\n\t\tvar filter = config.filter || function() {\n\t\t\treturn true;\n\t\t};\n\n\t\toptions = options.slice(0);\n\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tvar task = options[i];\n\t\t\tif (task.id == item_id || gantt.isChildOf(task.id, item_id) || filter(task.id, task) === false) {\n\t\t\t\toptions.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t}\n\treturn ParentControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction DurationControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\t__extends(DurationControl, _super);\n\n\tDurationControl.prototype.render = function(sns) {\n\t\tvar time = \"<div class='gantt_time_selects'>\" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</div>\";\n\t\tvar label = gantt.locale.labels[gantt.config.duration_unit + \"s\"];\n\t\tvar singleDate = sns.single_date ? \" style='display:none'\" : \"\";\n\t\tvar readonly = sns.readonly ? \" disabled='disabled'\" : \"\";\n\t\tvar ariaAttr = gantt._waiAria.lightboxDurationInputAttrString(sns);\n\t\tvar duration = \"<div class='gantt_duration' \" + singleDate + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_dec' value=''\" + readonly + \">\" +\n\t\t\t\"<input type='text' value='5' class='gantt_duration_value'\" + readonly + \" \" + ariaAttr + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_inc' value='+'\" + readonly + \"> \" + label + \" <span></span>\" +\n\t\t\t\"</div>\";\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>\" + time + \" \" + duration + \"</div>\";\n\t\treturn html;\n\t};\n\n\tDurationControl.prototype.set_value = function(node, value, ev, config) {\n\t\tvar cfg = config;\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar inps = node.getElementsByTagName(\"input\");\n\t\tvar duration = inps[1];\n\t\tvar btns = [inps[0], inps[2]];\n\t\tvar endspan = node.getElementsByTagName(\"span\")[0];\n\t\tvar map = config._time_format_order;\n\t\tvar mapping;\n\t\tvar start_date;\n\t\tvar end_date;\n\t\tvar duration_val;\n\n\t\tfunction _calc_date() {\n\t\t\tvar start_date = _getStartDate.call(gantt, node, config);\n\t\t\tvar duration = _getDuration.call(gantt, node, config);\n\t\t\tvar end_date = gantt.calculateEndDate({start_date: start_date, duration: duration, task: ev});\n\n\t\t\tendspan.innerHTML = gantt.templates.task_date(end_date);\n\t\t}\n\n\t\tfunction _change_duration(step) {\n\t\t\tvar value = duration.value;\n\n\t\t\tvalue = parseInt(value, 10);\n\t\t\tif (window.isNaN(value))\n\t\t\t\tvalue = 0;\n\t\t\tvalue += step;\n\t\t\tif (value < 1) value = 1;\n\t\t\tduration.value = value;\n\t\t\t_calc_date();\n\t\t}\n\n\t\tbtns[0].onclick = gantt.bind(function() {\n\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t}, this);\n\t\tbtns[1].onclick = gantt.bind(function() {\n\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t}, this);\n\t\ts[0].onchange = _calc_date;\n\t\ts[1].onchange = _calc_date;\n\t\ts[2].onchange = _calc_date;\n\t\tif (s[3]) s[3].onchange = _calc_date;\n\n\t\tduration.onkeydown = gantt.bind(function(e) {\n\t\t\tvar code; \n\n\t\t\te = e || window.event;\n\t\t\tcode = (e.charCode || e.keyCode || e.which);\n\t\t\t\n\t\t\tif (code == gantt.constants.KEY_CODES.DOWN) {\n\t\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (code == gantt.constants.KEY_CODES.UP) {\n\t\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\twindow.setTimeout(_calc_date, 1);\n\t\t}, this);\n\n\t\tduration.onchange = gantt.bind(_calc_date, this);\n\n\t\tmapping = gantt._resolve_default_mapping(config);\n\t\tif (typeof(mapping) === \"string\") mapping = {start_date: mapping};\n\n\t\tstart_date = ev[mapping.start_date] || new Date();\n\t\tend_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\t\tduration_val = Math.round(ev[mapping.duration]) || gantt.calculateDuration({\n\t\t\tstart_date: start_date,\n\t\t\tend_date: end_date,\n\t\t\ttask: ev\n\t\t});\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, cfg);\n\t\tduration.value = duration_val;\n\t\t_calc_date();\n\t};\n\n\tDurationControl.prototype.get_value = function(node, ev, config) {\n\t\tvar startDate = _getStartDate(node, config);\n\t\tvar duration = _getDuration(node, config);\n\t\tvar endDate = gantt.calculateEndDate({start_date: startDate, duration: duration, task: ev});\n\n\t\tif (typeof gantt._resolve_default_mapping(config) == \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: endDate,\n\t\t\tduration: duration\n\t\t};\n\t};\n\n\tDurationControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\n\tfunction _getStartDate(node, config) {\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\t\tvar hours = 0;\n\t\tvar minutes = 0;\n\n\t\tif (gantt.defined(map[3])) {\n\t\t\tvar input = s[map[3]];\n\t\t\tvar time = parseInt(input.value, 10);\n\t\t\tif (isNaN(time) && input.hasAttribute(\"data-value\")) {\n\t\t\t\ttime = parseInt(input.getAttribute(\"data-value\"), 10);\n\t\t\t}\n\n\t\t\thours = Math.floor(time / 60);\n\t\t\tminutes = time % 60;\n\t\t}\n\t\treturn new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, hours, minutes);\n\t}\n\n\tfunction _getDuration(node) {\n\t\tvar duration = node.getElementsByTagName(\"input\")[1];\n\n\t\tduration = parseInt(duration.value, 10);\n\t\tif (!duration || window.isNaN(duration)) duration = 1;\n\t\tif (duration < 0) duration *= -1;\n\t\treturn duration;\n\t}\n\n\n\treturn DurationControl; \n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction RadioControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(RadioControl, _super);\n\n\tRadioControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='radio' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tRadioControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar radio;\n\n\t\tif (!sns.options || !sns.options.length) return;\n\n\t\tradio = node.querySelector(\"input[type=radio][value='\" + value + \"']\") ||\n\t\t\t\tnode.querySelector(\"input[type=radio][value='\" + sns.default_value + \"']\");\n\n\t\tif (!radio) return;\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\tradio.checked = true;\n\t};\n\n\tRadioControl.prototype.get_value = function(node, ev) {\n\t\tvar result = node.querySelector(\"input[type=radio]:checked\");\n\n\t\treturn result ? result.value : \"\";\n\t};\n\n\tRadioControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=radio]\"));\n\t};\n\n\treturn RadioControl;\n};","var helpers = require(\"../../../utils/helpers\");\nvar __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction CheckboxControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(CheckboxControl, _super);\n\n\tCheckboxControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='checkbox' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tCheckboxControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar checkboxes = Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]\"));\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\thelpers.forEach(checkboxes, function(entry) {\n\t\t\tentry.checked = value ? value.indexOf(entry.value) >= 0 : false;\n\t\t});\n\t};\n\n\tCheckboxControl.prototype.get_value = function(node) {\n\t\treturn helpers.arrayMap(Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]:checked\")), function(entry) {\n\t\t\treturn entry.value;\n\t\t});\n\t};\n\n\tCheckboxControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=checkbox]\"));\n\t};\n\n\treturn CheckboxControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TimeControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(TimeControl, _super);\n\n\tTimeControl.prototype.render = function (sns) {\n\t\tvar time = gantt.form_blocks.getTimePicker.call(this, sns);\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>\";\n\t\thtml += time;\n\n\t\tif (sns.single_date) {\n\t\t\ttime = gantt.form_blocks.getTimePicker.call(this, sns, true);\n\t\t\thtml += \"<span></span>\";\n\t\t} else {\n\t\t\thtml += \"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>\";\n\t\t}\n\n\t\thtml += time;\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tTimeControl.prototype.set_value = function (node, value, ev, config) {\n\t\tvar cfg = config;\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\n\t\tif (cfg.auto_end_date) {\n\t\t\tvar _update_lightbox_select = function () {\n\t\t\t\tstart_date = new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, 0, 0);\n\t\t\t\tend_date = gantt.calculateEndDate({ start_date: start_date, duration: 1, task: ev });\n\t\t\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t\t\t};\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\ts[i].onchange = _update_lightbox_select;\n\t\t\t}\n\t\t}\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (typeof (mapping) === \"string\") mapping = { start_date: mapping };\n\n\t\tvar start_date = ev[mapping.start_date] || new Date();\n\t\tvar end_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, cfg);\n\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t};\n\n\tTimeControl.prototype.get_value = function (node, ev, config) {\n\t\tvar selects = node.getElementsByTagName(\"select\");\n\t\tvar startDate;\n\t\tvar map = config._time_format_order;\n\t\tfunction _getEndDate(selects, map, startDate) {\n\t\t\tvar endDate = gantt.form_blocks.getTimePickerValue(selects, config, map.size);\n\n\t\t\tif (endDate <= startDate) {\n\t\t\t\treturn gantt.date.add(startDate, gantt._get_timepicker_step(), \"minute\");\n\t\t\t}\n\t\t\treturn endDate;\n\t\t}\n\n\t\tstartDate = gantt.form_blocks.getTimePickerValue(selects, config);\n\n\t\tif (typeof gantt._resolve_default_mapping(config) === \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: _getEndDate(selects, map, startDate)\n\t\t};\n\t};\n\n\tTimeControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\treturn TimeControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TextareaControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(TextareaControl, _super);\n\n\tTextareaControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"130\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext' style='height:\" + height + \";'><textarea></textarea></div>\";\n\t};\n\n\tTextareaControl.prototype.set_value = function(node, value) {\n\t\tgantt.form_blocks.textarea._get_input(node).value = value || \"\";\n\t};\n\n\tTextareaControl.prototype.get_value = function(node) {\n\t\treturn gantt.form_blocks.textarea._get_input(node).value;\n\t};\n\n\tTextareaControl.prototype.focus = function(node) {\n\t\tvar a = gantt.form_blocks.textarea._get_input(node);\n\t\tgantt._focus(a, true);\n\t};\n\n\tTextareaControl.prototype._get_input = function(node) {\n\t\treturn node.querySelector(\"textarea\");\n\t};\n\n\treturn TextareaControl;\n};","var __extends = require(\"../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TemplateControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\t\treturn self; \n\t}\n\n\t__extends(TemplateControl, _super);\n\n\n\tTemplateControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"30\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext gantt_cal_template' style='height:\" + height + \";'></div>\";\n\t};\n\n\tTemplateControl.prototype.set_value = function(node, value) {\n\t\tnode.innerHTML = value || \"\";\n\t};\n\n\tTemplateControl.prototype.get_value = function(node) {\n\t\treturn node.innerHTML || \"\";\n\t};\n\n\tTemplateControl.prototype.focus = function() {};\n\n\treturn TemplateControl;\n};","module.exports = function (gantt) {\n\tvar domHelpers = require(\"../../utils/dom_helpers\");\n\tvar helpers = require(\"../../utils/helpers\");\n\n\tvar TemplateControl = require(\"./controls/template_control\")(gantt);\n\tvar TextareaControl = require(\"./controls/textarea_control\")(gantt);\n\tvar TimeControl = require(\"./controls/time_control\")(gantt);\n\tvar SelectControl = require(\"./controls/select_control\")(gantt);\n\tvar CheckboxControl = require(\"./controls/checkbox_control\")(gantt);\n\tvar RadioControl = require(\"./controls/radio_control\")(gantt);\n\tvar DurationControl = require(\"./controls/duration_control\")(gantt);\n\tvar ParentControl = require(\"./controls/parent_control\")(gantt);\n\tvar ResourcesControl = require(\"./controls/resources_control\")(gantt);\n\tvar ConstraintControl = require(\"./controls/constraint_control\")(gantt);\n\n\n\tgantt._lightbox_methods = {};\n\tgantt._lightbox_template = \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>\";\n\n\n\t//TODO: gantt._lightbox_id is changed from data.js and accessed from autoscheduling, check if it can be removed from gantt object\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"lightbox\", function () {\n\t\treturn {\n\t\t\tlightbox: gantt._lightbox_id\n\t\t};\n\t});\n\n\tgantt.showLightbox = function (id) {\n\t\tif (!id || gantt.isReadonly(this.getTask(id))) return;\n\t\tif (!this.callEvent(\"onBeforeLightbox\", [id])) return;\n\n\t\tvar task = this.getTask(id);\n\n\t\tvar box = this.getLightbox(this.getTaskType(task.type));\n\t\tthis._center_lightbox(box);\n\t\tthis.showCover();\n\t\tthis._fill_lightbox(id, box);\n\n\t\tthis._waiAria.lightboxVisibleAttr(box);\n\n\t\tthis.callEvent(\"onLightbox\", [id]);\n\t};\n\n\tfunction _is_chart_visible(gantt) {\n\t\tvar timeline = gantt.$ui.getView(\"timeline\");\n\t\tif (timeline && timeline.isVisible()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgantt._get_timepicker_step = function () {\n\t\tif (this.config.round_dnd_dates) {\n\t\t\tvar step;\n\t\t\tif (_is_chart_visible(this)) {\n\t\t\t\tvar scale = gantt.getScale();\n\t\t\t\tstep = (helpers.getSecondsInUnit(scale.unit) * scale.step) / 60;//timepicker step is measured in minutes\n\t\t\t}\n\n\t\t\tif (!step || step >= 60 * 24) {\n\t\t\t\tstep = this.config.time_step;\n\t\t\t}\n\t\t\treturn step;\n\t\t}\n\t\treturn this.config.time_step;\n\t};\n\tgantt.getLabel = function (property, key) {\n\t\tvar sections = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sections.length; i++) {\n\t\t\tif (sections[i].map_to == property) {\n\t\t\t\tvar options = sections[i].options;\n\t\t\t\tfor (var j = 0; j < options.length; j++) {\n\t\t\t\t\tif (options[j].key == key) {\n\t\t\t\t\t\treturn options[j].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tgantt.updateCollection = function (list_name, collection) {\n\t\tcollection = collection.slice(0);\n\t\tvar list = gantt.serverList(list_name);\n\t\tif (!list) return false;\n\t\tlist.splice(0, list.length);\n\t\tlist.push.apply(list, collection || []);\n\t\tgantt.resetLightbox();\n\t};\n\tgantt.getLightboxType = function () {\n\t\treturn this.getTaskType(this._lightbox_type);\n\t};\n\tgantt.getLightbox = function (type) {\n\t\tvar lightboxDiv;\n\t\tvar fullWidth;\n\t\tvar html;\n\t\tvar sns;\n\t\tvar ds;\n\t\tvar classNames = \"\";\n\n\t\tif (type === undefined)\n\t\t\ttype = this.getLightboxType();\n\n\t\tif (!this._lightbox || this.getLightboxType() != this.getTaskType(type)) {\n\t\t\tthis._lightbox_type = this.getTaskType(type);\n\t\t\tlightboxDiv = document.createElement(\"div\");\n\t\t\tclassNames = \"gantt_cal_light\";\n\t\t\tfullWidth = this._is_lightbox_timepicker();\n\n\t\t\tif (gantt.config.wide_form || fullWidth)\n\t\t\t\tclassNames += \" gantt_cal_light_wide\";\n\n\t\t\tif (fullWidth) {\n\t\t\t\tgantt.config.wide_form = true;\n\t\t\t\tclassNames += \" gantt_cal_light_full\";\n\t\t\t}\n\n\t\t\tlightboxDiv.className = classNames;\n\n\t\t\tlightboxDiv.style.visibility = \"hidden\";\n\t\t\thtml = this._lightbox_template;\n\n\t\t\thtml += getHtmlButtons(this.config.buttons_left);\n\t\t\thtml += getHtmlButtons(this.config.buttons_right, true);\n\n\t\t\tlightboxDiv.innerHTML = html;\n\n\t\t\tgantt._waiAria.lightboxAttr(lightboxDiv);\n\n\t\t\tif (gantt.config.drag_lightbox) {\n\t\t\t\tlightboxDiv.firstChild.onmousedown = gantt._ready_to_dnd;\n\t\t\t\tlightboxDiv.firstChild.onselectstart = function () {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\tlightboxDiv.firstChild.style.cursor = \"pointer\";\n\t\t\t\tgantt._init_dnd_events();\n\t\t\t}\n\n\t\t\tdocument.body.insertBefore(lightboxDiv, document.body.firstChild);\n\t\t\tthis._lightbox = lightboxDiv;\n\n\t\t\tsns = this._get_typed_lightbox_config(type);\n\t\t\thtml = this._render_sections(sns);\n\n\t\t\tds = lightboxDiv.querySelector(\"div.gantt_cal_larea\");\n\t\t\tds.innerHTML = html;\n\n\t\t\tbindLabelsToInputs(sns);\n\n\t\t\t//sizes\n\t\t\tthis.resizeLightbox();\n\n\t\t\tthis._init_lightbox_events(this);\n\t\t\tlightboxDiv.style.display = \"none\";\n\t\t\tlightboxDiv.style.visibility = \"visible\";\n\t\t}\n\t\treturn this._lightbox;\n\t};\n\n\tgantt._render_sections = function (sns) {\n\t\tvar html = \"\";\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue; //ignore incorrect blocks\n\t\t\tsns[i].id = \"area_\" + this.uid();\n\n\t\t\tvar display = sns[i].hidden ? \" style='display:none'\" : \"\";\n\t\t\tvar button = \"\";\n\t\t\tif (sns[i].button) {\n\t\t\t\tbutton = \"<div class='gantt_custom_button' data-index='\" + i + \"'><div class='gantt_custom_button_\" + sns[i].button + \"'></div><div class='gantt_custom_button_label'>\" + this.locale.labels[\"button_\" + sns[i].button] + \"</div></div>\";\n\t\t\t}\n\t\t\tif (this.config.wide_form) {\n\t\t\t\thtml += \"<div class='gantt_wrap_section' \" + display + \">\";\n\t\t\t}\n\t\t\thtml += \"<div id='\" + sns[i].id + \"' class='gantt_cal_lsection'><label>\" + button + this.locale.labels[\"section_\" + sns[i].name] + \"</label></div>\" + block.render.call(this, sns[i]);\n\t\t\thtml += \"</div>\";\n\t\t}\n\t\treturn html;\n\t};\n\n\n\tgantt.resizeLightbox = function () {\n\t\tif (!this._lightbox) return;\n\n\t\tvar con = this._lightbox.childNodes[1];\n\t\tcon.style.height = \"0px\";\n\t\tcon.style.height = con.scrollHeight + \"px\";\n\t\tthis._lightbox.style.height = con.scrollHeight + this.config.lightbox_additional_height + \"px\";\n\t\tcon.style.height = con.scrollHeight + \"px\"; //it is incredible , how ugly IE can be\n\t};\n\n\tgantt._center_lightbox = function (box) {\n\t\tif (box) {\n\t\t\tbox.style.display = \"block\";\n\n\t\t\tvar scroll_top = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\t\t\tvar scroll_left = window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft;\n\n\t\t\tvar view_height = window.innerHeight || document.documentElement.clientHeight;\n\n\t\t\tif (scroll_top) // if vertical scroll on window\n\t\t\t\tbox.style.top = Math.round(scroll_top + Math.max((view_height - box.offsetHeight) / 2, 0)) + \"px\";\n\t\t\telse // vertical scroll on body\n\t\t\t\tbox.style.top = Math.round(Math.max(((view_height - box.offsetHeight) / 2), 0) + 9) + \"px\"; // +9 for compatibility with auto tests\n\n\t\t\t// not quite accurate but used for compatibility reasons\n\t\t\tif (document.documentElement.scrollWidth > document.body.offsetWidth) // if horizontal scroll on the window\n\t\t\t\tbox.style.left = Math.round(scroll_left + (document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t\telse // horizontal scroll on the body\n\t\t\t\tbox.style.left = Math.round((document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t}\n\t};\n\tgantt.showCover = function () {\n\t\tif (this._cover) return;\n\n\t\tthis._cover = document.createElement(\"DIV\");\n\t\tthis._cover.className = \"gantt_cal_cover\";\n\t\tvar _document_height = ((document.height !== undefined) ? document.height : document.body.offsetHeight);\n\t\tvar _scroll_height = ((document.documentElement) ? document.documentElement.scrollHeight : 0);\n\t\tthis._cover.style.height = Math.max(_document_height, _scroll_height) + \"px\";\n\t\tdocument.body.appendChild(this._cover);\n\t};\n\n\n\tgantt._init_lightbox_events = function () {\n\t\tgantt.lightbox_events = {};\n\n\n\t\tgantt.lightbox_events.gantt_save_btn = function () {\n\t\t\tgantt._save_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_delete_btn = function () {\n\t\t\tif (!gantt.callEvent(\"onLightboxDelete\", [gantt._lightbox_id]))\n\t\t\t\treturn;\n\n\t\t\tif (gantt.isTaskExists(gantt._lightbox_id)) {\n\t\t\t\tgantt.$click.buttons[\"delete\"](gantt._lightbox_id);\n\t\t\t} else {\n\t\t\t\tgantt.hideLightbox();\n\t\t\t}\n\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_cancel_btn = function () {\n\t\t\tgantt._cancel_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events[\"default\"] = function (e, src) {\n\t\t\tif (src.getAttribute(\"data-dhx-button\")) {\n\t\t\t\tgantt.callEvent(\"onLightboxButton\", [src.className, src, e]);\n\t\t\t} else {\n\t\t\t\tvar index, block, sec;\n\n\t\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\t\tif (className.indexOf(\"gantt_custom_button\") != -1) {\n\t\t\t\t\tif (className.indexOf(\"gantt_custom_button_\") != -1) {\n\t\t\t\t\t\tindex = src.parentNode.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src;\n\t\t\t\t\t\twhile (sec && domHelpers.getClassName(sec).indexOf(\"gantt_cal_lsection\") == -1) {\n\t\t\t\t\t\t\tsec = sec.parentNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = src.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src.parentNode;\n\t\t\t\t\t\tsrc = src.firstChild;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar sections = gantt._get_typed_lightbox_config();\n\n\t\t\t\tif (index) {\n\t\t\t\t\tindex = index * 1;\n\t\t\t\t\tblock = gantt.form_blocks[sections[index * 1].type];\n\t\t\t\t\tblock.button_click(index, src, sec, sec.nextSibling);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthis.event(gantt.getLightbox(), \"click\", function (e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target ? e.target : e.srcElement;\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tif (!className) {\n\t\t\t\tsrc = src.previousSibling;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className && className.indexOf(\"gantt_btn_set\") === 0) {\n\t\t\t\tsrc = src.firstChild;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className) {\n\t\t\t\tvar func = gantt.defined(gantt.lightbox_events[src.className]) ? gantt.lightbox_events[src.className] : gantt.lightbox_events[\"default\"];\n\t\t\t\treturn func(e, src);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tgantt.getLightbox().onkeydown = function (e) {\n\t\t\tvar event = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\t\t\tvar buttonTarget = domHelpers.getClassName(target).indexOf(\"gantt_btn_set\") > -1;\n\n\t\t\tswitch ((e || event).keyCode) {\n\t\t\t\tcase gantt.constants.KEY_CODES.SPACE: {\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt._save_lightbox();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tgantt._cancel_lightbox();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t};\n\n\tgantt._cancel_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tthis.callEvent(\"onLightboxCancel\", [this._lightbox_id, task.$new]);\n\t\tif (gantt.isTaskExists(task.id) && task.$new) {\n\t\t\tthis.silent(function () {\n\t\t\t\tgantt.$data.tasksStore.removeItem(task.id);\n\t\t\t\tgantt._update_flags(task.id, null);\n\t\t\t});\n\t\t}\n\n\t\tthis.refreshData();\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._save_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tif (!this.callEvent(\"onLightboxSave\", [this._lightbox_id, task, !!task.$new]))\n\t\t\treturn;\n\n\t\tif (task.$new) {\n\t\t\tdelete task.$new;\n\t\t\tthis.addTask(task);\n\t\t} else if (this.isTaskExists(task.id)) {\n\t\t\tthis.mixin(this.getTask(task.id), task, true);\n\t\t\tthis.refreshTask(task.id);\n\t\t\tthis.updateTask(task.id);\n\t\t}\n\t\tthis.refreshData();\n\n\t\t// TODO: do we need any blockable events here to prevent closing lightbox?\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._resolve_default_mapping = function (section) {\n\t\tvar mapping = section.map_to;\n\t\tvar time_controls = { \"time\": true, \"time_optional\": true, \"duration\": true, \"duration_optional\": true };\n\t\tif (time_controls[section.type]) {\n\t\t\tif (section.map_to == \"auto\") {\n\t\t\t\tmapping = { start_date: \"start_date\", end_date: \"end_date\", duration: \"duration\" };\n\t\t\t} else if (typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { start_date: section.map_to };\n\t\t\t}\n\t\t} else if (section.type === \"constraint\") {\n\t\t\tif (!section.map_to || typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { constraint_type: \"constraint_type\", constraint_date: \"constraint_date\" };\n\t\t\t}\n\t\t}\n\n\t\treturn mapping;\n\t};\n\n\tgantt.getLightboxValues = function () {\n\t\tvar task = {};\n\n\t\tif (gantt.isTaskExists(this._lightbox_id)) {\n\t\t\ttask = this.mixin({}, this.getTask(this._lightbox_id));\n\t\t}\n\n\t\tvar sns = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar node = document.getElementById(sns[i].id);\n\t\t\tnode = (node ? node.nextSibling : node);\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue;\n\t\t\tvar res = block.get_value.call(this, node, task, sns[i]);\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tif (typeof map_to == \"string\" && map_to != \"auto\") {\n\t\t\t\ttask[map_to] = res;\n\t\t\t} else if (typeof map_to == \"object\") {\n\t\t\t\tfor (var property in map_to) {\n\t\t\t\t\tif (map_to[property])\n\t\t\t\t\t\ttask[map_to[property]] = res[property];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn task;\n\t};\n\n\n\tgantt.hideLightbox = function () {\n\t\tvar box = this.getLightbox();\n\t\tif (box) box.style.display = \"none\";\n\n\t\tthis._waiAria.lightboxHiddenAttr(box);\n\t\tthis._lightbox_id = null;\n\n\t\tthis.hideCover();\n\t\tthis.callEvent(\"onAfterLightbox\", []);\n\t};\n\tgantt.hideCover = function () {\n\t\tif (this._cover)\n\t\t\tthis._cover.parentNode.removeChild(this._cover);\n\t\tthis._cover = null;\n\t};\n\n\tgantt.resetLightbox = function () {\n\t\tif (gantt._lightbox && !gantt._custom_lightbox)\n\t\t\tgantt._lightbox.parentNode.removeChild(gantt._lightbox);\n\t\tgantt._lightbox = null;\n\t\tgantt.hideCover();\n\t};\n\tgantt._set_lightbox_values = function (data, box) {\n\t\tvar task = data;\n\t\tvar s = box.getElementsByTagName(\"span\");\n\t\tvar lightboxHeader = [];\n\t\tif (gantt.templates.lightbox_header) {\n\t\t\tlightboxHeader.push(\"\");\n\t\t\tlightboxHeader.push(gantt.templates.lightbox_header(task.start_date, task.end_date, task));\n\t\t\ts[1].innerHTML = \"\";\n\t\t\ts[2].innerHTML = gantt.templates.lightbox_header(task.start_date, task.end_date, task);\n\t\t} else {\n\t\t\tlightboxHeader.push(this.templates.task_time(task.start_date, task.end_date, task));\n\t\t\tlightboxHeader.push(String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70)); //IE6 fix\n\t\t\ts[1].innerHTML = this.templates.task_time(task.start_date, task.end_date, task);\n\t\t\ts[2].innerHTML = String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70); //IE6 fix\n\t\t}\n\t\ts[1].innerHTML = lightboxHeader[0];\n\t\ts[2].innerHTML = lightboxHeader[1];\n\n\t\tgantt._waiAria.lightboxHeader(box, lightboxHeader.join(\" \"));\n\n\t\tvar sns = this._get_typed_lightbox_config(this.getLightboxType());\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar section = sns[i];\n\n\t\t\tif (!this.form_blocks[section.type]) {\n\t\t\t\tcontinue;//skip incorrect sections, same check is done during rendering\n\t\t\t}\n\n\n\t\t\tvar node = document.getElementById(section.id).nextSibling;\n\t\t\tvar block = this.form_blocks[section.type];\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tvar value = this.defined(task[map_to]) ? task[map_to] : section.default_value;\n\t\t\tblock.set_value.call(gantt, node, value, task, section);\n\n\t\t\tif (section.focus)\n\t\t\t\tblock.focus.call(gantt, node);\n\t\t}\n\t\tif (data.id)\n\t\t\tgantt._lightbox_id = data.id;\n\t};\n\tgantt._fill_lightbox = function (id, box) {\n\t\tvar task = this.getTask(id);\n\t\tthis._set_lightbox_values(task, box);\n\t};\n\n\n\tgantt.getLightboxSection = function (name) {\n\t\tvar config = this._get_typed_lightbox_config();\n\t\tvar i = 0;\n\t\tfor (i; i < config.length; i++)\n\t\t\tif (config[i].name == name)\n\t\t\t\tbreak;\n\t\tvar section = config[i];\n\t\tif (!section)\n\t\t\treturn null;\n\n\t\tif (!this._lightbox)\n\t\t\tthis.getLightbox();\n\t\tvar header = document.getElementById(section.id);\n\t\tvar node = header.nextSibling;\n\n\t\tvar result = {\n\t\t\tsection: section,\n\t\t\theader: header,\n\t\t\tnode: node,\n\t\t\tgetValue: function (ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].get_value.call(gantt, node, (ev || {}), section);\n\t\t\t},\n\t\t\tsetValue: function (value, ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].set_value.call(gantt, node, value, (ev || {}), section);\n\t\t\t}\n\t\t};\n\n\t\tvar handler = this._lightbox_methods[\"get_\" + section.type + \"_control\"];\n\t\treturn handler ? handler(result) : result;\n\t};\n\n\tgantt._lightbox_methods.get_template_control = function (result) {\n\t\tresult.control = result.node;\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_select_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_textarea_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"textarea\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_time_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\"); // array\n\t\treturn result;\n\t};\n\n\n\tgantt._init_dnd_events = function () {\n\t\tthis.event(document.body, \"mousemove\", gantt._move_while_dnd);\n\t\tthis.event(document.body, \"mouseup\", gantt._finish_dnd);\n\t\tgantt._init_dnd_events = function () {\n\t\t};\n\t};\n\tgantt._move_while_dnd = function (e) {\n\t\tif (gantt._dnd_start_lb) {\n\t\t\tif (!document.gantt_unselectable) {\n\t\t\t\tdocument.body.className += \" gantt_unselectable\";\n\t\t\t\tdocument.gantt_unselectable = true;\n\t\t\t}\n\t\t\tvar lb = gantt.getLightbox();\n\t\t\tvar now = (e && e.target) ? [e.pageX, e.pageY] : [event.clientX, event.clientY];\n\t\t\tlb.style.top = gantt._lb_start[1] + now[1] - gantt._dnd_start_lb[1] + \"px\";\n\t\t\tlb.style.left = gantt._lb_start[0] + now[0] - gantt._dnd_start_lb[0] + \"px\";\n\t\t}\n\t};\n\tgantt._ready_to_dnd = function (e) {\n\t\tvar lb = gantt.getLightbox();\n\t\tgantt._lb_start = [parseInt(lb.style.left, 10), parseInt(lb.style.top, 10)];\n\t\tgantt._dnd_start_lb = (e && e.target) ? [e.pageX, e.pageY] : [event.clientX, event.clientY];\n\t};\n\tgantt._finish_dnd = function () {\n\t\tif (gantt._lb_start) {\n\t\t\tgantt._lb_start = gantt._dnd_start_lb = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_unselectable\", \"\");\n\t\t\tdocument.gantt_unselectable = false;\n\t\t}\n\t};\n\n\n\tgantt._focus = function (node, select) {\n\t\tif (node && node.focus) {\n\t\t\tif (gantt.config.touch) {\n\t\t\t\t//do not focus editor, to prevent auto-zoom\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tif (select && node.select) node.select();\n\t\t\t\t\tnode.focus();\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// silent errors\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\tgantt.form_blocks = {\n\t\tgetTimePicker: function (sns, hidden) {\n\t\t\tvar html = \"\";\n\t\t\tvar cfg = this.config;\n\t\t\tvar i;\n\t\t\tvar options;\n\t\t\tvar ariaAttrs;\n\t\t\tvar readonly;\n\t\t\tvar display;\n\t\t\tvar settings = {\n\t\t\t\tfirst: 0,\n\t\t\t\tlast: 24 * 60,\n\t\t\t\tdate: this.date.date_part(new Date(gantt._min_date.valueOf())),\n\t\t\t\ttimeFormat: getTimeFormat(sns)\n\t\t\t};\n\n\t\t\t// map: default order => real one\n\t\t\tsns._time_format_order = { size: 0 };\n\n\t\t\tif (gantt.config.limit_time_select) {\n\t\t\t\tsettings.first = 60 * cfg.first_hour;\n\t\t\t\tsettings.last = 60 * cfg.last_hour + 1;\n\t\t\t\tsettings.date.setHours(cfg.first_hour);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < settings.timeFormat.length; i++) {\n\t\t\t\t// adding spaces between selects\n\t\t\t\tif (i > 0) {\n\t\t\t\t\thtml += \" \";\n\t\t\t\t}\n\n\t\t\t\toptions = getHtmlTimePickerOptions(sns, i, settings);\n\n\t\t\t\tif (options) {\n\t\t\t\t\tariaAttrs = gantt._waiAria.lightboxSelectAttrString(settings.timeFormat[i]);\n\t\t\t\t\treadonly = sns.readonly ? \"disabled='disabled'\" : \"\";\n\t\t\t\t\tdisplay = hidden ? \" style='display:none' \" : \"\";\n\t\t\t\t\thtml += \"<select \" + readonly + display + ariaAttrs + \">\" + options + \"</select>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\tgetTimePickerValue: function (selects, config, offset) {\n\t\t\tvar map = config._time_format_order;\n\t\t\tvar needSetTime = gantt.defined(map[3]);\n\n\t\t\tvar time;\n\t\t\tvar hours = 0;\n\t\t\tvar minutes = 0;\n\n\t\t\tvar mapOffset = offset || 0;\n\n\t\t\tif (needSetTime) {\n\t\t\t\ttime = parseInt(selects[map[3] + mapOffset].value, 10);\n\t\t\t\thours = Math.floor(time / 60);\n\t\t\t\tminutes = time % 60;\n\t\t\t}\n\t\t\treturn new Date(selects[map[2] + mapOffset].value, selects[map[1] + mapOffset].value, selects[map[0] + mapOffset].value, hours, minutes);\n\t\t},\n\n\t\t_fill_lightbox_select: function (s, i, d, map) {\n\t\t\ts[i + map[0]].value = d.getDate();\n\t\t\ts[i + map[1]].value = d.getMonth();\n\t\t\ts[i + map[2]].value = d.getFullYear();\n\t\t\tif (gantt.defined(map[3])) {\n\t\t\t\tvar v = d.getHours() * 60 + d.getMinutes();\n\t\t\t\tv = Math.round(v / gantt._get_timepicker_step()) * gantt._get_timepicker_step();\n\t\t\t\tvar input = s[i + map[3]];\n\t\t\t\tinput.value = v;\n\t\t\t\t//in case option not shown\n\t\t\t\tinput.setAttribute(\"data-value\", v);\n\t\t\t}\n\t\t},\n\t\ttemplate: new TemplateControl(),\n\t\ttextarea: new TextareaControl(),\n\t\tselect: new SelectControl(),\n\t\ttime: new TimeControl(),\n\t\tduration: new DurationControl(),\n\t\tparent: new ParentControl(),\n\t\tradio: new RadioControl(),\n\t\tcheckbox: new CheckboxControl(),\n\t\tresources: new ResourcesControl(),\n\t\tconstraint: new ConstraintControl()\n\t};\n\n\tgantt._is_lightbox_timepicker = function () {\n\t\tvar s = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < s.length; i++)\n\t\t\tif (s[i].name == \"time\" && s[i].type == \"time\")\n\t\t\t\treturn true;\n\t\treturn false;\n\t};\n\n\tgantt._dhtmlx_confirm = function (message, title, callback, ok) {\n\t\tif (!message)\n\t\t\treturn callback();\n\t\tvar opts = { text: message };\n\t\tif (title)\n\t\t\topts.title = title;\n\t\tif (ok) {\n\t\t\topts.ok = ok;\n\t\t}\n\t\tif (callback) {\n\t\t\topts.callback = function (result) {\n\t\t\t\tif (result)\n\t\t\t\t\tcallback();\n\t\t\t};\n\t\t}\n\t\tgantt.confirm(opts);\n\t};\n\n\tfunction _get_type_name(type_value) {\n\t\tfor (var i in this.config.types) {\n\t\t\tif (this.config.types[i] == type_value) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn \"task\";\n\t}\n\n\tgantt._get_typed_lightbox_config = function (type) {\n\t\tif (type === undefined) {\n\t\t\ttype = this.getLightboxType();\n\t\t}\n\n\t\tvar field = _get_type_name.call(this, type);\n\n\t\tif (gantt.config.lightbox[field + \"_sections\"]) {\n\t\t\treturn gantt.config.lightbox[field + \"_sections\"];\n\t\t} else {\n\t\t\treturn gantt.config.lightbox.sections;\n\t\t}\n\t};\n\n\tgantt._silent_redraw_lightbox = function (type) {\n\t\tvar oldType = this.getLightboxType();\n\n\t\tif (this.getState().lightbox) {\n\t\t\tvar taskId = this.getState().lightbox;\n\t\t\tvar formData = this.getLightboxValues(),\n\t\t\t\ttask = this.copy(this.getTask(taskId));\n\n\t\t\tthis.resetLightbox();\n\n\t\t\tvar updTask = this.mixin(task, formData, true);\n\t\t\tvar box = this.getLightbox(type ? type : undefined);\n\t\t\tthis._center_lightbox(this.getLightbox());\n\t\t\tthis._set_lightbox_values(updTask, box);\n\t\t} else {\n\t\t\tthis.resetLightbox();\n\t\t\tthis.getLightbox(type ? type : undefined);\n\t\t}\n\t\tthis.callEvent(\"onLightboxChange\", [oldType, this.getLightboxType()]);\n\t};\n\n\tfunction bindLabelsToInputs(sns) {\n\t\tvar section;\n\t\tvar label;\n\t\tvar labelBlock;\n\t\tvar inputBlock;\n\t\tvar input;\n\t\tvar i;\n\n\t\tfor (i = 0; i < sns.length; i++) {\n\t\t\tsection = sns[i];\n\t\t\tlabelBlock = document.getElementById(section.id);\n\n\t\t\tif (!section.id || !labelBlock) continue;\n\n\t\t\tlabel = labelBlock.querySelector(\"label\");\n\t\t\tinputBlock = labelBlock.nextSibling;\n\n\t\t\tif (!inputBlock) continue;\n\n\t\t\tinput = inputBlock.querySelector(\"input, select, textarea\");\n\t\t\tif (input) {\n\t\t\t\tinput.id = input.id || \"input_\" + gantt.uid();\n\t\t\t\tsection.inputId = input.id;\n\t\t\t\tlabel.setAttribute(\"for\", section.inputId);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getHtmlButtons(buttons, floatRight) {\n\t\tvar button;\n\t\tvar ariaAttr;\n\t\tvar html = \"\";\n\t\tvar i;\n\n\t\tfor (i = 0; i < buttons.length; i++) {\n\t\t\t// needed to migrate from 'dhx_something' to 'gantt_something' naming in a lightbox\n\t\t\tbutton = gantt.config._migrate_buttons[buttons[i]] ? gantt.config._migrate_buttons[buttons[i]] : buttons[i];\n\n\t\t\tariaAttr = gantt._waiAria.lightboxButtonAttrString(button);\n\t\t\thtml += \"<div \" + ariaAttr + \" class='gantt_btn_set gantt_left_btn_set \" + button + \"_set'\" + (floatRight ? \" style='float:right;'\" : \"\") + \"><div dhx_button='1' data-dhx-button='1' class='\" + button + \"'></div><div>\" + gantt.locale.labels[button] + \"</div></div>\";\n\t\t}\n\t\treturn html;\n\t}\n\n\tfunction getTimeFormat(sns) {\n\t\tvar scale;\n\t\tvar unit;\n\t\tvar result;\n\n\t\tif (sns.time_format) return sns.time_format;\n\n\t\t// default order\n\t\tresult = [\"%d\", \"%m\", \"%Y\"];\n\t\tscale = gantt.getScale();\n\t\tunit = scale ? scale.unit : gantt.config.duration_unit;\n\t\tif (helpers.getSecondsInUnit(unit) < helpers.getSecondsInUnit(\"day\")) {\n\t\t\tresult.push(\"%H:%i\");\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction getHtmlTimePickerOptions(sns, index, settings) {\n\t\tvar range;\n\t\tvar offset;\n\t\tvar start_year;\n\t\tvar end_year;\n\t\tvar i;\n\t\tvar time;\n\t\tvar diff;\n\t\tvar tdate;\n\t\tvar html = \"\";\n\n\t\tswitch (settings.timeFormat[index]) {\n\t\t\tcase \"%Y\":\n\t\t\t\tsns._time_format_order[2] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//year\n\n\t\t\t\tif (sns.year_range) {\n\t\t\t\t\tif (!isNaN(sns.year_range)) {\n\t\t\t\t\t\trange = sns.year_range;\n\t\t\t\t\t} else if (sns.year_range.push) {\n\t\t\t\t\t\t// if\n\t\t\t\t\t\tstart_year = sns.year_range[0];\n\t\t\t\t\t\tend_year = sns.year_range[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trange = range || 10;\n\t\t\t\toffset = offset || Math.floor(range / 2);\n\t\t\t\tstart_year = start_year || settings.date.getFullYear() - offset;\n\t\t\t\tend_year = end_year || start_year + range;\n\n\t\t\t\tfor (i = start_year; i < end_year; i++)\n\t\t\t\t\thtml += \"<option value='\" + (i) + \"'>\" + (i) + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%m\":\n\t\t\t\tsns._time_format_order[1] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//month\n\t\t\t\tfor (i = 0; i < 12; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + gantt.locale.date.month_full[i] + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%d\":\n\t\t\t\tsns._time_format_order[0] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//days\n\t\t\t\tfor (i = 1; i < 32; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + i + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%H:%i\":\n\t\t\t\t//  var last = 24*60, first = 0;\n\t\t\t\tsns._time_format_order[3] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//hours\n\t\t\t\ti = settings.first;\n\t\t\t\ttdate = settings.date.getDate();\n\t\t\t\tsns._time_values = [];\n\n\t\t\t\twhile (i < settings.last) {\n\t\t\t\t\ttime = gantt.templates.time_picker(settings.date);\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + time + \"</option>\";\n\t\t\t\t\tsns._time_values.push(i);\n\t\t\t\t\tsettings.date.setTime(settings.date.valueOf() + gantt._get_timepicker_step() * 60 * 1000);\n\t\t\t\t\tdiff = (settings.date.getDate() != tdate) ? 1 : 0; // moved or not to the next day\n\t\t\t\t\ti = diff * 24 * 60 + settings.date.getHours() * 60 + settings.date.getMinutes();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn html;\n\t}\n};","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.isUnscheduledTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isUnscheduledTask. Task object was expected\");\n\t\treturn (!!task.unscheduled || !task.start_date);\n\t};\n\n\tgantt._isAllowedUnscheduledTask = function (task) {\n\t\treturn !!(task.unscheduled && gantt.config.show_unscheduled);\n\t};\n\n\tgantt.isTaskVisible = function (id) {\n\t\tif (!this.isTaskExists(id))\n\t\t\treturn false;\n\n\t\tvar task = this.getTask(id);\n\n\t\tvar taskStart = task.start_date ? task.start_date.valueOf() : null;\n\t\tvar taskEnd = task.end_date ? task.end_date.valueOf() : null;\n\n\t\tif (!(gantt._isAllowedUnscheduledTask(task) || (taskStart && taskEnd && taskStart <= this._max_date.valueOf() && taskEnd >= this._min_date.valueOf()))){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!(gantt.getGlobalTaskIndex(id) >= 0);\n\t};\n\n\tgantt._getProjectEnd = function() {\n\t\tif(gantt.config.project_end){\n\t\t\treturn gantt.config.project_end;\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskByTime();\n\t\t\ttasks = tasks.sort(function (a, b) {\n\t\t\t\treturn +a.end_date > +b.end_date ? 1 : -1;\n\t\t\t});\n\t\t\treturn tasks.length ? tasks[tasks.length - 1].end_date : null;\n\t\t}\n\t};\n\tgantt._getProjectStart = function() {\n\t\tif (gantt.config.project_start) {\n\t\t\treturn gantt.config.project_start;\n\t\t}\n\n\t\t// use timeline start if project start is not specified\n\t\tif (gantt.config.start_date) {\n\t\t\treturn gantt.config.start_date;\n\t\t}\n\t\tif (gantt.getState().min_date) {\n\t\t\treturn gantt.getState().min_date;\n\t\t}\n\n\t\t// earliest task start if neither project start nor timeline are specified\n\t\tvar tasks = gantt.getTaskByTime();\n\t\ttasks = tasks.sort(function (a, b) {\n\t\t\treturn +a.start_date > +b.start_date ? 1 : -1;\n\t\t});\n\t\treturn tasks.length ? tasks[0].start_date : null;\n\t};\n\n\tgantt._defaultTaskDate = function (item, parent_id) {\n\t\tvar parent = (parent_id && parent_id != gantt.config.root_id) ? gantt.getTask(parent_id) : false,\n\t\t\tstartDate = null;\n\t\tif (parent) {\n\t\t\tif(gantt.config.schedule_from_end){\n\t\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\t\tstart_date: parent.end_date,\n\t\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\t\ttask:item\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tstartDate = parent.start_date;\n\t\t\t}\n\n\t\t} else if(gantt.config.schedule_from_end) {\n\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\tstart_date: gantt._getProjectEnd(),\n\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t});\n\t\t} else {\n\t\t\tvar first = gantt.getTaskByIndex(0);\n\t\t\tstartDate = first ? (first.start_date ? first.start_date : (first.end_date ? gantt.calculateEndDate({\n\t\t\t\tstart_date: first.end_date,\n\t\t\t\tduration: -gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t}) : null)) : gantt.config.start_date || gantt.getState().min_date;\n\t\t}\n\t\tgantt.assert(startDate, \"Invalid dates\");\n\t\treturn new Date(startDate);\n\t};\n\n\tgantt._set_default_task_timing = function (task) {\n\t\ttask.start_date = task.start_date || gantt._defaultTaskDate(task, gantt.getParent(task));\n\t\ttask.duration = task.duration || gantt.config.duration_step;\n\t\ttask.end_date = task.end_date || gantt.calculateEndDate(task);\n\t};\n\n\tgantt.createTask = function (item, parent, index) {\n\t\titem = item || {};\n\t\tif (!gantt.defined(item.id))\n\t\t\titem.id = gantt.uid();\n\n\t\tif (!item.start_date) {\n\t\t\titem.start_date = gantt._defaultTaskDate(item, parent);\n\t\t}\n\t\tif (item.text === undefined) {\n\t\t\titem.text = gantt.locale.labels.new_task;\n\t\t}\n\t\tif (item.duration === undefined) {\n\t\t\titem.duration = 1;\n\t\t}\n\n\t\tif (parent) {\n\t\t\tthis.setParent(item, parent, true);\n\t\t\tvar parentObj = this.getTask(parent);\n\t\t\tparentObj.$open = true;\n\t\t}\n\n\t\tif (!this.callEvent(\"onTaskCreated\", [item])) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.config.details_on_create) {\n\t\t\titem.$new = true;\n\t\t\tthis.silent(function(){\n\t\t\t\tgantt.$data.tasksStore.addItem(item, index);\n\t\t\t});\n\t\t\tthis.selectTask(item.id);\n\t\t\tthis.refreshData();\n\t\t\tthis.showLightbox(item.id);\n\t\t} else {\n\t\t\tif (this.addTask(item, parent, index)) {\n\t\t\t\tthis.showTask(item.id);\n\t\t\t\tthis.selectTask(item.id);\n\t\t\t}\n\t\t}\n\t\treturn item.id;\n\t};\n\n\tgantt._update_flags = function (oldid, newid) {\n\t\t//  TODO: need a proper way to update all possible flags\n\t\tvar store = gantt.$data.tasksStore;\n\t\tif (oldid === undefined) {\n\t\t\tthis._lightbox_id = null;\n\n\t\t\tstore.silent(function(){\n\t\t\t\tstore.unselect();\n\t\t\t});\n\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag) {\n\t\t\t\tthis._tasks_dnd.drag.id = null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._lightbox_id == oldid)\n\t\t\t\tthis._lightbox_id = newid;\n\n\t\t\t// TODO: probably can be removed\n\t\t\tif (store.getSelectedId() == oldid) {\n\t\t\t\tstore.silent(function(){\n\t\t\t\t\tstore.unselect(oldid);\n\t\t\t\t\tstore.select(newid);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag && this._tasks_dnd.drag.id == oldid) {\n\t\t\t\tthis._tasks_dnd.drag.id = newid;\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt._get_task_timing_mode = function (task, force) {\n\t\tvar task_type = this.getTaskType(task.type);\n\n\t\tvar state = {\n\t\t\ttype: task_type,\n\t\t\t$no_start: false,\n\t\t\t$no_end: false\n\t\t};\n\n\t\tif (!force && task_type == task.$rendered_type) {\n\t\t\tstate.$no_start = task.$no_start;\n\t\t\tstate.$no_end = task.$no_end;\n\t\t\treturn state;\n\t\t}\n\n\t\tif (task_type == this.config.types.project) {\n\t\t\t//project duration is always defined by children duration\n\t\t\tstate.$no_end = state.$no_start = true;\n\t\t} else if (task_type != this.config.types.milestone) {\n\t\t\t//tasks can have fixed duration, children duration(as projects), or one date fixed, and other defined by nested items\n\t\t\tstate.$no_end = !(task.end_date || task.duration);\n\t\t\tstate.$no_start = !task.start_date;\n\n\t\t\tif (this._isAllowedUnscheduledTask(task)) {\n\t\t\t\tstate.$no_end = state.$no_start = false;\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t};\n\n\tgantt._init_task_timing = function (task) {\n\t\tvar task_mode = gantt._get_task_timing_mode(task, true);\n\n\t\tvar dirty = task.$rendered_type != task_mode.type;\n\n\t\tvar task_type = task_mode.type;\n\n\t\tif (dirty) {\n\t\t\ttask.$no_start = task_mode.$no_start;\n\t\t\ttask.$no_end = task_mode.$no_end;\n\t\t\ttask.$rendered_type = task_mode.type;\n\t\t}\n\n\t\tif (dirty && task_type != this.config.types.milestone) {\n\t\t\tif (task_type == this.config.types.project) {\n\t\t\t\t//project duration is always defined by children duration\n\t\t\t\tthis._set_default_task_timing(task);\n\t\t\t}\n\t\t}\n\n\t\tif (task_type == this.config.types.milestone) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\t\tif (task.start_date && task.end_date) {\n\t\t\ttask.duration = this.calculateDuration(task);\n\t\t}\n\n\t\tif (!task.end_date) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\n\t\ttask.duration = task.duration || 0;\n\t};\n\n\tgantt.isSummaryTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSummaryTask. Task object was expected\");\n\n\t\tvar mode = gantt._get_task_timing_mode(task);\n\n\t\treturn !!(mode.$no_end || mode.$no_start);\n\t};\n\n// downward calculation of project duration\n\tgantt.resetProjectDates = function (task) {\n\t\tvar taskMode = this._get_task_timing_mode(task);\n\t\tif (taskMode.$no_end || taskMode.$no_start) {\n\t\t\tvar dates = this.getSubtaskDates(task.id);\n\t\t\tthis._assign_project_dates(task, dates.start_date, dates.end_date);\n\t\t}\n\t};\n\n\tgantt.getSubtaskDuration = function (task_id) {\n\t\tvar res = 0,\n\t\t\troot = task_id !== undefined ? task_id : gantt.config.root_id;\n\n\t\tthis.eachTask(function (child) {\n\t\t\tif (this.getTaskType(child.type) == gantt.config.types.project || this.isUnscheduledTask(child))\n\t\t\t\treturn;\n\n\t\t\tres += child.duration;\n\t\t}, root);\n\n\t\treturn res;\n\t};\n\n\tgantt.getSubtaskDates = function (task_id) {\n\t\tvar min = null,\n\t\t\tmax = null,\n\t\t\troot = task_id !== undefined ? task_id : gantt.config.root_id;\n\n\t\tthis.eachTask(function (child) {\n\t\t\tif (this.getTaskType(child.type) == gantt.config.types.project || this.isUnscheduledTask(child))\n\t\t\t\treturn;\n\n\t\t\tif ((child.start_date && !child.$no_start) && (!min || min > child.start_date.valueOf()))\n\t\t\t\tmin = child.start_date.valueOf();\n\t\t\tif ((child.end_date && !child.$no_end) && (!max || max < child.end_date.valueOf()))\n\t\t\t\tmax = child.end_date.valueOf();\n\t\t}, root);\n\n\t\treturn {\n\t\t\tstart_date: min ? new Date(min) : null,\n\t\t\tend_date: max ? new Date(max) : null\n\t\t};\n\t};\n\n\tgantt._assign_project_dates = function (task, from, to) {\n\t\tvar taskTiming = this._get_task_timing_mode(task);\n\t\tif (taskTiming.$no_start) {\n\t\t\tif (from && from != Infinity) {\n\t\t\t\ttask.start_date = new Date(from);\n\t\t\t} else {\n\t\t\t\ttask.start_date = this._defaultTaskDate(task, this.getParent(task));\n\t\t\t}\n\t\t}\n\n\t\tif (taskTiming.$no_end) {\n\t\t\tif (to && to != -Infinity) {\n\t\t\t\ttask.end_date = new Date(to);\n\t\t\t} else {\n\t\t\t\ttask.end_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\tduration: this.config.duration_step,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (taskTiming.$no_start || taskTiming.$no_end) {\n\t\t\tthis._init_task_timing(task);\n\t\t}\n\t};\n\n// upward calculation of project duration\n\tgantt._update_parents = function (taskId, silent) {\n\t\tif (!taskId) return;\n\n\t\tvar task = this.getTask(taskId);\n\t\tvar pid = this.getParent(task);\n\n\t\tvar taskTiming = this._get_task_timing_mode(task);\n\n\t\tvar has_changed = true;\n\n\t\tif (taskTiming.$no_start || taskTiming.$no_end) {\n\t\t\tvar oldStart = task.start_date.valueOf(),\n\t\t\t\toldEnd = task.end_date.valueOf();\n\n\t\t\tgantt.resetProjectDates(task);\n\n\t\t\t// not refresh parent projects if dates hasn't changed\n\t\t\tif (oldStart == task.start_date.valueOf() && oldEnd == task.end_date.valueOf()) {\n\t\t\t\thas_changed = false;\n\t\t\t}\n\n\t\t\tif (has_changed && !silent) {\n\t\t\t\tthis.refreshTask(task.id, true);\n\t\t\t}\n\t\t}\n\n\n\t\tif (has_changed && pid && this.isTaskExists(pid)) {\n\t\t\tthis._update_parents(pid, silent);\n\t\t}\n\t};\n\n\tgantt.roundDate = function (config) {\n\t\tvar scale = gantt.getScale();\n\n\t\tif (helpers.isDate(config)) {\n\t\t\tconfig = {\n\t\t\t\tdate: config,\n\t\t\t\tunit: scale ? scale.unit : gantt.config.duration_unit,\n\t\t\t\tstep: scale ?  scale.step : gantt.config.duration_step\n\t\t\t};\n\t\t}\n\t\tvar date = config.date,\n\t\t\tsteps = config.step,\n\t\t\tunit = config.unit;\n\n\t\tif(!scale){\n\t\t\treturn date;\n\t\t}\n\n\t\tvar upper, lower, colIndex;\n\t\tif (unit == scale.unit && steps == scale.step &&\n\t\t\t+date >= +scale.min_date && +date <= +scale.max_date) {\n\t\t\t//find date in time scale config\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tif (!scale.trace_x[colIndex]) {\n\t\t\t\tcolIndex -= 1;// end of time scale\n\t\t\t\tif(scale.rtl){\n\t\t\t\t\tcolIndex = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlower = new Date(scale.trace_x[colIndex]);\n\t\t\tupper = gantt.date.add(lower, steps, unit);\n\t\t} else {\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tupper = gantt.date[unit + \"_start\"](new Date(scale.min_date));\n\t\t\tif (scale.trace_x[colIndex]) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](scale.trace_x[colIndex]);// end of time scale\n\t\t\t}\n\n\t\t\twhile (+upper < +date) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](gantt.date.add(upper, steps, unit));\n\n\t\t\t\tvar tzOffset = upper.getTimezoneOffset();\n\n\t\t\t\tupper = gantt._correct_dst_change(upper, tzOffset, upper, unit);\n\t\t\t\tif (gantt.date[unit + '_start'])\n\t\t\t\t\tupper = gantt.date[unit + '_start'](upper);\n\t\t\t}\n\n\t\t\tlower = gantt.date.add(upper, -1 * steps, unit);\n\n\t\t}\n\t\tif (config.dir && config.dir == 'future')\n\t\t\treturn upper;\n\t\tif (config.dir && config.dir == 'past')\n\t\t\treturn lower;\n\n\t\tif (Math.abs(date - lower) < Math.abs(upper - date)) {\n\t\t\treturn lower;\n\t\t} else {\n\t\t\treturn upper;\n\t\t}\n\n\t};\n\n\tgantt.correctTaskWorkTime = function (task) {\n\t\tif (gantt.config.work_time && gantt.config.correct_work_time) {\n\t\t\tif (!this.isWorkTime(task.start_date, undefined, task)) {\n\t\t\t\ttask.start_date = this.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!this.isWorkTime(new Date(+task.end_date - 1), undefined, task)) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskUpdate\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\tgantt.attachEvent(\"onBeforeTaskAdd\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\n};","// TODO: rework public api for date methods\nvar utils = require(\"../../utils/utils\");\n\nvar createWorktimeFacade = function(calendarManager, timeCalculator){\n\treturn {\n\t\tgetWorkHours: function (date) {\n\t\t\treturn timeCalculator.getWorkHours(date);\n\t\t},\n\n\t\tsetWorkTime: function (config) {\n\t\t\treturn timeCalculator.setWorkTime(config);\n\t\t},\n\n\t\tunsetWorkTime: function (config) {\n\t\t\ttimeCalculator.unsetWorkTime(config);\n\t\t},\n\n\t\tisWorkTime: function (date, unit, task) {\n\t\t\treturn timeCalculator.isWorkTime(date, unit, task);\n\t\t},\n\n\t\tgetClosestWorkTime: function (config) {\n\t\t\treturn timeCalculator.getClosestWorkTime(config);\n\t\t},\n\n\t\tcalculateDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.calculateDuration(start_date, end_date, task);\n\t\t},\n\t\t_hasDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.hasDuration(start_date, end_date, task);\n\t\t},\n\n\t\tcalculateEndDate: function (start, duration, unit, task) {\n\t\t\treturn timeCalculator.calculateEndDate(start, duration, unit, task);\n\t\t},\n\n\t\tcreateCalendar: utils.bind(calendarManager.createCalendar, calendarManager),\n\t\taddCalendar: utils.bind(calendarManager.addCalendar, calendarManager),\n\t\tgetCalendar: utils.bind(calendarManager.getCalendar, calendarManager),\n\t\tgetCalendars: utils.bind(calendarManager.getCalendars, calendarManager),\n\t\tgetTaskCalendar: utils.bind(calendarManager.getTaskCalendar, calendarManager),\n\t\tdeleteCalendar: utils.bind(calendarManager.deleteCalendar, calendarManager)\n\t};\n};\n\n\nmodule.exports = { create: createWorktimeFacade };\n","function CalendarDisabledTimeStrategy(gantt, argumentsHelper){\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n}\n\nCalendarDisabledTimeStrategy.prototype = {\n\tgetWorkHours: function () {\n\t\treturn [0, 24];\n\t},\n\tsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tunsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tisWorkTime: function () {\n\t\treturn true;\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tvar config = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\t\treturn config.date;\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this._calculateDuration(from, to, unit, step);\n\t},\n\t_calculateDuration: function (start, end, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar fixedUnits = {\n\t\t\t\"week\": 1000 * 60 * 60 * 24 * 7,\n\t\t\t\"day\": 1000 * 60 * 60 * 24,\n\t\t\t\"hour\": 1000 * 60 * 60,\n\t\t\t\"minute\": 1000 * 60\n\t\t};\n\n\t\tvar res = 0;\n\t\tif (fixedUnits[unit]) {\n\t\t\tres = Math.round((end - start) / (step * fixedUnits[unit]));\n\t\t} else {\n\t\t\tvar from = new Date(start),\n\t\t\t\tto = new Date(end);\n\t\t\twhile (from.valueOf() < to.valueOf()) {\n\t\t\t\tres += 1;\n\t\t\t\tfrom = dateHelper.add(from, step, unit);\n\t\t\t}\n\n\t\t\tif (from.valueOf() != end.valueOf()) {\n\t\t\t\tres += (to - from) / (dateHelper.add(from, step, unit) - from);\n\t\t\t}\n\t\t}\n\n\t\treturn Math.round(res);\n\t},\n\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tfrom = new Date(from);\n\t\tto = new Date(to);\n\n\t\treturn (from.valueOf() < to.valueOf());\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar start = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this.$gantt.date.add(start, step * duration, unit);\n\t}\n};\n\nmodule.exports = CalendarDisabledTimeStrategy;","var createArgumentsHelper = require(\"./calendar_arguments_helper\"),\n\tNoWorkTimeCalendar = require(\"./strategy/no_work_time\");\n\nfunction TimeCalculator(calendarManager){\n\n\tthis.$gantt = calendarManager.$gantt;\n\tthis.argumentsHelper = createArgumentsHelper(this.$gantt);\n\tthis.calendarManager = calendarManager;\n\tthis.$disabledCalendar = new NoWorkTimeCalendar(this.$gantt, this.argumentsHelper);\n}\n\nTimeCalculator.prototype = {\n\t_getCalendar: function (config) {\n\t\tvar calendar;\n\t\tif (!this.$gantt.$services.config().work_time) {\n\t\t\tcalendar = this.$disabledCalendar;\n\t\t} else {\n\t\t\tvar manager = this.calendarManager;\n\t\t\tif (config.task) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config.task);\n\t\t\t} else if (config.id) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config);\n\t\t\t} else if (config.calendar) {\n\t\t\t\tcalendar = config.calendar;\n\t\t\t}\n\t\t\tif (!calendar) {\n\t\t\t\tcalendar = manager.getTaskCalendar();\n\t\t\t}\n\t\t}\n\t\treturn calendar;\n\t},\n\n\tgetWorkHours: function (config) {\n\t\tconfig = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getWorkHours(config.date);\n\t},\n\n\tsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.setWorkTime(config);\n\t},\n\n\tunsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.unsetWorkTime(config);\n\t},\n\tisWorkTime: function (date, unit, task, calendar) {\n\t\tvar config = this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tcalendar = this._getCalendar(config);\n\t\treturn calendar.isWorkTime(config);\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tconfig = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getClosestWorkTime(config);\n\t},\n\n\tcalculateDuration: function () { // start_date_date, end_date, task\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateDuration(config);\n\t},\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.hasDuration(config);\n\t},\n\tcalculateEndDate: function (config) { // start_date, duration, unit, task\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateEndDate(config);\n\t}\n};\n\nmodule.exports = TimeCalculator;\n\n","function WorkUnitsCache() {\n\tthis._cache = {};\n}\n\nWorkUnitsCache.prototype = {\n\t// cache previously calculated worktime\n\tget: function (unit, date) {\n\t\tvar result = -1;// default value (if not existed in the cache)\n\n\t\tvar cache = this._cache;\n\t\tif (cache && cache[unit]) {\n\t\t\tvar units = cache[unit];\n\t\t\tvar time = date.getTime();\n\t\t\tif (units[time] !== undefined)\n\t\t\t\tresult = units[time];\n\t\t}\n\t\treturn result;\n\t},\n\n\tput: function (unit, date, value) {\n\t\tif (!unit || !date) return false;\n\n\t\tvar cache = this._cache;\n\n\t\tvar time = date.getTime();\n\n\t\tvalue = !!value;\n\n\t\tif (!cache) return false;\n\t\tif (!cache[unit]) cache[unit] = {};\n\t\tcache[unit][time] = value;\n\t\treturn true;\n\t},\n\n\tclear: function () {\n\t\tthis._cache = {};\n\t}\n};\n\nmodule.exports = WorkUnitsCache;","var Cache = require(\"./calendar_workunit_cache\"),\n\tutils = require(\"../../../utils/utils\");\n\nfunction CalendarWorkTimeStrategy(gantt, argumentsHelper){\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n\tthis._workingUnitsCache = new Cache();\n}\n\nCalendarWorkTimeStrategy.prototype = {\n\tunits: [\n\t\t\"year\",\n\t\t\"month\",\n\t\t\"week\",\n\t\t\"day\",\n\t\t\"hour\",\n\t\t\"minute\"\n\t],\n\t// cache previously calculated worktime\n\t_getUnitOrder: function (unit) {\n\t\tfor (var i = 0, len = this.units.length; i < len; i++) {\n\t\t\tif (this.units[i] == unit)\n\t\t\t\treturn i;\n\t\t}\n\t},\n\t_timestamp: function (settings) {\n\n\t\tvar timestamp = null;\n\t\tif ((settings.day || settings.day === 0)) {\n\t\t\ttimestamp = settings.day;\n\t\t} else if (settings.date) {\n\t\t\t// store worktime datestamp in utc so it could be recognized in different timezones (e.g. opened locally and sent to the export service in different timezone)\n\t\t\ttimestamp = Date.UTC(settings.date.getFullYear(), settings.date.getMonth(), settings.date.getDate());\n\t\t}\n\t\treturn timestamp;\n\t},\n\t_checkIfWorkingUnit: function (date, unit, order) {\n\t\tif (order === undefined) {\n\t\t\torder = this._getUnitOrder(unit);\n\t\t}\n\n\t\t// disable worktime check for custom time units\n\t\tif (order === undefined) {\n\t\t\treturn true;\n\t\t}\n\t\tif (order) {\n\t\t\t//check if bigger time unit is a work time (hour < day < month...)\n\t\t\t//i.e. don't check particular hour if the whole day is marked as not working\n\t\t\tif (!this._isWorkTime(date, this.units[order - 1], order - 1))\n\t\t\t\treturn false;\n\t\t}\n\t\tif (!this[\"_is_work_\" + unit])\n\t\t\treturn true;\n\t\treturn this[\"_is_work_\" + unit](date);\n\t},\n\t//checkings for particular time units\n\t//methods for month-year-week can be defined, otherwise always return 'true'\n\t_is_work_day: function (date) {\n\t\tvar val = this._getWorkHours(date);\n\n\t\tif (val instanceof Array) {\n\t\t\treturn val.length > 0;\n\t\t}\n\t\treturn false;\n\t},\n\t_is_work_hour: function (date) {\n\t\tvar hours = this._getWorkHours(date); // [7,12] or []\n\t\tvar hour = date.getHours();\n\t\tfor (var i = 0; i < hours.length; i += 2) {\n\t\t\tif (hours[i + 1] === undefined) {\n\t\t\t\treturn hours[i] == hour;\n\t\t\t} else {\n\t\t\t\tif (hour >= hours[i] && hour < hours[i + 1])\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t_internDatesPull: {},\n\t_nextDate: function (start, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\treturn dateHelper.add(start, step, unit);\n\n\t\t/*var start_value = +start,\n\t\t\tkey = unit + \"_\" + step;\n\t\tvar interned = this._internDatesPull[key];\n\t\tif(!interned){\n\t\t\tinterned = this._internDatesPull[key] = {};\n\t\t}\n\t\tvar calculated;\n\t\tif(!interned[start_value]){\n\t\t\tinterned[start_value] = calculated = dateHelper.add(start, step, unit);\n\t\t\t//interned[start_value] = dateHelper.add(start, step, unit);\n\t\t}\n\t\treturn calculated || interned[start_value];*/\n\t},\n\t_getWorkUnitsBetweenGeneric: function (from, to, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\t\tvar units = 0;\n\n\n\t\tvar next = null;\n\t\tvar stepStart,\n\t\t\tstepEnd;\n\n\t\t// calculating decimal durations, i.e. 2016-09-20 00:05:00 - 2016-09-20 01:00:00 ~ 0.95 instead of 1\n\t\t// and also  2016-09-20 00:00:00 - 2016-09-20 00:05:00 ~ 0.05 instead of 1\n\t\t// durations must be rounded later\n\t\tvar checkFirst = false;\n\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\tif (stepStart.valueOf() != start.valueOf()) {\n\t\t\tcheckFirst = true;\n\t\t}\n\t\tvar checkLast = false;\n\t\tstepEnd = dateHelper[unit + \"_start\"](new Date(to));\n\t\tif (stepEnd.valueOf() != to.valueOf()) {\n\t\t\tcheckLast = true;\n\t\t}\n\n\t\tvar isLastStep = false;\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tnext = this._nextDate(start, unit, step);\n\t\t\tisLastStep = (next.valueOf() > end.valueOf());\n\n\t\t\tif (this._isWorkTime(start, unit)) {\n\t\t\t\tif (checkFirst || (checkLast && isLastStep)) {\n\t\t\t\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\t\t\t\tstepEnd = dateHelper.add(stepStart, step, unit);\n\t\t\t\t}\n\n\t\t\t\tif (checkFirst) {\n\t\t\t\t\tcheckFirst = false;\n\t\t\t\t\tnext = this._nextDate(stepStart, unit, step);\n\t\t\t\t\tunits += ((stepEnd.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\t\t\t\t} else if (checkLast && isLastStep) {\n\t\t\t\t\tcheckLast = false;\n\t\t\t\t\tunits += ((end.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\n\t\t\t\t} else {\n\t\t\t\t\tunits++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstart = next;\n\t\t}\n\t\treturn units;\n\t},\n\t_getHoursPerDay: function (date) {\n\t\tvar hours = this._getWorkHours(date);\n\t\tvar res = 0;\n\t\tfor (var i = 0; i < hours.length; i += 2) {\n\t\t\tres += ((hours[i + 1] - hours[i]) || 0);\n\t\t}\n\t\treturn res;\n\t},\n\t_getWorkHoursForRange: function (from, to) {\n\t\tvar hours = 0;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif (this._isWorkTime(start, \"day\"))\n\t\t\t\thours += this._getHoursPerDay(start);\n\t\t\tstart = this._nextDate(start, \"day\", 1);\n\t\t}\n\t\treturn hours;\n\t},\n\t_getWorkUnitsBetweenHours: function (from, to, unit, step) {\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\tvar firstDayStart = new Date(start);\n\t\tvar firstDayEnd = this.$gantt.date.add(this.$gantt.date.day_start(new Date(start)), 1, \"day\");\n\n\t\tif (end.valueOf() <= firstDayEnd.valueOf()) {\n\t\t\treturn this._getWorkUnitsBetweenGeneric(from, to, unit, step);\n\t\t} else {\n\n\t\t\tvar lastDayStart = this.$gantt.date.day_start(new Date(end));\n\t\t\tvar lastDayEnd = end;\n\n\t\t\tvar startPart = this._getWorkUnitsBetweenGeneric(firstDayStart, firstDayEnd, unit, step);\n\t\t\tvar endPart = this._getWorkUnitsBetweenGeneric(lastDayStart, lastDayEnd, unit, step);\n\n\t\t\tvar hourRange = this._getWorkHoursForRange(firstDayEnd, lastDayStart);\n\t\t\thourRange = ((hourRange / step) + startPart + endPart);\n\n\t\t\treturn hourRange;\n\t\t}\n\t},\n\n\t_getCalendar: function () {\n\t\treturn this.worktime;\n\t},\n\t_setCalendar: function (settings) {\n\t\tthis.worktime = settings;\n\t},\n\n\t_tryChangeCalendarSettings: function (payload) {\n\t\tvar backup = JSON.stringify(this._getCalendar());\n\t\tpayload();\n\t\tif (this._isEmptyCalendar(this._getCalendar())) {\n\t\t\tthis.$gantt.assert(false, \"Invalid calendar settings, no worktime available\");\n\t\t\tthis._setCalendar(JSON.parse(backup));\n\t\t\tthis._workingUnitsCache.clear();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\n\t},\n\n\t_isEmptyCalendar: function (settings) {\n\t\tvar result = false,\n\t\t\tdatesArray = [],\n\t\t\tisFullWeekSet = true;\n\t\tfor (var i in settings.dates) {\n\t\t\tresult |= !!settings.dates[i];\n\t\t\tdatesArray.push(i);\n\t\t}\n\n\t\tvar checkFullArray = [];\n\t\tfor (var i = 0; i < datesArray.length; i++) {\n\t\t\tif (datesArray[i] < 10) {\n\t\t\t\tcheckFullArray.push(datesArray[i]);\n\t\t\t}\n\t\t}\n\t\tcheckFullArray.sort();\n\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\tif (checkFullArray[i] != i)\n\t\t\t\tisFullWeekSet = false;\n\t\t}\n\t\tif (isFullWeekSet)\n\t\t\treturn !result;\n\t\treturn !(result || !!settings.hours); // can still return false if separated dates are set to true\n\t},\n\n\tgetWorkHours: function () {\n\t\tvar config = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\t\treturn this._getWorkHours(config.date);\n\t},\n\t_getWorkHours: function (date) {\n\t\tvar t = this._timestamp({date: date});\n\t\tvar hours = true;\n\t\tvar calendar = this._getCalendar();\n\t\tif (calendar.dates[t] !== undefined) {\n\t\t\thours = calendar.dates[t];//custom day\n\t\t} else if (calendar.dates[date.getDay()] !== undefined) {\n\t\t\thours = calendar.dates[date.getDay()];//week day\n\t\t}\n\t\tif (hours === true) {\n\t\t\treturn calendar.hours;\n\t\t} else if (hours) {\n\t\t\treturn hours;\n\t\t}\n\t\treturn [];\n\t},\n\n\tsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tvar hours = settings.hours !== undefined ? settings.hours : true;\n\t\t\tvar timestamp = this._timestamp(settings);\n\t\t\tif (timestamp !== null) {\n\t\t\t\tthis._getCalendar().dates[timestamp] = hours;\n\t\t\t} else {\n\t\t\t\tthis._getCalendar().hours = hours;\n\t\t\t}\n\t\t\tthis._workingUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\tunsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tif (!settings) {\n\t\t\t\tthis.reset_calendar();\n\t\t\t} else {\n\n\t\t\t\tvar timestamp = this._timestamp(settings);\n\n\t\t\t\tif (timestamp !== null) {\n\t\t\t\t\tdelete this._getCalendar().dates[timestamp];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Clear work units cache\n\t\t\tthis._workingUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\t_isWorkTime: function (date, unit, order) {\n\t\t//Check if this item has in the cache\n\t\tvar is_work_unit = this._workingUnitsCache.get(unit, date);\n\n\t\tif (is_work_unit == -1) {\n\t\t\t// calculate if not cached\n\t\t\tis_work_unit = this._checkIfWorkingUnit(date, unit, order);\n\t\t\tthis._workingUnitsCache.put(unit, date, is_work_unit);\n\t\t}\n\n\t\treturn is_work_unit;\n\t},\n\n\tisWorkTime: function () {\n\t\tvar config =  this.argumentsHelper.isWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._isWorkTime(config.date, config.unit);\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tif (!config.unit) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar res = 0;\n\t\tif (config.unit == \"hour\") {\n\t\t\tres = this._getWorkUnitsBetweenHours(config.start_date, config.end_date, config.unit, config.step);\n\t\t} else {\n\t\t\tres = this._getWorkUnitsBetweenGeneric(config.start_date, config.end_date, config.unit, config.step);\n\t\t}\n\n\t\t// getDuration.. returns decimal durations\n\t\treturn Math.round(res);\n\t},\n\thasDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif (this._isWorkTime(start, unit))\n\t\t\t\treturn true;\n\t\t\tstart = this._nextDate(start, unit, step);\n\t\t}\n\t\treturn false;\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config =  this.argumentsHelper.calculateEndDateArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tvar mult = (config.duration >= 0) ? 1 : -1;\n\t\treturn this._calculateEndDate(from, duration, unit, step * mult);\n\t},\n\t_calculateEndDate: function (from, duration, unit, step) {\n\t\tif (!unit)\n\t\t\treturn false;\n\n\t\tvar start = new Date(from),\n\t\t\tadded = 0;\n\t\tstep = step || 1;\n\t\tduration = Math.abs(duration * 1);\n\n\t\twhile (added < duration) {\n\t\t\tvar next = this._nextDate(start, unit, step);\n\t\t\t//if(this.isWorkTime(step > 0 ? start : next, unit))\n\t\t\tif (this._isWorkTime(step > 0 ? new Date(next.valueOf() - 1) : new Date(next.valueOf() + 1), unit))\n\t\t\t\tadded++;\n\t\t\tstart = next;\n\t\t}\n\t\treturn start;\n\t},\n\n\tgetClosestWorkTime: function () {\n\t\tvar settings =  this.argumentsHelper.getClosestWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._getClosestWorkTime(settings.date, settings.unit, settings.dir);\n\t},\n\n\t_getClosestWorkTime: function (inputDate, unit, direction) {\n\t\tvar result = new Date(inputDate);\n\n\t\tif (this._isWorkTime(result, unit)) {\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this.$gantt.date[unit + '_start'](result);\n\n\t\tif (direction == 'any' || !direction) {\n\t\t\tvar closestFuture = this._getClosestWorkTimeFuture(result, unit);\n\t\t\tvar closestPast = this._getClosestWorkTimePast(result, unit);\n\t\t\tif (Math.abs(closestFuture - inputDate) <= Math.abs(inputDate - closestPast)) {\n\t\t\t\tresult = closestFuture;\n\t\t\t} else {\n\t\t\t\tresult = closestPast;\n\t\t\t}\n\t\t} else if (direction == \"past\") {\n\t\t\tresult = this._getClosestWorkTimePast(result, unit);\n\t\t} else {\n\t\t\tresult = this._getClosestWorkTimeFuture(result, unit);\n\t\t}\n\t\treturn result;\n\t},\n\n\t_getClosestWorkTimeFuture: function (date, unit) {\n\t\treturn this._getClosestWorkTimeGeneric(date, unit, 1);\n\t},\n\n\t_getClosestWorkTimePast: function (date, unit) {\n\t\tvar result = this._getClosestWorkTimeGeneric(date, unit, -1);\n\t\t// should return the end of the closest work interval\n\t\treturn this.$gantt.date.add(result, 1, unit);\n\t},\n\n\t_getClosestWorkTimeGeneric: function (date, unit, increment) {\n\t\tvar unitOrder = this._getUnitOrder(unit),\n\t\t\tbiggerTimeUnit = this.units[unitOrder - 1];\n\n\t\tvar result = date;\n\n\n\n\t\t// be extra sure we won't fall into infinite loop, 3k seems big enough\n\t\tvar maximumLoop = 3000,\n\t\t\tcount = 0;\n\n\t\twhile (!this._isWorkTime(result, unit)) {\n\t\t\tif (biggerTimeUnit && !this._isWorkTime(result, biggerTimeUnit)) {\n\t\t\t\t// if we look for closest work hour and detect a week-end - first find the closest work day,\n\t\t\t\t// and continue iterations after that\n\t\t\t\tresult = this._getClosestWorkTimeGeneric(result, biggerTimeUnit, increment);\n\n\t\t\t\tif (this._isWorkTime(result, unit)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcount++;\n\t\t\tif (count > maximumLoop) {\n\t\t\t\tthis.$gantt.assert(false, \"Invalid working time check\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar tzOffset = result.getTimezoneOffset();\n\t\t\tresult = this.$gantt.date.add(result, increment, unit);\n\n\t\t\tresult = this.$gantt._correct_dst_change(result, tzOffset, increment, unit);\n\t\t\tif (this.$gantt.date[unit + '_start']) {\n\t\t\t\tresult = this.$gantt.date[unit + '_start'](result);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n\nmodule.exports = CalendarWorkTimeStrategy;","var utils = require(\"../../utils/utils\");\nvar createArgumentsHelper = require(\"./calendar_arguments_helper\");\nvar CalendarWorktimeStrategy = require(\"./strategy/calendar_strategy\");\n\nfunction CalendarManager (gantt){\n\tthis.$gantt = gantt;\n\tthis._calendars = {};\n}\n\nCalendarManager.prototype = {\n\t_calendars: {},\n\t_getDayHoursForMultiple: function (calendars, date) {\n\t\tvar units = [],\n\t\t\ttick = true,\n\t\t\tcurrPos = 0,\n\t\t\tis_work_hour = false,\n\t\t\tstart = this.$gantt.date.day_start(new Date(date));\n\t\tfor (var hour = 0; hour < 24; hour++) {\n\t\t\tis_work_hour = calendars.reduce(function (acc, calendar) {\n\t\t\t\treturn acc && calendar._is_work_hour(start);\n\t\t\t}, true);\n\t\t\tif (is_work_hour) {\n\t\t\t\tif (tick) {\n\t\t\t\t\tunits[currPos] = hour;\n\t\t\t\t\tunits[currPos + 1] = (hour + 1);\n\t\t\t\t\tcurrPos += 2;\n\t\t\t\t} else {\n\t\t\t\t\tunits[currPos - 1] += 1;\n\t\t\t\t}\n\t\t\t\ttick = false;\n\t\t\t} else if (!tick) {\n\t\t\t\ttick = true;\n\t\t\t}\n\t\t\tstart = this.$gantt.date.add(start, 1, \"hour\");\n\t\t}\n\t\tif (!units.length)\n\t\t\tunits = false;\n\t\treturn units;\n\t},\n\tmergeCalendars: function () {\n\t\tvar newCalendar = this.createCalendar(),\n\t\t\tday,\n\t\t\tunits = [];\n\t\tvar calendars = Array.prototype.slice.call(arguments, 0);\n\t\tnewCalendar.worktime.hours = [0, 24];\n\t\tnewCalendar.worktime.dates = {};\n\t\tvar start = this.$gantt.date.day_start(new Date(259200000)); // 1970 day=0\n\t\tfor (day = 0; day < 7; day++) {\n\t\t\tunits = this._getDayHoursForMultiple(calendars, start);\n\t\t\tnewCalendar.worktime.dates[day] = units;\n\t\t\tstart = this.$gantt.date.add(start, 1, \"day\");\n\t\t}\n\t\tfor (var i = 0; i < calendars.length; i++) {\n\t\t\tfor (var value in calendars[i].worktime.dates) if (+value > 10000) {\n\t\t\t\tunits = this._getDayHoursForMultiple(calendars, new Date(+value));\n\t\t\t\tnewCalendar.worktime.dates[value] = units;\n\t\t\t}\n\t\t}\n\t\treturn newCalendar;\n\t},\n\n\t_convertWorktimeSettings: function (settings) {\n\t\tvar days = settings.days;\n\t\tif (days) {\n\t\t\tsettings.dates = settings.dates || {};\n\t\t\tfor (var i = 0; i < days.length; i++) {\n\t\t\t\tsettings.dates[i] = days[i];\n\t\t\t\tif (!(days[i] instanceof Array)) {\n\t\t\t\t\tsettings.dates[i] = !!days[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tdelete settings.days;\n\t\t}\n\t\treturn settings;\n\t},\n\n\tcreateCalendar: function (parentCalendar) {\n\t\tvar settings;\n\n\t\tif (!parentCalendar) {\n\t\t\tparentCalendar = {};\n\t\t}\n\n\t\tif (parentCalendar.worktime) {\n\t\t\tsettings = utils.copy(parentCalendar.worktime);\n\t\t} else {\n\t\t\tsettings = utils.copy(parentCalendar);\n\t\t}\n\n\t\tvar defaults = utils.copy(this.defaults.fulltime.worktime);\n\t\tutils.mixin(settings, defaults);\n\n\t\tvar id = utils.uid();\n\t\tvar calendar = {\n\t\t\tid: id + \"\",\n\t\t\tworktime: this._convertWorktimeSettings(settings)\n\t\t};\n\n\t\tvar apiCore = new CalendarWorktimeStrategy(this.$gantt, createArgumentsHelper(this.$gantt));\n\t\tutils.mixin(apiCore, calendar);\n\n\t\t// validate/check if empty calendar\n\t\tif (!apiCore._tryChangeCalendarSettings(function () {\n\t\t\t})) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn apiCore;\n\t\t}\n\t},\n\n\tgetCalendar: function (id) {\n\t\tid = id || \"global\";\n\t\tthis.createDefaultCalendars();\n\t\treturn this._calendars[id];\n\t},\n\n\tgetCalendars: function () {\n\t\tvar res = [];\n\t\tfor (var i in this._calendars) {\n\t\t\tres.push(this.getCalendar(i));\n\t\t}\n\t\treturn res;\n\t},\n\n\t_getOwnCalendar: function(task){\n\t\tvar config = this.$gantt.config;\n\t\tif (task[config.calendar_property]) {\n\t\t\treturn this.getCalendar(task[config.calendar_property]);\n\t\t}\n\n\t\tif (config.resource_calendars) {\n\t\t\tfor (var field in config.resource_calendars) {\n\t\t\t\tvar resource = config.resource_calendars[field];\n\t\t\t\tif (task[field]) {\n\t\t\t\t\tvar calendarId = resource[task[field]];\n\t\t\t\t\tif (calendarId) {\n\t\t\t\t\t\treturn this.getCalendar(calendarId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetTaskCalendar: function (task) {\n\t\tif (!task) {\n\t\t\treturn this.getCalendar();\n\t\t}\n\n\t\tvar calendar = this._getOwnCalendar(task);\n\t\tvar gantt = this.$gantt;\n\t\tif (!calendar && gantt.config.inherit_calendar && gantt.isTaskExists(task.parent)){\n\t\t\tvar stop = false;\n\t\t\tgantt.eachParent(function(parent){\n\t\t\t\tif(stop) return;\n\t\t\t\tif(gantt.isSummaryTask(parent)){\n\t\t\t\t\tcalendar = this._getOwnCalendar(parent);\n\t\t\t\t\tif(calendar){\n\t\t\t\t\t\tstop = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, task.id, this);\n\t\t}\n\n\t\treturn calendar || this.getCalendar();\n\t},\n\n\taddCalendar: function (calendar) { // puts new calendar to Global Storage - gantt.calendarManager._calendars {}\n\t\tif (!(calendar instanceof CalendarWorktimeStrategy)) {\n\t\t\tvar id = calendar.id;\n\t\t\tcalendar = this.createCalendar(calendar);\n\t\t\tcalendar.id = id;\n\t\t}\n\t\tvar config = this.$gantt.config;\n\n\t\tcalendar.id = calendar.id || utils.uid();\n\t\tthis._calendars[calendar.id] = calendar;\n\t\tif (!config.worktimes)\n\t\t\tconfig.worktimes = {};\n\t\tconfig.worktimes[calendar.id] = calendar.worktime;\n\t\treturn calendar.id;\n\t},\n\n\tdeleteCalendar: function (calendar) {\n\t\tvar config = this.$gantt.config;\n\t\tif (!calendar) return false;\n\t\tif (this._calendars[calendar]) {\n\t\t\tdelete this._calendars[calendar];\n\t\t\tif (config.worktimes && config.worktimes[calendar])\n\t\t\t\tdelete config.worktimes[calendar];\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\t},\n\n\trestoreConfigCalendars: function (configs) {\n\t\tfor (var i in configs) {\n\t\t\tif (this._calendars[i])\n\t\t\t\tcontinue;\n\n\t\t\tvar settings = configs[i];\n\t\t\tvar calendar = this.createCalendar(settings);\n\t\t\tcalendar.id = i;\n\t\t\tthis.addCalendar(calendar);\n\t\t}\n\t},\n\n\tdefaults: {\n\t\tglobal: {\n\t\t\tid: \"global\",\n\t\t\tworktime: {\n\t\t\t\thours: [8, 17],\n\t\t\t\tdays: [0, 1, 1, 1, 1, 1, 0]\n\t\t\t}\n\t\t},\n\t\tfulltime: {\n\t\t\tid: \"fulltime\",\n\t\t\tworktime: {\n\t\t\t\thours: [0, 24],\n\t\t\t\tdays: [1, 1, 1, 1, 1, 1, 1]\n\t\t\t}\n\t\t}\n\t},\n\n\tcreateDefaultCalendars: function () {\n\t\tvar config = this.$gantt.config;\n\t\tthis.restoreConfigCalendars(this.defaults);\n\t\tthis.restoreConfigCalendars(config.worktimes);\n\t}\n};\n\nmodule.exports = CalendarManager;","var CalendarManager = require(\"./calendar_manager\"),\n\tTimeCalculator = require(\"./time_calculator\"),\n\tworktimeFacadeFactory = require(\"../facades/worktime_calendars\"),\n\tutils = require(\"../../utils/utils\");\n\nmodule.exports = function (gantt) {\n\tvar manager = new CalendarManager(gantt),\n\ttimeCalculator = new TimeCalculator(manager);\n\tvar facade = worktimeFacadeFactory.create(manager, timeCalculator);\n\tutils.mixin(gantt, facade);\n};\n","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.load = function (url, type, callback) {\n\t\tthis._load_url = url;\n\t\tthis.assert(arguments.length, \"Invalid load arguments\");\n\n\t\tvar tp = 'json', cl = null;\n\t\tif (arguments.length >= 3) {\n\t\t\ttp = type;\n\t\t\tcl = callback;\n\t\t} else {\n\t\t\tif (typeof arguments[1] == \"string\")\n\t\t\t\ttp = arguments[1];\n\t\t\telse if (typeof arguments[1] == \"function\")\n\t\t\t\tcl = arguments[1];\n\t\t}\n\n\t\tthis._load_type = tp;\n\n\t\tthis.callEvent(\"onLoadStart\", [url, tp]);\n\n\t\treturn this.ajax.get(url, gantt.bind(function (l) {\n\t\t\tthis.on_load(l, tp);\n\t\t\tthis.callEvent(\"onLoadEnd\", [url, tp]);\n\t\t\tif (typeof cl == \"function\")\n\t\t\t\tcl.call(this);\n\t\t}, this));\n\t};\n\tgantt.parse = function (data, type) {\n\t\tthis.on_load({xmlDoc: {responseText: data}}, type);\n\t};\n\n\tgantt.serialize = function (type) {\n\t\ttype = type || \"json\";\n\t\treturn this[type].serialize();\n\t};\n\n\t/*\n\ttasks and relations\n\t{\n\tdata:[\n\t\t{\n\t\t\t\"id\":\"string\",\n\t\t\t\"text\":\"...\",\n\t\t\t\"start_date\":\"Date or string\",\n\t\t\t\"end_date\":\"Date or string\",\n\t\t\t\"duration\":\"number\",\n\t\t\t\"progress\":\"0..1\",\n\t\t\t\"parent_id\":\"string\",\n\t\t\t\"order\":\"number\"\n\t\t},...],\n\tlinks:[\n\t\t{\n\t\t\tid:\"string\",\n\t\t\tsource:\"string\",\n\t\t\ttarget:\"string\",\n\t\t\ttype:\"string\"\n\t\t},...],\n\tcollections:{\n\t\t\tcollectionName:[\n\t\t\t\t{key:, label:, optional:...},...\n\t\t\t],...\n\t\t}\n\t}\n\n\t* */\n\n\tgantt.on_load = function (resp, type) {\n\t\tthis.callEvent(\"onBeforeParse\", []);\n\t\tif (!type)\n\t\t\ttype = \"json\";\n\t\tthis.assert(this[type], \"Invalid data type:'\" + type + \"'\");\n\n\t\tvar raw = resp.xmlDoc.responseText;\n\n\t\tvar data = this[type].parse(raw, resp);\n\t\tthis._process_loading(data);\n\t};\n\n\tgantt._process_loading = function (data) {\n\t\tif(data.collections)\n\t\t\tthis._load_collections(data.collections);\n\n\t\tthis.$data.tasksStore.parse(data.data);\n\t\tvar links = data.links || (data.collections ? data.collections.links : []);\n\t\tthis.$data.linksStore.parse(links);\n\n\t\t//this._sync_links();\n\t\tthis.callEvent(\"onParse\", []);\n\t\tthis.render();\n\t\tif(this.config.initial_scroll){\n\t\t\tvar firstTask = this.getTaskByIndex(0);\n\t\t\tvar id = firstTask ? firstTask.id : this.config.root_id;\n\t\t\tif(this.isTaskExists(id))\n\t\t\t\tthis.showTask(id);\n\t\t}\n\t};\n\n\n\tgantt._load_collections = function (collections) {\n\t\tvar collections_loaded = false;\n\t\tfor (var key in collections) {\n\t\t\tif (collections.hasOwnProperty(key)) {\n\t\t\t\tcollections_loaded = true;\n\t\t\t\tvar collection = collections[key];\n\t\t\t\tvar arr = this.serverList[key];\n\t\t\t\tif (!arr) continue;\n\t\t\t\tarr.splice(0, arr.length); //clear old options\n\t\t\t\tfor (var j = 0; j < collection.length; j++) {\n\t\t\t\t\tvar option = collection[j];\n\t\t\t\t\tvar obj = this.copy(option);\n\t\t\t\t\tobj.key = obj.value;// resulting option object\n\n\t\t\t\t\tfor (var option_key in option) {\n\t\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\n\t\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (collections_loaded)\n\t\t\tthis.callEvent(\"onOptionsLoad\", []);\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskDisplay\", function (id, task) {\n\t\treturn !task.$ignore;\n\t});\n\n\tgantt.json = {\n\t\tparse: function (data) {\n\t\t\tgantt.assert(data, \"Invalid data\");\n\n\t\t\tif (typeof data == \"string\") {\n\t\t\t\tif (window.JSON)\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\telse {\n\t\t\t\t\tgantt.assert(false, \"JSON is not supported\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.dhx_security)\n\t\t\t\tgantt.security_key = data.dhx_security;\n\t\t\treturn data;\n\t\t},\n\t\tserializeTask: function (task) {\n\t\t\treturn this._copyObject(task);\n\t\t},\n\t\tserializeLink: function (link) {\n\t\t\treturn this._copyLink(link);\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj)\n\t\t\t\tcopy[key] = obj[key];\n\t\t\treturn copy;\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (key.charAt(0) == \"$\")\n\t\t\t\t\tcontinue;\n\t\t\t\tcopy[key] = obj[key];\n\n\t\t\t\tif (helpers.isDate(copy[key])) {\n\t\t\t\t\tcopy[key] = gantt.templates.xml_format(copy[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn copy;\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tgantt.eachTask(function (obj) {\n\t\t\t\tgantt.resetProjectDates(obj);\n\t\t\t\ttasks.push(this.serializeTask(obj));\n\t\t\t}, gantt.config.root_id, this);\n\n\t\t\tvar rawLinks = gantt.getLinks();\n\t\t\tfor (var i = 0; i < rawLinks.length; i++) {\n\t\t\t\tlinks.push(this.serializeLink(rawLinks[i]));\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: tasks,\n\t\t\t\tlinks: links\n\t\t\t};\n\t\t}\n\t};\n\n\t/*\n\t<data>\n\t\t<task id:\"some\" parent_id=\"0\" progress=\"0.5\">\n\t\t\t<text>My task 1</text>\n\t\t\t<start_date>16.08.2013</start_date>\n\t\t\t<end_date>22.08.2013</end_date>\n\t\t</task>\n\t\t<coll_options>\n\t\t\t<links>\n\t\t\t\t<link source='a1' target='b2' type='c3' />\n\t\t\t</links>\n\t\t</coll_options>\n\t</data>\n\t*/\n\n\tgantt.xml = {\n\t\t_xmlNodeToJSON: function (node, attrs_only) {\n\t\t\tvar t = {};\n\t\t\tfor (var i = 0; i < node.attributes.length; i++)\n\t\t\t\tt[node.attributes[i].name] = node.attributes[i].value;\n\n\t\t\tif (!attrs_only) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\t\tvar child = node.childNodes[i];\n\t\t\t\t\tif (child.nodeType == 1)\n\t\t\t\t\t\tt[child.tagName] = child.firstChild ? child.firstChild.nodeValue : \"\";\n\t\t\t\t}\n\n\t\t\t\tif (!t.text) t.text = node.firstChild ? node.firstChild.nodeValue : \"\";\n\t\t\t}\n\n\t\t\treturn t;\n\t\t},\n\t\t_getCollections: function (loader) {\n\t\t\tvar collection = {};\n\t\t\tvar opts = gantt.ajax.xpath(\"//coll_options\", loader);\n\t\t\tfor (var i = 0; i < opts.length; i++) {\n\t\t\t\tvar bind = opts[i].getAttribute(\"for\");\n\t\t\t\tvar arr = collection[bind] = [];\n\t\t\t\tvar itms = gantt.ajax.xpath(\".//item\", opts[i]);\n\t\t\t\tfor (var j = 0; j < itms.length; j++) {\n\t\t\t\t\tvar itm = itms[j];\n\t\t\t\t\tvar attrs = itm.attributes;\n\t\t\t\t\tvar obj = {key: itms[j].getAttribute(\"value\"), label: itms[j].getAttribute(\"label\")};\n\t\t\t\t\tfor (var k = 0; k < attrs.length; k++) {\n\t\t\t\t\t\tvar attr = attrs[k];\n\t\t\t\t\t\tif (attr.nodeName == \"value\" || attr.nodeName == \"label\")\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tobj[attr.nodeName] = attr.nodeValue;\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn collection;\n\t\t},\n\t\t_getXML: function (text, loader, toptag) {\n\t\t\ttoptag = toptag || \"data\";\n\t\t\tif (!loader.getXMLTopNode) {\n\t\t\t\tloader = gantt.ajax.parse(loader);\n\t\t\t}\n\n\t\t\tvar xml = gantt.ajax.xmltop(toptag, loader.xmlDoc);\n\t\t\tif (!xml || xml.tagName != toptag) throw \"Invalid XML data\";\n\n\t\t\tvar skey = xml.getAttribute(\"dhx_security\");\n\t\t\tif (skey)\n\t\t\t\tgantt.security_key = skey;\n\n\t\t\treturn xml;\n\t\t},\n\t\tparse: function (text, loader) {\n\t\t\tloader = this._getXML(text, loader);\n\t\t\tvar data = {};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++)\n\t\t\t\tevs[i] = this._xmlNodeToJSON(xml[i]);\n\n\t\t\tdata.collections = this._getCollections(loader);\n\t\t\treturn data;\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\treturn \"<item id='\" + obj.id + \"' source='\" + obj.source + \"' target='\" + obj.target + \"' type='\" + obj.type + \"' />\";\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\treturn \"<task id='\" + obj.id + \"' parent='\" + (obj.parent || \"\") + \"' start_date='\" + obj.start_date + \"' duration='\" + obj.duration + \"' open='\" + (!!obj.open) + \"' progress='\" + obj.progress + \"' end_date='\" + obj.end_date + \"'><![CDATA[\" + obj.text + \"]]></task>\";\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tvar json = gantt.json.serialize();\n\t\t\tfor (var i = 0, len = json.data.length; i < len; i++) {\n\t\t\t\ttasks.push(this._copyObject(json.data[i]));\n\t\t\t}\n\t\t\tfor (var i = 0, len = json.links.length; i < len; i++) {\n\t\t\t\tlinks.push(this._copyLink(json.links[i]));\n\t\t\t}\n\t\t\treturn \"<data>\" + tasks.join(\"\") + \"<coll_options for='links'>\" + links.join(\"\") + \"</coll_options></data>\";\n\t\t}\n\t};\n\n\n\tgantt.oldxml = {\n\t\tparse: function (text, loader) {\n\t\t\tloader = gantt.xml._getXML(text, loader, \"projects\");\n\t\t\tvar data = {collections: {links: []}};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tevs[i] = gantt.xml._xmlNodeToJSON(xml[i]);\n\t\t\t\tvar parent = xml[i].parentNode;\n\n\t\t\t\tif (parent.tagName == \"project\")\n\t\t\t\t\tevs[i].parent = \"project-\" + parent.getAttribute(\"id\");\n\t\t\t\telse\n\t\t\t\t\tevs[i].parent = parent.parentNode.getAttribute(\"id\");\n\t\t\t}\n\n\t\t\txml = gantt.ajax.xpath(\"//project\", loader);\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tvar ev = gantt.xml._xmlNodeToJSON(xml[i], true);\n\t\t\t\tev.id = \"project-\" + ev.id;\n\t\t\t\tevs.push(ev);\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < evs.length; i++) {\n\t\t\t\tvar ev = evs[i];\n\t\t\t\tev.start_date = ev.startdate || ev.est;\n\t\t\t\tev.end_date = ev.enddate;\n\t\t\t\tev.text = ev.name;\n\t\t\t\tev.duration = ev.duration / 8;\n\t\t\t\tev.open = 1;\n\t\t\t\tif (!ev.duration && !ev.end_date) ev.duration = 1;\n\t\t\t\tif (ev.predecessortasks)\n\t\t\t\t\tdata.collections.links.push({\n\t\t\t\t\t\ttarget: ev.id,\n\t\t\t\t\t\tsource: ev.predecessortasks,\n\t\t\t\t\t\ttype: gantt.config.links.finish_to_start\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\t\tserialize: function () {\n\t\t\tgantt.message(\"Serialization to 'old XML' is not implemented\");\n\t\t}\n\t};\n\n\tgantt.serverList = function (name, array) {\n\t\tif (array) {\n\t\t\tthis.serverList[name] = array.slice(0);\n\t\t} else if (!this.serverList[name]) {\n\t\t\tthis.serverList[name] = [];\n\t\t}\n\t\treturn this.serverList[name];\n\t};\n\n};","module.exports = function(gantt) {\n\tgantt.isReadonly = function (item) {\n\t\tif (item && item[this.config.editable_property]) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn (item && item[this.config.readonly_property]) || this.config.readonly;\n\t\t}\n\t};\n};","module.exports = function(gantt){\n\t// TODO: why eslint fails on regexp?\n\t// eslint-disable-next-line no-control-regex\n\tvar htmlTags = new RegExp(\"<(?:.|\\n)*?>\", \"gm\");\n\tvar extraSpaces = new RegExp(\" +\", \"gm\");\n\n\tfunction stripHTMLLite(htmlText){\n\t\treturn (htmlText + \"\")\n\t\t\t.replace(htmlTags, \" \").\n\t\t\treplace(extraSpaces, \" \");\n\t}\n\n\tvar singleQuotes = new RegExp(\"'\", \"gm\");\n\tfunction escapeQuotes(text){\n\t\treturn (text + \"\").replace(singleQuotes, \"&#39;\");\n\t}\n\n\tgantt._waiAria = {\n\t\tgetAttributeString: function(attr){\n\t\t\tvar attributes = [\" \"];\n\t\t\tfor(var i in attr){\n\t\t\t\tvar text = escapeQuotes(stripHTMLLite(attr[i]));\n\t\t\t\tattributes.push(i + \"='\" + text + \"'\");\n\t\t\t}\n\t\t\tattributes.push(\" \");\n\t\t\treturn attributes.join(\" \");\n\n\t\t},\n\n\t\tgetTimelineCellAttr:function(dateString){\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": dateString});\n\t\t},\n\n\n\t\t_taskCommonAttr: function(task, div){\n\n\t\t\tif(!(task.start_date && task.end_date))\n\t\t\t\treturn;\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(gantt.templates.tooltip_text(task.start_date, task.end_date, task)));\n\n\t\t\tif(gantt.isReadonly(task)){\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\n\n\n\t\t\t}\n\n\t\t\tif(task.$dataprocessor_class){\n\t\t\t\tdiv.setAttribute(\"aria-busy\", true);\n\t\t\t}\n\n\n\t\t\tdiv.setAttribute(\"aria-selected\",\n\t\t\t\t(gantt.getState().selected_task == task.id || (gantt.isSelectedTask && gantt.isSelectedTask(task.id))) ? \"true\" : \"false\");\n\t\t},\n\n\t\tsetTaskBarAttr: function(task, div){\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.drag_move){\n\t\t\t\tif(task.id != gantt.getState().drag_id){\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t\t}else{\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttaskRowAttr: function(task, div){\n\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.order_branch){\n\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t}\n\n\t\t\tdiv.setAttribute(\"role\", \"row\");\n\n\t\t\tdiv.setAttribute(\"aria-level\", task.$level);\n\n\t\t\tif(gantt.hasChild(task.id)){\n\t\t\t\tdiv.setAttribute(\"aria-expanded\", task.$open ? \"true\" : \"false\");\n\t\t\t}\n\t\t},\n\n\t\tlinkAttr: function(link, div){\n\n\t\t\tvar linkTypes = gantt.config.links;\n\n\t\t\tvar toStart = link.type == linkTypes.finish_to_start || link.type == linkTypes.start_to_start;\n\t\t\tvar fromStart = link.type == linkTypes.start_to_start || link.type == linkTypes.start_to_finish;\n\n\t\t\tvar content = gantt.locale.labels.link + \" \" +  gantt.templates.drag_link(link.source, fromStart, link.target, toStart);\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(content));\n\t\t\tif(gantt.isReadonly(link)){\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\n\t\t\t}\n\t\t},\n\n\t\tgridSeparatorAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"separator\");\n\t\t},\n\n\t\tlightboxHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t},\n\n\t\tlightboxVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\tlightboxAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t\tdiv.firstChild.setAttribute(\"role\", \"heading\");\n\t\t},\n\n\t\tlightboxButtonAttrString:function(buttonName){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":gantt.locale.labels[buttonName], \"tabindex\":\"0\"});\n\t\t},\n\n\t\tlightboxHeader: function(div, headerText){\n\t\t\tdiv.setAttribute(\"aria-label\", headerText);\n\t\t},\n\n\t\tlightboxSelectAttrString: function(time_option){\n\t\t\tvar label = \"\";\n\n\t\t\tswitch (time_option) {\n\t\t\t\tcase \"%Y\":\n\t\t\t\t\tlabel = gantt.locale.labels.years;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%m\":\n\t\t\t\t\tlabel = gantt.locale.labels.months;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%d\":\n\t\t\t\t\tlabel = gantt.locale.labels.days;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%H:%i\":\n\t\t\t\t\tlabel = gantt.locale.labels.hours + gantt.locale.labels.minutes;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": label});\n\t\t},\n\n\t\tlightboxDurationInputAttrString: function(section){\n\t\t\treturn this.getAttributeString({\"aria-label\": gantt.locale.labels.column_duration, \"aria-valuemin\": \"0\"});\n\t\t},\n\n\t\tgridAttrString: function(){\n\t\t\treturn [\" role='treegrid'\", gantt.config.multiselect ? \"aria-multiselectable='true'\" : \"aria-multiselectable='false'\", \" \"].join(\" \");\n\t\t},\n\n\n\t\tgridScaleRowAttrString: function(){\n\t\t\treturn \"role='row'\";\n\t\t},\n\n\t\tgridScaleCellAttrString: function(column, label){\n\t\t\tvar attrs = \"\";\n\t\t\tif(column.name == \"add\"){\n\t\t\t\tattrs = this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t\t}else{\n\n\t\t\t\tvar attributes = {\n\t\t\t\t\t\"role\":\"columnheader\",\n\t\t\t\t\t\"aria-label\": label\n\t\t\t\t};\n\n\t\t\t\tif(gantt._sort && gantt._sort.name == column.name){\n\t\t\t\t\tif(gantt._sort.direction == \"asc\"){\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"ascending\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"descending\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tattrs = this.getAttributeString(attributes);\n\t\t\t}\n\t\t\treturn attrs;\n\t\t},\n\n\t\tgridDataAttrString: function(){\n\t\t\treturn \"role='rowgroup'\";\n\t\t},\n\n\t\tgridCellAttrString: function(column, textValue){\n\t\t\treturn this.getAttributeString({\"role\":\"gridcell\", \"aria-label\": textValue});\n\t\t},\n\n\t\tgridAddButtonAttrString: function(column){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t},\n\n\t\tmessageButtonAttrString: function(buttonLabel){\n\t\t\treturn \"tabindex='0' role='button' aria-label='\"+buttonLabel+\"'\";\n\t\t},\n\n\t\tmessageInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"alert\");\n\t\t\t//div.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tmessageModalAttr: function(div, uid){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tif(uid){\n\t\t\t\tdiv.setAttribute(\"aria-labelledby\", uid);\n\t\t\t}\n\n\t\t//\tdiv.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tquickInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t},\n\n\t\tquickInfoHeaderAttrString: function(){\n\t\t\treturn \" role='heading' \";\n\t\t},\n\n\t\tquickInfoHeader: function(div, header){\n\t\t\tdiv.setAttribute(\"aria-label\", header);\n\t\t},\n\n\t\tquickInfoButtonAttrString: function(label){\n\t\t\treturn gantt._waiAria.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\n\t\t},\n\n\t\ttooltipAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"tooltip\");\n\t\t},\n\n\t\ttooltipVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\ttooltipHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t}\n\t};\n\n\tfunction isDisabled(){\n\t\treturn !gantt.config.wai_aria_attributes;\n\t}\n\n\tfor(var i in gantt._waiAria){\n\t\tgantt._waiAria[i] = (function(payload){\n\t\t\treturn function(){\n\t\t\t\tif(isDisabled()){\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\treturn payload.apply(this, arguments);\n\t\t\t};\n\t\t})(gantt._waiAria[i]);\n\t}\n\n\n};","module.exports = function(gantt) {\n\tgantt.getGridColumn = function(name) {\n\t\tvar columns = gantt.config.columns;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (columns[i].name == name)\n\t\t\t\treturn columns[i];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tgantt.getGridColumns = function() {\n\t\treturn gantt.config.columns.slice();\n\t};\n};","var Grid = require(\"./ui/grid/grid\");\n\nmodule.exports = function(gantt) {\n\trequire(\"./grid_column_api.gpl\")(gantt);\n\tGrid.prototype.getGridColumns = function () {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = config.columns,\n\t\t\tvisibleColumns = [];\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (!columns[i].hide)\n\t\t\t\tvisibleColumns.push(columns[i]);\n\t\t}\n\n\t\treturn visibleColumns;\n\t};\n};","module.exports = function(gantt) {\n\tvar TreeDataStore = require(\"./datastore/treedatastore\");\n\n\tvar old_has_children = TreeDataStore.prototype.hasChild;\n\tgantt.$data.tasksStore.hasChild = function (id) {\n\t\tif (old_has_children.apply(this, arguments))\n\t\t\treturn true;\n\t\tif (this.exists(id)) {\n\t\t\treturn this.getItem(id)[gantt.config.branch_loading_property];\n\t\t}\n\t\treturn false;\n\t};\n\n\tfunction needLoading(id) {\n\t\tif (gantt.config.branch_loading && gantt._load_url) {\n\t\t\tvar was_rendered = gantt.getUserData(id, \"was_rendered\");\n\t\t\t// call ajax only if branch has children\n\t\t\tif (!was_rendered && (!gantt.getChildren(id).length && gantt.hasChild(id))) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tgantt.attachEvent(\"onTaskOpened\", function (id) {\n\t\tif (gantt.config.branch_loading && gantt._load_url) {\n\t\t\t// call ajax only if branch has children\n\t\t\tif (needLoading(id)) {\n\t\t\t\tvar url = gantt._load_url;\n\t\t\t\turl = url.replace(/(\\?|&)?parent_id=.+&?/, \"\");\n\t\t\t\tvar param = url.indexOf(\"?\") >= 0 ? \"&\" : \"?\";\n\t\t\t\tvar y = gantt.getScrollState().y || 0;\n\n\t\t\t\tgantt.load(url + param + \"parent_id=\" + encodeURIComponent(id), this._load_type, function () {\n\t\t\t\t\tif (y) {\n\t\t\t\t\t\tgantt.scrollTo(null, y);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tgantt.setUserData(id, \"was_rendered\", true);\n\t\t\t}\n\t\t}\n\t});\n\n};","module.exports = function(gantt) {\n\tfunction isEnabled() {\n\t\treturn gantt.config.auto_types && // if enabled\n\t\t\t(gantt.getTaskType(gantt.config.types.project) == gantt.config.types.project);// and supported\n\t}\n\n\tfunction callIfEnabled(callback) {\n\t\treturn function() {\n\t\t\tif (!isEnabled()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction updateParents(childId) {\n\t\tgantt.batchUpdate(function() {\n\t\t\tcheckParent(childId);\n\t\t});\n\t}\n\n\tvar delTaskParent;\n\n\tfunction checkParent(id) {\n\t\tsetTaskType(id);\n\t\tvar parent = gantt.getParent(id);\n\n\t\tif (parent != gantt.config.root_id) {\n\t\t\tcheckParent(parent);\n\t\t}\n\t}\n\n\tfunction setTaskType(id) {\n\t\tid = id.id || id;\n\t\tvar task = gantt.getTask(id);\n\t\tvar targetType = getTaskTypeToUpdate(task);\n\n\t\tif (targetType !== false) {\n\t\t\tupdateTaskType(task, targetType);\n\t\t}\n\t}\n\n\tfunction updateTaskType(task, targetType) {\n\t\ttask.type = targetType;\n\t\tgantt.updateTask(task.id);\n\t}\n\n\tfunction getTaskTypeToUpdate(task) {\n\t\tvar allTypes = gantt.config.types;\n\t\tvar hasChildren = gantt.hasChild(task.id);\n\t\tvar taskType = gantt.getTaskType(task.type);\n\n\t\tif (hasChildren && taskType === allTypes.task) {\n\t\t\treturn allTypes.project;\n\t\t}\n\n\t\tif (!hasChildren && taskType === allTypes.project) {\n\t\t\treturn allTypes.task;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar isParsingDone = true;\n\n\tgantt.attachEvent(\"onParse\", callIfEnabled(function() {\n\t\tisParsingDone = false;\n\n\t\tgantt.batchUpdate(function() {\n\t\t\tgantt.eachTask(function(task) {\n\t\t\t\tvar targetType = getTaskTypeToUpdate(task);\n\t\t\t\tif (targetType !== false) {\n\t\t\t\t\tupdateTaskType(task, targetType);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tisParsingDone = true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskAdd\",  function() {\n\t\tif (isParsingDone)\n\t\t\tcallIfEnabled(updateParents);\n\t});\n\n\tgantt.attachEvent(\"onAfterTaskUpdate\", function() {\n\t\tif (isParsingDone)\n\t\t\tcallIfEnabled(updateParents);\n\t});\n\n\n\tfunction updateAfterRemoveChild(id){\n\t\tif (id != gantt.config.root_id && gantt.isTaskExists(id)) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}\n\n\tgantt.attachEvent(\"onBeforeTaskDelete\",  callIfEnabled(function(id, task) {\n\t\tdelTaskParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskDelete\", callIfEnabled(function(id, task) {\n\t\tupdateAfterRemoveChild(delTaskParent);\n\t}));\n\n\n\tvar originalRowDndParent;\n\n\tgantt.attachEvent(\"onRowDragStart\", callIfEnabled(function(id, target, e) {\n\t\toriginalRowDndParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onRowDragEnd\", callIfEnabled(function(id, target) {\n\t\tupdateAfterRemoveChild(originalRowDndParent);\n\t\tupdateParents(id);\n\t}));\n\n\tvar originalMoveTaskParent;\n\n\tgantt.attachEvent(\"onBeforeTaskMove\", callIfEnabled(function(sid, parent, tindex) {\n\t\toriginalMoveTaskParent = gantt.getParent(sid);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskMove\", callIfEnabled(function(id, parent, tindex) {\n\t\tif (document.querySelector(\".gantt_drag_marker\")) {\n\t\t\t// vertical dnd in progress\n\t\t\treturn;\n\t\t}\n\t\tupdateAfterRemoveChild(originalMoveTaskParent);\n\t\tupdateParents(id);\n\t}));\n};","module.exports = function addPlaceholder(gantt){\n\tfunction isEnabled(){\n\t\treturn gantt.config.placeholder_task;\n\t}\n\n\tfunction callIfEnabled(callback){\n\t\treturn function(){\n\t\t\tif(!isEnabled()){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction silenceDataProcessor(dataProcessor){\n\t\tif(dataProcessor && !dataProcessor._silencedPlaceholder){\n\t\t\tdataProcessor._silencedPlaceholder = true;\n\t\t\tdataProcessor.attachEvent(\"onBeforeUpdate\", callIfEnabled(function(id, state, data){\n\t\t\t\tif(data.type == gantt.config.types.placeholder){\n\t\t\t\t\tdataProcessor.setUpdated(id, false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}));\n\t\t}\n\t}\n\n\tfunction insertPlaceholder(){\n\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\tif(!placeholders.length || !gantt.isTaskExists(placeholders[0].id)){\n\t\t\tvar placeholder = {\n\t\t\t\tunscheduled: true,\n\t\t\t\ttype: gantt.config.types.placeholder,\n\t\t\t\tduration:0,\n\t\t\t\ttext: gantt.locale.labels.new_task\n\t\t\t};\n\t\t\tif(gantt.callEvent(\"onTaskCreated\", [placeholder]) === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgantt.addTask(placeholder);\n\t\t\t\n\t\t}\n\t}\n\n\tfunction afterEdit(id){\n\t\tvar item = gantt.getTask(id);\n\t\tif(item.type == gantt.config.types.placeholder) {\n\t\t\tif(item.start_date && item.end_date && item.unscheduled){\n\t\t\t\titem.unscheduled = false;\n\t\t\t}\n\n\t\t\tgantt.batchUpdate(function(){\n\t\t\t\tvar newTask = gantt.copy(item);\n\t\t\t\tgantt.silent(function(){\n\t\t\t\t\tgantt.deleteTask(item.id);\n\t\t\t\t});\n\n\t\t\t\tdelete newTask[\"!nativeeditor_status\"];\n\t\t\t\tnewTask.type = gantt.config.types.task;\n\t\t\t\tnewTask.id = gantt.uid();\n\t\t\t\tgantt.addTask(newTask);\n\n\t\t\t\t//insertPlaceholder();\n\t\t\t});\n\n\t\t}\n\t}\n\n\tgantt.config.types.placeholder = \"placeholder\";\n\tgantt.attachEvent(\"onDataProcessorReady\", callIfEnabled(silenceDataProcessor));\n\n\tvar ready = false;\n\tgantt.attachEvent(\"onGanttReady\", function(){\n\t\tif(ready){\n\t\t\treturn;\n\t\t}\n\t\tready = true;\n\t\tgantt.attachEvent(\"onAfterTaskUpdate\", callIfEnabled(afterEdit));\n\t\tgantt.attachEvent(\"onAfterTaskAdd\", callIfEnabled(function(id, task){\n\t\t\tif(task.type != gantt.config.types.placeholder){\n\t\t\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\t\t\tplaceholders.forEach(function(p){\n\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\tif(gantt.isTaskExists(p.id))\n\t\t\t\t\t\t\tgantt.deleteTask(p.id);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tinsertPlaceholder();\n\t\t\t}\n\t\t}));\n\t\tgantt.attachEvent(\"onParse\", callIfEnabled(insertPlaceholder));\n\t});\n\n\tgantt.attachEvent(\"onBeforeUndoStack\", function(action){\n\t\tfor(var i = 0; i < action.commands.length; i++){\n\t\t\tvar command = action.commands[i];\n\t\t\tif(command.entity === \"task\" && command.value.type === gantt.config.types.placeholder){\n\t\t\t\taction.commands.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n\n};","var helpers = require(\"../../utils/helpers\");\n\nfunction createResourceMethods(gantt){\n\n\tvar resourceTaskCache = {};\n\n\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(){\n\t\tresourceTaskCache = {};\n\t});\n\n\tfunction getTaskBy(propertyName, propertyValue) {\n\t\tif (typeof propertyName == \"function\") {\n\t\t\treturn filterResourceTasks(propertyName);\n\t\t} else {\n\t\t\tif (helpers.isArray(propertyValue)) {\n\t\t\t\treturn getResourceTasks(propertyName, propertyValue);\n\t\t\t} else {\n\t\t\t\treturn getResourceTasks(propertyName, [propertyValue]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction filterResourceTasks(filter) {\n\t\tvar res = [];\n\t\tgantt.eachTask(function (task) {\n\t\t\tif (filter(task)) {\n\t\t\t\tres.push(task);\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t}\n\n\tfunction getResourceTasks(property, resourceIds) {\n\t\tvar res;\n\n\t\tvar cacheKey = resourceIds.join(\"_\") + \"_\" + property;\n\n\t\tvar resourceHash = {};\n\t\tfor (var i = 0; i < resourceIds.length; i++) {\n\t\t\tresourceHash[resourceIds[i]] = true;\n\t\t}\n\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = [];\n\t\t\tgantt.eachTask(function (task) {\n\t\t\t\tif (task.type == gantt.config.types.project)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar resourceValue;\n\t\t\t\tif (!helpers.isArray(task[property])) {\n\t\t\t\t\tresourceValue = [task[property]];\n\t\t\t\t} else {\n\t\t\t\t\tresourceValue = task[property];\n\t\t\t\t}\n\n\t\t\t\thelpers.forEach(resourceValue, function(value) {\n\t\t\t\t\tif(value && (resourceHash[value]  || resourceHash[value.resource_id])) {\n\t\t\t\t\t\tres.push(task);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tfunction getResourceLoad(resource, resourceProperty, scale, timeline){\n\t\tvar cacheKey = resource.id + \"_\" + resourceProperty  + \"_\" + scale.unit + \"_\" + scale.step;\n\t\tvar res;\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = calculateResourceLoad(resource, resourceProperty, scale, timeline);\n\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction calculateResourceLoad(resource, resourceProperty, scale, timeline) {\n\n\t\tvar tasks;\n\t\tif(resource.$role == \"task\"){\n\t\t\ttasks = [];\n\t\t}else{\n\t\t\ttasks = getTaskBy(resourceProperty, resource.id);\n\t\t}\n\t\tvar step = scale.unit;\n\t\tvar timegrid = {};\n\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tvar task = tasks[i];\n\n\t\t\tvar currDate = gantt.date[step + \"_start\"](new Date(task.start_date));\n\n\t\t\twhile (currDate < task.end_date) {\n\n\t\t\t\tvar date = currDate;\n\t\t\t\tcurrDate = gantt.date.add(currDate, 1, step);\n\n\t\t\t\tif (!gantt.isWorkTime({date: date, task: task, unit: step})) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar timestamp = date.valueOf();\n\t\t\t\tif (!timegrid[timestamp]){\n\t\t\t\t\ttimegrid[timestamp] = [];\n\t\t\t\t}\n\n\t\t\t\ttimegrid[timestamp].push(task);\n\t\t\t}\n\t\t}\n\n\t\tvar timetable = [];\n\t\tvar start, end, tasks;\n\t\tvar config = timeline.$getConfig();\n\n\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\tstart = new Date(scale.trace_x[i]);\n\t\t\tend = gantt.date.add(start, 1, step);\n\t\t\ttasks = timegrid[start.valueOf()] || [];\n\t\t\tif(tasks.length || config.resource_render_empty_cells){\n\t\t\t\ttimetable.push({\n\t\t\t\t\tstart_date: start,\n\t\t\t\t\tend_date: end,\n\t\t\t\t\ttasks: tasks\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\t\treturn timetable;\n\t}\n\n\tfunction renderResourceLine(resource, timeline) {\n\t\tvar config = timeline.$getConfig(),\n\t\t\ttemplates = timeline.$getTemplates();\n\t\tvar timetable = getResourceLoad(resource, config.resource_property, timeline.getScale(), timeline);\n\n\t\tvar cells = [];\n\t\tfor (var i = 0; i < timetable.length; i++) {\n\n\t\t\tvar day = timetable[i];\n\n\t\t\tvar css = templates.resource_cell_class(day.start_date, day.end_date, resource, day.tasks);\n\t\t\tvar content = templates.resource_cell_value(day.start_date, day.end_date, resource, day.tasks);\n\n\t\t\tif (css || content){\n\t\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\t\t\t\tvar el = document.createElement('div');\n\t\t\t\tel.className = [\"gantt_resource_marker\", css].join(\" \");\n\n\t\t\t\tel.style.cssText = [\n\t\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t\t'height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t'line-height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t'top:' + sizes.top + 'px'\n\t\t\t\t].join(\";\");\n\n\t\t\t\tif(content)\n\t\t\t\t\tel.innerHTML = content;\n\n\t\t\t\tcells.push(el);\n\t\t\t}\n\n\t\t}\n\n\t\tvar row = null;\n\t\tif(cells.length){\n\t\t\trow = document.createElement(\"div\");\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\trow.appendChild(cells[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn row;\n\t}\n\n\n\tfunction renderBar(level, start, end, timeline){\n\t\tvar top = (1 - (level*1||0))*100;\n\t\tvar left = timeline.posFromDate(start);\n\t\tvar right = timeline.posFromDate(end);\n\t\tvar element = document.createElement(\"div\");\n\t\telement.className = \"gantt_histogram_hor_bar\";\n\t\telement.style.top = top + '%';\n\t\telement.style.left = left + \"px\";\n\t\telement.style.width = (right - left + 1) + \"px\";\n\t\treturn element;\n\t}\n\tfunction renderConnection(prevLevel, nextLevel, left){\n\t\tif(prevLevel === nextLevel){\n\t\t\treturn null;\n\t\t}\n\n\t\tvar top = 1 - Math.max(prevLevel, nextLevel);\n\t\tvar height = Math.abs(prevLevel - nextLevel);\n\t\tvar element = document.createElement(\"div\");\n\t\telement.className = \"gantt_histogram_vert_bar\";\n\t\telement.style.top = top*100 + \"%\";\n\t\telement.style.height = height*100 + \"%\";\n\t\telement.style.left = left + \"px\";\n\n\t\treturn element;\n\t}\n\n\tfunction renderHistogramLine(capacity, timeline, maxCapacity){\n\t\tvar scale = timeline.getScale();\n\n\t\tvar el = document.createElement(\"div\");\n\n\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\tvar colStart = scale.trace_x[i];\n\t\t\tvar colEnd = scale.trace_x[i + 1] || gantt.date.add(colStart, scale.step, scale.unit);\n\t\t\tvar col = scale.trace_x[i].valueOf();\n\t\t\tvar level = Math.min(capacity[col]/maxCapacity, 1) || 0;\n\t\t\tif(level < 0){\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar nextLevel = Math.min(capacity[colEnd.valueOf()]/maxCapacity, 1) || 0;\n\n\n\t\t\tvar bar = renderBar(level, colStart, colEnd, timeline);\n\t\t\tif(bar){\n\t\t\t\tel.appendChild(bar);\n\t\t\t}\n\t\t\tvar connection = renderConnection(level, nextLevel, timeline.posFromDate(colEnd));\n\t\t\tif(connection){\n\t\t\t\tel.appendChild(connection);\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn el;\n\t}\n\n\tfunction renderResourceHistogram(resource, timeline) {\n\t\tvar config = timeline.$getConfig(),\n\t\t\ttemplates = timeline.$getTemplates();\n\t\tvar timetable = getResourceLoad(resource, config.resource_property, timeline.getScale(), timeline);\n\n\t\tvar cells = [];\n\t\tvar capacityMatrix = {};\n\t\tvar maxCapacity = resource.capacity || timeline.$config.capacity || 24;\n\t\tfor (var i = 0; i < timetable.length; i++) {\n\n\t\t\tvar day = timetable[i];\n\n\t\t\tvar css = templates.histogram_cell_class(day.start_date, day.end_date, resource, day.tasks);\n\t\t\tvar content = templates.histogram_cell_label(day.start_date, day.end_date, resource, day.tasks);\n\t\t\tvar fill = templates.histogram_cell_allocated(day.start_date, day.end_date, resource, day.tasks);\n\t\t\tvar capacity = templates.histogram_cell_capacity(day.start_date, day.end_date, resource, day.tasks);\n\t\t\tcapacityMatrix[day.start_date.valueOf()] = capacity || 0;\n\t\t\tif(css || content){\n\t\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\t\t\t\tvar el = document.createElement('div');\n\t\t\t\tel.className = [\"gantt_histogram_cell\", css].join(\" \");\n\n\t\t\t\tel.style.cssText = [\n\t\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t\t'height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t'line-height:' + (config.row_height - 1) + 'px',\n\t\t\t\t\t'top:' + (sizes.top + 1) + 'px'\n\t\t\t\t].join(\";\");\n\n\n\t\t\t\tif (content) {\n\t\t\t\t\tcontent = \"<div class='gantt_histogram_label'>\" + content +\"</div>\";\n\t\t\t\t}\n\n\t\t\t\tif (fill) {\n\n\t\t\t\t\tcontent = \"<div class='gantt_histogram_fill' style='height:\"+(Math.min(fill/maxCapacity||0, 1)*100)+\"%;'></div>\" + content;\n\t\t\t\t}\n\n\t\t\t\tif (content)\n\t\t\t\t\tel.innerHTML = content;\n\n\t\t\t\tcells.push(el);\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar row = null;\n\t\tif (cells.length) {\n\t\t\trow = document.createElement(\"div\");\n\t\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\t\trow.appendChild(cells[i]);\n\t\t\t}\n\n\t\t\tvar capacityElement = renderHistogramLine(capacityMatrix, timeline, maxCapacity);\n\n\t\t\tif (capacityElement) {\n\t\t\t\tcapacityElement.setAttribute(\"data-resource-id\", resource.id);\n\t\t\t\tcapacityElement.style.position = \"absolute\";\n\t\t\t\tcapacityElement.style.top = (sizes.top + 1) + \"px\";\n\t\t\t\tcapacityElement.style.height = (config.row_height - 1) + \"px\";\n\t\t\t\tcapacityElement.style.left = 0;\n\t\t\t\trow.appendChild(capacityElement);\n\t\t\t}\n\t\t}\n\n\t\treturn row;\n\t}\n\n\tfunction selectAssignments(resourceId, taskId, result){\n\t\tvar property = gantt.config.resource_property;\n\t\tvar owners = [];\n\t\tif (gantt.getDatastore(\"task\").exists(taskId)) {\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\towners = task[property] || [];\n\t\t}\n\n\t\tif (!Array.isArray(owners)) {\n\t\t\towners = [owners];\n\t\t}\n\t\tfor (var i = 0; i < owners.length; i++) {\n\t\t\tif (owners[i].resource_id == resourceId) {\n\t\t\t\tresult.push({task_id: task.id, resource_id:owners[i].resource_id, value:owners[i].value});\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getResourceAssignments(resourceId, taskId){\n\t\t// resource assignment as an independent module:\n\t\t// {taskId:, resourceId, value}\n\t\t// TODO: probably should add a separate datastore for these\n\t\tvar assignments = [];\n\t\tvar property = gantt.config.resource_property;\n\t\tif(taskId !== undefined){\n\t\t\tselectAssignments(resourceId, taskId, assignments);\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskBy(property, resourceId);\n\t\t\ttasks.forEach(function(task){\n\t\t\t\tselectAssignments(resourceId, task.id, assignments);\n\t\t\t});\n\t\t}\n\t\treturn assignments;\n\t}\n\n\treturn {\n\t\trenderLine: renderResourceLine,\n\t\trenderHistogram: renderResourceHistogram,\n\t\tfilterTasks: getTaskBy,\n\t\tgetResourceAssignments: getResourceAssignments\n\t};\n}\n\nmodule.exports = function(gantt){\n\tvar methods = createResourceMethods(gantt);\n\n\tgantt.getTaskBy = methods.filterTasks;\n\tgantt.getResourceAssignments = methods.getResourceAssignments;\n\tgantt.$ui.layers.resourceRow = methods.renderLine;\n\tgantt.$ui.layers.resourceHistogram = methods.renderHistogram;\n\tgantt.config.resource_property = \"owner_id\";\n\tgantt.config.resource_store = \"resource\";\n\tgantt.config.resource_render_empty_cells = false;\n\n\t/**\n\t * these are placeholder functions that should be redefined by the user\n\t*/\n\tgantt.templates.histogram_cell_class = function(start_date, end_date, resource, tasks) {};\n\tgantt.templates.histogram_cell_label = function(start_date, end_date, resource, tasks) {\n\t\treturn tasks.length + \"/3\";\n\t};\n\tgantt.templates.histogram_cell_allocated = function(start_date, end_date, resource, tasks) {\n\t\treturn tasks.length / 3;\n\t};\n\tgantt.templates.histogram_cell_capacity = function(start_date, end_date, resource, tasks) {\n\t\treturn 0;\n\t};\n\n\n\n\tgantt.templates.resource_cell_class = function(start, end, resource, tasks) {\n\t\tvar css = \"\";\n\t\tif (tasks.length <= 1) {\n\t\t\tcss = \"gantt_resource_marker_ok\";\n\t\t} else {\n\t\t\tcss = \"gantt_resource_marker_overtime\";\n\t\t}\n\t\treturn css;\n\t};\n\n\tgantt.templates.resource_cell_value = function(start, end, resource, tasks) {\n\t\treturn tasks.length * 8;\n\t};\n};\n\n\n","if (window.dhtmlx){\n\n\tif (!window.dhtmlx.attaches)\n\twindow.dhtmlx.attaches = {};\n\n\twindow.dhtmlx.attaches.attachGantt=function(start, end, gantt){\n\t\tvar obj = document.createElement(\"DIV\");\n\n\t\tgantt = gantt || window.gantt;\n\n\t\tobj.id = \"gantt_\"+ gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tvar that = this.vs[this.av];\n\t\tthat.grid = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tthat.gridId = obj.id;\n\t\tthat.gridObj = obj;\n\n\t\tvar method_name=\"_viewRestore\";\n\t\treturn this.vs[this[method_name]()].grid;\n\t};\n\n}\nif (typeof(window.dhtmlXCellObject) != \"undefined\") {\n\n\twindow.dhtmlXCellObject.prototype.attachGantt=function(start, end, gantt){\n\t\tgantt = gantt || window.gantt;\n\n\t\tvar obj = document.createElement(\"DIV\");\n\t\tobj.id = \"gantt_\"+gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tobj = null;\n\t\tthis.callEvent(\"_onContentAttach\",[]);\n\n\t\treturn this.dataObj;\n\t};\n}\n\nmodule.exports = null;","if (window.jQuery){\n\n\t(function( $ ){\n\n\t\tvar methods = [];\n\t\t$.fn.dhx_gantt = function(config){\n\t\t\tconfig = config || {};\n\t\t\tif (typeof(config) === 'string') {\n\t\t\t\tif (methods[config] ) {\n\t\t\t\t\treturn methods[config].apply(this, []);\n\t\t\t\t}else {\n\t\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.dhx_gantt');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar views = [];\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tif (this && this.getAttribute){\n\t\t\t\t\t\tif (!this.gantt && !(window.gantt.$root == this)){\n\n\t\t\t\t\t\t\tvar newgantt = (window.gantt.$container && window.Gantt) ? window.Gantt.getGanttInstance():window.gantt;\n\t\t\t\t\t\t\tfor (var key in config)\n\t\t\t\t\t\t\t\tif (key!=\"data\")\n\t\t\t\t\t\t\t\t\tnewgantt.config[key] = config[key];\n\n\t\t\t\t\t\t\tnewgantt.init(this);\n\t\t\t\t\t\t\tif (config.data)\n\t\t\t\t\t\t\t\tnewgantt.parse(config.data);\n\n\t\t\t\t\t\t\tviews.push(newgantt);\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tviews.push(typeof this.gantt == \"object\" ? this.gantt : window.gantt);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t\tif (views.length === 1) return views[0];\n\t\t\t\treturn views;\n\t\t\t}\n\t\t};\n\n\t})(window.jQuery);\n\n}\n\n\nmodule.exports = null;","var createWbs = (function(gantt){\n\treturn {\n\t_needRecalc: true,\n\treset: function(){\n\t\tthis._needRecalc = true;\n\t},\n\t_isRecalcNeeded: function(){\n\t\treturn (!this._isGroupSort() && this._needRecalc);\n\t},\n\t_isGroupSort: function() {\n\t\treturn !!(gantt._groups && gantt._groups.is_active());\n\t},\n\t_getWBSCode: function(task) {\n\t\tif(!task) return \"\";\n\n\t\tif(this._isRecalcNeeded()){\n\t\t\tthis._calcWBS();\n\t\t}\n\n\t\tif(task.$virtual) return \"\";\n\t\tif(this._isGroupSort()) return task.$wbs || \"\";\n\n\t\tif(!task.$wbs) {\n\t\t\tthis.reset();\n\t\t\tthis._calcWBS();\n\t\t}\n\t\treturn task.$wbs;\n\t},\n\t_setWBSCode: function(task, value) {\n\t\ttask.$wbs = value;\n\t},\n\tgetWBSCode: function(task) {\n\t\treturn this._getWBSCode(task);\n\t},\n\tgetByWBSCode: function(code){\n\t\tvar parts = code.split(\".\");\n\t\tvar currentNode = gantt.config.root_id;\n\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\tvar children = gantt.getChildren(currentNode);\n\t\t\tvar index = parts[i]*1 - 1;\n\t\t\tif(gantt.isTaskExists(children[index])){\n\t\t\t\tcurrentNode = children[index];\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(currentNode)){\n\t\t\treturn gantt.getTask(currentNode);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\t_calcWBS: function() {\n\t\tif(!this._isRecalcNeeded()) return;\n\n\t\tvar _isFirst = true;\n\t\tgantt.eachTask(function(ch) {\n\t\t\tif(_isFirst) {\n\t\t\t\t_isFirst = false;\n\t\t\t\tthis._setWBSCode(ch, \"1\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar _prevSibling = gantt.getPrevSibling(ch.id);\n\t\t\tif (_prevSibling !== null) {\n\t\t\t\tvar _wbs = gantt.getTask(_prevSibling).$wbs;\n\t\t\t\tif(_wbs) {\n\t\t\t\t\t_wbs = _wbs.split(\".\");\n\t\t\t\t\t_wbs[_wbs.length-1]++;\n\t\t\t\t\tthis._setWBSCode(ch, _wbs.join(\".\"));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar _parent = gantt.getParent(ch.id);\n\t\t\t\tthis._setWBSCode(ch, gantt.getTask(_parent).$wbs + \".1\");\n\t\t\t}\n\t\t}, gantt.config.root_id, this);\n\n\t\tthis._needRecalc = false;\n\t}\n};\n});\n\nmodule.exports = function(gantt){\n\tvar wbs = createWbs(gantt);\n\tgantt.getWBSCode = function getWBSCode(task) {\n\t\treturn wbs.getWBSCode(task);\n\t};\n\n\tgantt.getTaskByWBSCode = function(code) {\n\t\treturn wbs.getByWBSCode(code);\n\t};\n\n\tfunction resetCache(){\n\t\twbs.reset();\n\t\treturn true;\n\t}\n\n\tgantt.attachEvent(\"onAfterTaskMove\", resetCache);\n\tgantt.attachEvent(\"onBeforeParse\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskDelete\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskAdd\", resetCache);\n\tgantt.attachEvent(\"onAfterSort\", resetCache);\n\n};\n","function createMethod(gantt){\n\tvar methods = {};\n\tvar isActive = false;\n\tfunction disableMethod(methodName, dummyMethod){\n\t\tdummyMethod = typeof dummyMethod == \"function\" ? dummyMethod : function(){};\n\n\t\tif(!methods[methodName]){\n\t\t\tmethods[methodName] = this[methodName];\n\t\t\tthis[methodName] = dummyMethod;\n\t\t}\n\t}\n\tfunction restoreMethod(methodName){\n\t\tif(methods[methodName]){\n\t\t\tthis[methodName] = methods[methodName];\n\t\t\tmethods[methodName] = null;\n\t\t}\n\t}\n\tfunction disableMethods(methodsHash){\n\t\tfor(var i in methodsHash){\n\t\t\tdisableMethod.call(this, i, methodsHash[i]);\n\t\t}\n\t}\n\tfunction restoreMethods(){\n\t\tfor(var i in methods){\n\t\t\trestoreMethod.call(this, i);\n\t\t}\n\t}\n\n\tfunction batchUpdatePayload(callback){\n\t\ttry{\n\t\t\tcallback();\n\t\t}catch(e){\n\t\t\twindow.console.error(e);\n\t\t}\n\t}\n\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"batchUpdate\", function(){\n\t\treturn {\n\t\t\tbatch_update: isActive\n\t\t};\n\t}, true);\n\n\treturn function batchUpdate(callback, noRedraw) {\n\t\tif(isActive){\n\t\t\t// batch mode is already active\n\t\t\tbatchUpdatePayload(callback);\n\t\t\treturn;\n\t\t}\n\n\t\tvar call_dp = (this._dp && this._dp.updateMode != \"off\");\n\t\tvar dp_mode;\n\t\tif (call_dp){\n\t\t\tdp_mode = this._dp.updateMode;\n\t\t\tthis._dp.setUpdateMode(\"off\");\n\t\t}\n\n\t\t// temporary disable some methods while updating multiple tasks\n\t\tvar resetProjects = {};\n\t\tvar methods = {\n\t\t\t\"render\":true,\n\t\t\t\"refreshData\":true,\n\t\t\t\"refreshTask\":true,\n\t\t\t\"refreshLink\":true,\n\t\t\t\"resetProjectDates\":function(task){\n\t\t\t\tresetProjects[task.id] = task;\n\t\t\t}\n\t\t};\n\n\t\tdisableMethods.call(this, methods);\n\n\t\tisActive = true;\n\t\tthis.callEvent(\"onBeforeBatchUpdate\", []);\n\n\t\tbatchUpdatePayload(callback);\n\n\t\tthis.callEvent(\"onAfterBatchUpdate\", []);\n\n\t\trestoreMethods.call(this);\n\n\t\t// do required updates after changes applied\n\t\tfor(var i in resetProjects){\n\t\t\tthis.resetProjectDates(resetProjects[i]);\n\t\t}\n\n\t\tisActive = false;\n\n\t\tif(!noRedraw){\n\t\t\tthis.render();\n\t\t}\n\n\t\tif (call_dp) {\n\t\t\tthis._dp.setUpdateMode(dp_mode);\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis._dp.sendData();\n\t\t\tthis._dp.setGanttMode(\"link\");\n\t\t\tthis._dp.sendData();\n\t\t}\n\t};\n\n\n\n}\n\nmodule.exports = function(gantt){\n\tgantt.batchUpdate = createMethod(gantt);\n};","var domHelpers = require(\"../../utils/dom_helpers\");\n\nmodule.exports = function(gantt){\n\n\tvar scrollRange = 50,\n\t\tscrollStep = 30,\n\t\tscrollDelay = 10,\n\t\tscrollSpeed = 50;\n\n\tvar interval = null,\n\t\tisMove = false,\n\t\tdelayTimeout = null,\n\t\tstartPos = {\n\t\t\tstarted: false\n\t\t},\n\t\teventPos = {};\n\n\tfunction getAutoscrollContainer(){\n\t\treturn gantt.$task || gantt.$grid || gantt.$root;\n\t}\n\n\tfunction isScrollState() {\n\t\tvar dragMarker = !!document.querySelector(\".gantt_drag_marker\");\n\t\tvar isResize = !!document.querySelector(\".gantt_drag_marker.gantt_grid_resize_area\");\n\t\tvar isLink = !!document.querySelector(\".gantt_link_direction\");\n\t\tisMove = dragMarker && !isResize && !isLink;\n\t\treturn !((!gantt.getState().drag_mode && !dragMarker) || isResize);\n\t}\n\n\tfunction defineDelayTimeout(state) {\n\t\tif (delayTimeout) {\n\t\t\tclearTimeout(delayTimeout);\n\t\t\tdelayTimeout = null;\n\t\t}\n\t\tif (state) {\n\t\t\tvar speed = gantt.config.autoscroll_speed;\n\t\t\tif (speed && speed < 10) // limit speed value to 10 \n\t\t\t\tspeed = 10;\n\n\t\t\tdelayTimeout = setTimeout(function() {\n\t\t\t\tinterval = setInterval(tick, speed || scrollSpeed);\n\t\t\t}, gantt.config.autoscroll_delay || scrollDelay);\n\t\t}\n\t}\n\n\tfunction defineScrollInterval(state) {\n\t\tif (state) {\n\t\t\tdefineDelayTimeout(true);\n\t\t\tif (!startPos.started) {\n\t\t\t\tstartPos.x = eventPos.x;\n\t\t\t\tstartPos.y = eventPos.y;\n\t\t\t\tstartPos.started = true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (interval) {\n\t\t\t\tclearInterval(interval);\n\t\t\t\tinterval = null;\n\t\t\t}\n\t\t\tdefineDelayTimeout(false);\n\t\t\tstartPos.started = false;\n\t\t}\n\t}\n\n\tfunction autoscrollInterval(event) {\n\n\t\tvar isScroll = isScrollState();\n\n\t\tif ((interval || delayTimeout) && !isScroll) { \n\t\t\tdefineScrollInterval(false);\n\t\t}\n\n\t\tif (!gantt.config.autoscroll || !isScroll) {\n\t\t\treturn false;\n\t\t}\n\n\t\teventPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY\n\t\t};\n\n\t\tif (!interval && isScroll) {\n\t\t\tdefineScrollInterval(true);\n\t\t}\n\t}\n\n\tfunction tick() {\n\n\t\tif (!isScrollState()) {\n\t\t\tdefineScrollInterval(false);\n\t\t\treturn false;\n\t\t}\n\n\t\tvar box = domHelpers.getNodePosition(getAutoscrollContainer());\n\t\tvar posX = eventPos.x - box.x; \n\t\tvar posY = eventPos.y - box.y;\n\n\t\tvar scrollLeft = isMove ? 0 : need_scroll(posX, box.width, startPos.x - box.x);\n\t\tvar scrollTop = need_scroll(posY, box.height, startPos.y - box.y);\n\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar currentScrollTop = scrollState.y,\n\t\t\tscrollOuterHeight = scrollState.inner_height,\n\t\t\tscrollInnerHeight = scrollState.height,\n\t\t\tcurrentScrollLeft = scrollState.x,\n\t\t\tscrollOuterWidth = scrollState.inner_width,\n\t\t\tscrollInnerWidth = scrollState.width;\n\n\t\t// do scrolling only if we have scrollable area to do so\n\t\tif (scrollTop && !scrollOuterHeight) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop < 0 && !currentScrollTop) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop > 0 && currentScrollTop + scrollOuterHeight >= scrollInnerHeight + 2) {\n\t\t\tscrollTop = 0;\n\t\t}\n\n\t\tif (scrollLeft && !scrollOuterWidth) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft < 0 && !currentScrollLeft) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft > 0 && currentScrollLeft + scrollOuterWidth >= scrollInnerWidth) {\n\t\t\tscrollLeft = 0;\n\t\t}\n\n\t\tvar step = gantt.config.autoscroll_step;\n\n\t\tif (step && step < 2) // limit step value to 2\n\t\t\tstep = 2;\n\n\t\tscrollLeft = scrollLeft * (step || scrollStep);\n\t\tscrollTop = scrollTop * (step || scrollStep);\n\n\t\tif (scrollLeft || scrollTop) {\n\t\t\tscroll(scrollLeft, scrollTop);\n\t\t} \n\n\t}\n\n\tfunction need_scroll(pos, boxSize, startCoord) {\n\t\tif ((pos - scrollRange < 0) && (pos < startCoord))\n\t\t\treturn -1;\n\t\telse if ((pos > boxSize - scrollRange) && (pos > startCoord))\n\t\t\treturn 1;\n\t\treturn 0;\n\t}\n\n\tfunction scroll(left, top) {\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar scrollLeft = null,\n\t\t\tscrollTop = null;\n\n\t\tif (left) {\n\t\t\tscrollLeft = scrollState.x + left;\n\t\t\tscrollLeft = Math.min(scrollState.width, scrollLeft);\n\t\t\tscrollLeft = Math.max(0, scrollLeft);\n\t\t}\n\n\t\tif (top) {\n\t\t\tscrollTop = scrollState.y + top;\n\t\t\tscrollTop = Math.min(scrollState.height, scrollTop);\n\t\t\tscrollTop = Math.max(0, scrollTop);\n\t\t}\n\n\t\tgantt.scrollTo(scrollLeft, scrollTop);\n\t}\n\n\tgantt.attachEvent(\"onGanttReady\", function() {\n\t\tgantt.eventRemove(document.body, \"mousemove\", autoscrollInterval);\n\t\tgantt.event(document.body, \"mousemove\", autoscrollInterval);\n\t});\n\n};","module.exports = function(gantt){\n\tvar modules = [\n\t\trequire(\"./autoscroll\"),\n\t\trequire(\"./batch_update\"),\n\t\trequire(\"./wbs\"),\n\t\trequire(\"./jquery_hooks\"),\n\t\trequire(\"./dhtmlx_hooks\"),\n\t\trequire(\"./resources\"),\n\t\trequire(\"./new_task_placeholder\"),\n\t\trequire(\"./auto_task_types\")\n\t];\n\n\tfor(var i = 0; i < modules.length; i++){\n\t\tif(modules[i])\n\t\t\tmodules[i](gantt);\n\t}\n};","\nexport default function extendGantt(gantt: any, dp: any) {\n\tgantt.getUserData = function(id, name) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (this.userdata[id] && this.userdata[id][name]) {\n\t\t\treturn this.userdata[id][name];\n\t\t}\n\t\treturn \"\";\n\t};\n\tgantt.setUserData = function(id, name, value) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (!this.userdata[id]) {\n\t\t\tthis.userdata[id] = {};\n\t\t}\n\t\tthis.userdata[id][name] = value;\n\t};\n\n\tgantt._change_id = function(oldId, newId) {\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\tthis.changeLinkId(oldId, newId);\n\t\t} else {\n\t\t\tthis.changeTaskId(oldId, newId);\n\t\t}\n\t};\n\n\tgantt._row_style = function(rowId, classname){\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\treturn;\n\t\t}\n\t\tif (!gantt.isTaskExists(rowId)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst task = gantt.getTask(rowId);\n\t\ttask.$dataprocessor_class = classname;\n\t\tgantt.refreshTask(rowId);\n\t};\n\n\t// fake method for dataprocessor\n\tgantt._delete_task = function(rowId, node) {}; // tslint:disable-line\n\n\tgantt._sendTaskOrder = function(id, item){\n\t\tif (item.$drop_target) {\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis.getTask(id).target = item.$drop_target;\n\t\t\tthis._dp.setUpdated(id, true,\"order\");\n\t\t\tdelete this.getTask(id).$drop_target;\n\t\t}\n\t};\n\n\tgantt.setDp = function() {\n\t\tthis._dp = dp;\n\t};\n\n\tgantt.setDp();\n}","import * as helpers from \"../../utils/helpers\";\n\nexport default class DataProcessorEvents {\n\tprotected _dataProcessorHandlers: any[];\n\tprotected $gantt: any;\n\tprotected $dp: any;\n\n\tconstructor(gantt: any, dp: any) {\n\t\tthis.$gantt = gantt;\n\t\tthis.$dp = dp;\n\t\tthis._dataProcessorHandlers = [];\n\t}\n\n\tattach() {\n\t\tconst dp = this.$dp;\n\t\tconst gantt = this.$gantt;\n\t\tconst treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tconst cascadeDelete = {};\n\n\t\tfunction clientSideDelete(id) {\n\t\t\tconst updated = dp.updatedRows.slice();\n\t\t\tlet clientOnly = false;\n\n\t\t\tfor (let i = 0; i < updated.length && !dp._in_progress[id]; i++) {\n\t\t\t\tif (updated[i] === id) {\n\t\t\t\t\tif (gantt.getUserData(id, \"!nativeeditor_status\") === \"inserted\") {\n\t\t\t\t\t\tclientOnly = true;\n\t\t\t\t\t}\n\t\t\t\t\tdp.setUpdated(id,false);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clientOnly;\n\t\t}\n\n\t\tfunction getTaskLinks(task) {\n\t\t\tlet _links = [];\n\n\t\t\tif (task.$source) {\n\t\t\t\t_links = _links.concat(task.$source);\n\t\t\t}\n\t\t\tif (task.$target) {\n\t\t\t\t_links = _links.concat(task.$target);\n\t\t\t}\n\n\t\t\treturn _links;\n\t\t}\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true, \"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true);\n\t\t\t\tgantt._sendTaskOrder(id, item);\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onBeforeTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tif (!gantt.config.cascade_delete) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcascadeDelete[id] = {\n\t\t\t\ttasks: treeHelper.getSubtreeTasks(gantt, id),\n\t\t\t\tlinks: treeHelper.getSubtreeLinks(gantt, id)\n\t\t\t};\n\t\t\treturn true;\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"tasks\");\n\n\t\t\t// not send delete request if item is not inserted into the db - just remove it from the client\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (gantt.config.cascade_delete && cascadeDelete[id]) {\n\t\t\t\tconst dpMode = dp.updateMode;\n\t\t\t\tdp.setUpdateMode(\"off\");\n\n\t\t\t\tconst cascade = cascadeDelete[id];\n\t\t\t\tfor (const i in cascade.tasks) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tfor (const i in cascade.links) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcascadeDelete[id] = null;\n\n\t\t\t\tif (dpMode !== \"off\") {\n\t\t\t\t\tdp.sendAllData();\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdateMode(dpMode);\n\t\t\t}\n\t\t\tdp.setUpdated(id, true, \"deleted\");\n\n\t\t\tif (dp.updateMode !== \"off\" && !dp._tSend) {\n\t\t\t\tdp.sendAllData();\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true,\"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"links\");\n\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdp.setUpdated(id, true,\"deleted\");\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onRowDragEnd\", function(id, target) { // tslint:disable-line\n\t\t\tgantt._sendTaskOrder(id, gantt.getTask(id));\n\t\t}));\n\n\t\tlet tasks = null;\n\t\tlet links = null;\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onTaskIdChange\", function(oldId, newId) { // tslint:disable-line\n\t\t\tif (!dp._waitMode) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst children = gantt.getChildren(newId);\n\t\t\tif (children.length) {\n\t\t\t\ttasks = tasks || {};\n\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\tconst ch = this.getTask(children[i]);\n\t\t\t\t\ttasks[ch.id] = ch;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst item = this.getTask(newId);\n\t\t\tconst itemLinks = getTaskLinks(item);\n\n\t\t\tif (itemLinks.length) {\n\t\t\t\tlinks = links || {};\n\n\t\t\t\tfor (let i = 0; i < itemLinks.length; i++) {\n\t\t\t\t\tconst link = this.getLink(itemLinks[i]);\n\t\t\t\t\tlinks[link.id] = link;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tdp.attachEvent(\"onAfterUpdateFinish\", function() {\n\t\t\tif (tasks || links) {\n\t\t\t\tgantt.batchUpdate(function() {\n\t\t\t\t\tfor (const id in tasks) {\n\t\t\t\t\t\tgantt.updateTask(tasks[id].id);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const id in links) {\n\t\t\t\t\t\tgantt.updateLink(links[id].id);\n\t\t\t\t\t}\n\t\t\t\t\ttasks = null;\n\t\t\t\t\tlinks = null;\n\t\t\t\t});\n\t\t\t\tif (tasks) {\n\t\t\t\t\tgantt._dp.setGanttMode(\"tasks\");\n\t\t\t\t} else {\n\t\t\t\t\tgantt._dp.setGanttMode(\"links\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tdp.attachEvent(\"onBeforeDataSending\", function() {\n\t\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet url = this._serverProcessor;\n\t\t\tif (this._tMode === \"REST-JSON\" || this._tMode === \"REST\") {\n\t\t\t\tconst mode = this._ganttMode;\n\n\t\t\t\turl = url.substring(0, url.indexOf(\"?\") > -1 ? url.indexOf(\"?\") : url.length);\n\t\t\t\t// editing=true&\n\t\t\t\tthis.serverProcessor = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + mode;\n\t\t\t} else {\n\t\t\t\tconst pluralizedMode = this._ganttMode + \"s\";\n\t\t\t\tthis.serverProcessor = url + gantt.ajax.urlSeparator(url) + \"gantt_mode=\" + pluralizedMode;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tdp.attachEvent(\"insertCallback\", function insertCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tconst methods = {\n\t\t\t\tadd: gantt.addTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.add = gantt.addLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata.id = id;\n\t\t\tmethods.add.call(gantt, data);\n\t\t});\n\n\t\tdp.attachEvent(\"updateCallback\", function updateCallback(upd, id) {\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tif (!gantt.isTaskExists(id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst objData = gantt.getTask(id);\n\t\t\tfor (const key in data) {\n\t\t\t\tlet property = data[key];\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase \"id\":\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tcase \"start_date\":\n\t\t\t\t\tcase \"end_date\":\n\t\t\t\t\t\tproperty = gantt.templates.xml_date(property);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"duration\":\n\t\t\t\t\t\tobjData.end_date = gantt.calculateEndDate({start_date: objData.start_date, duration: property, task:objData});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tobjData[key] = property;\n\t\t\t}\n\t\t\tgantt.updateTask(id);\n\t\t\tgantt.refreshData();\n\t\t});\n\t\tdp.attachEvent(\"deleteCallback\", function deleteCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst methods = {\n\t\t\t\tdelete: gantt.deleteTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.delete = gantt.deleteLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\tmethods.delete.call(gantt, id);\n\t\t\t}\n\t\t});\n\t}\n\n\tdetach() {\n\t\thelpers.forEach(this._dataProcessorHandlers, (e) => {\n\t\t\tthis.$gantt.detachEvent(e);\n\t\t});\n\t\tthis._dataProcessorHandlers = [];\n\t}\n}\n","import * as eventable from \"../../utils/eventable\";\nimport * as helpers from \"../../utils/helpers\";\nimport * as utils from \"../../utils/utils\";\nimport DataProcessorEvents from \"./data_processor_events\";\nimport extendGantt from \"./extend_gantt\";\n\nexport interface DataProcessor { // tslint:disable-line\n\t$gantt: any;\n\tdetachAllEvents: any;\n\tattachEvent: any;\n\tcallEvent: any;\n\n\tserverProcessor: string;\n\taction_param: string;\n\tobject: any;\n\tupdatedRows: any[];\n\tautoUpdate: boolean;\n\tupdateMode: string;\n\tmandatoryFields: any[];\n\tmessages: any[];\n\tstyles: object;\n\tdnd: any;\n}\n\nexport function createDataProcessor(config: any) {\n\tlet router;\n\tlet tMode;\n\tif (config instanceof Function) {\n\t\trouter = config;\n\t} else if (config.hasOwnProperty(\"router\")) {\n\t\trouter = config.router;\n\t} else if (config.hasOwnProperty(\"link\") && config.hasOwnProperty(\"task\")) {\n\t\trouter = config;\n\t}\n\tif (router) {\n\t\ttMode = \"CUSTOM\";\n\t} else {\n\t\ttMode = config.mode || \"REST-JSON\";\n\t}\n\tconst gantt = this; // tslint:disable-line\n\tconst dp = new DataProcessor(config.url);\n\tdp.init(gantt);\n\tdp.setTransactionMode({\n\t\tmode: tMode,\n\t\trouter\n\t}, config.batchUpdate);\n\treturn dp;\n}\n\nexport class DataProcessor {\n\tpublic modes: object;\n\tpublic serverProcessor: string;\n\tpublic action_param: string; // tslint:disable-line\n\tpublic object: any;\n\tpublic updatedRows: any[];\n\tpublic autoUpdate: boolean;\n\tpublic updateMode: string;\n\tpublic mandatoryFields: any[];\n\tpublic messages: any[];\n\tpublic styles: object;\n\tpublic dnd: any;\n\n\tprotected _tMode: string;\n\tprotected _headers: any;\n\tprotected _payload: any;\n\tprotected _postDelim: string;\n\tprotected _waitMode: number;\n\tprotected _in_progress: object; // tslint:disable-line\n\tprotected _invalid: object;\n\tprotected _tSend: boolean;\n\tprotected _endnm: boolean;\n\tprotected _serializeAsJson: boolean;\n\tprotected _router: any;\n\tprotected _utf: boolean;\n\tprotected obj: any;\n\tprotected _columns: any;\n\tprotected _changed: boolean;\n\tprotected _methods: any[];\n\tprotected _user: any;\n\tprotected _uActions: object;\n\tprotected _needUpdate: boolean;\n\tprotected _ganttMode: string;\n\n\tprotected _silent_mode: any; // tslint:disable-line\n\tprotected _updateBusy: any;\n\tprotected _serverProcessor: any;\n\tprotected _initialized: boolean;\n\n\tconstructor(serverProcessorURL?) {\n\t\tthis.serverProcessor = serverProcessorURL;\n\t\tthis.action_param = \"!nativeeditor_status\";\n\n\t\tthis.object = null;\n\t\tthis.updatedRows = []; // ids of updated rows\n\n\t\tthis.autoUpdate = true;\n\t\tthis.updateMode = \"cell\";\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tthis._postDelim = \"_\";\n\n\t\tthis._waitMode = 0;\n\t\tthis._in_progress = {}; // ?\n\t\tthis._invalid = {};\n\t\tthis.mandatoryFields = [];\n\t\tthis.messages = [];\n\n\t\tthis.styles = {\n\t\t\tupdated: \"font-weight:bold;\",\n\t\t\tinserted: \"font-weight:bold;\",\n\t\t\tdeleted: \"text-decoration : line-through;\",\n\t\t\tinvalid: \"background-color:FFE0E0;\",\n\t\t\tinvalid_cell: \"border-bottom:2px solid red;\",\n\t\t\terror: \"color:red;\",\n\t\t\tclear: \"font-weight:normal;text-decoration:none;\"\n\t\t};\n\t\tthis.enableUTFencoding(true);\n\t\teventable(this);\n\t}\n\n\tsetTransactionMode(mode:any, total?:any) {\n\t\tif (typeof mode === \"object\") {\n\t\t\tthis._tMode = mode.mode || this._tMode;\n\n\t\t\tif (utils.defined(mode.headers)) {\n\t\t\t\tthis._headers = mode.headers;\n\t\t\t}\n\n\t\t\tif (utils.defined(mode.payload)) {\n\t\t\t\tthis._payload = mode.payload;\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis._tMode = mode;\n\t\t\tthis._tSend = total;\n\t\t}\n\n\t\tif (this._tMode === \"REST\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t}\n\n\t\tif (this._tMode === \"JSON\" || this._tMode === \"REST-JSON\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t\tthis._serializeAsJson = true;\n\t\t\tthis._headers = this._headers || {};\n\t\t\tthis._headers[\"Content-type\"] = \"application/json\";\n\t\t}\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._endnm = true;\n\t\t\tthis._router = mode.router;\n\t\t}\n\t}\n\n\tescape(data:any) {\n\t\tif (this._utf) {\n\t\t\treturn encodeURIComponent(data);\n\t\t} else {\n\t\t\treturn escape(data);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: allows to set escaping mode\n\t * @param: true - utf based escaping, simple - use current page encoding\n\t * @type: public\n\t */\n\tenableUTFencoding(mode:boolean) {\n\t\tthis._utf = !!mode;\n\t}\n\n\n\t/**\n\t * @desc: allows to define, which column may trigger update\n\t * @param: val - array or list of true/false values\n\t * @type: public\n\t */\n\tsetDataColumns(val:string|any) {\n\t\tthis._columns = (typeof val === \"string\") ? val.split(\",\") : val;\n\t}\n\n\t/**\n\t * @desc: get state of updating\n\t * @returns:   true - all in sync with server, false - some items not updated yet.\n\t * @type: public\n\t */\n\tgetSyncState() {\n\t\treturn !this.updatedRows.length;\n\t}\n\n\t/**\n\t * @desc: enable/disable named field for data syncing, will use column ids for grid\n\t * @param:   mode - true/false\n\t * @type: public\n\t */\n\tenableDataNames(mode: boolean) {\n\t\tthis._endnm = !!mode;\n\t}\n\n\t/**\n\t * @desc: enable/disable mode , when only changed fields and row id send to the server side, instead of all fields in default mode\n\t * @param:   mode - true/false\n\t * @type: public\n\t */\n\tenablePartialDataSend(mode: boolean) {\n\t\tthis._changed = !!mode;\n\t}\n\n\t/**\n\t * @desc: set if rows should be send to server automaticaly\n\t * @param: mode - \"row\" - based on row selection changed, \"cell\" - based on cell editing finished, \"off\" - manual data sending\n\t * @type: public\n\t */\n\tsetUpdateMode(mode: string, dnd: any) {\n\t\tthis.autoUpdate = (mode === \"cell\");\n\t\tthis.updateMode = mode;\n\t\tthis.dnd = dnd;\n\t}\n\n\tignore(code: any, master: any) {\n\t\tthis._silent_mode = true;\n\t\tcode.call(master || window);\n\t\tthis._silent_mode = false;\n\t}\n\n\t/**\n\t * @desc: mark row as updated/normal. check mandatory fields,initiate autoupdate (if turned on)\n\t * @param: rowId - id of row to set update-status for\n\t * @param: state - true for \"updated\", false for \"not updated\"\n\t * @param: mode - update mode name\n\t * @type: public\n\t */\n\tsetUpdated(rowId:number|string, state: boolean, mode?: string) {\n\t\tif (this._silent_mode) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst ind = this.findRow(rowId);\n\n\t\tmode = mode || \"updated\";\n\t\tconst existing = this.$gantt.getUserData(rowId, this.action_param);\n\t\tif (existing && mode === \"updated\") {\n\t\t\tmode = existing;\n\t\t}\n\t\tif (state) {\n\t\t\tthis.set_invalid(rowId, false); // clear previous error flag\n\t\t\tthis.updatedRows[ind] = rowId;\n\t\t\tthis.$gantt.setUserData(rowId, this.action_param, mode);\n\t\t\tif (this._in_progress[rowId]) {\n\t\t\t\tthis._in_progress[rowId] = \"wait\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this.is_invalid(rowId)) {\n\t\t\t\tthis.updatedRows.splice(ind, 1);\n\t\t\t\tthis.$gantt.setUserData(rowId, this.action_param, \"\");\n\t\t\t}\n\t\t}\n\n\t\tthis.markRow(rowId, state, mode);\n\t\tif (state && this.autoUpdate) {\n\t\t\tthis.sendData(rowId);\n\t\t}\n\t}\n\n\tmarkRow(id: number | string, state: boolean, mode: string) {\n\t\tlet str = \"\";\n\t\tconst invalid = this.is_invalid(id);\n\t\tif (invalid) {\n\t\t\tstr = this.styles[invalid];\n\t\t\tstate = true;\n\t\t}\n\t\tif (this.callEvent(\"onRowMark\", [id, state, mode, invalid])) {\n\t\t\t// default logic\n\t\t\tstr = this.styles[state ? mode : \"clear\"] + str;\n\n\t\t\tthis.$gantt[this._methods[0]](id, str);\n\n\t\t\tif (invalid && invalid.details) {\n\t\t\t\tstr += this.styles[invalid + \"_cell\"];\n\t\t\t\tfor (let i = 0; i < invalid.details.length; i++) {\n\t\t\t\t\tif (invalid.details[i]) {\n\t\t\t\t\t\tthis.$gantt[this._methods[1]](id, i, str);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetActionByState(state: string):string {\n\t\tif (state === \"inserted\") {\n\t\t\treturn \"create\";\n\t\t}\n\n\t\tif (state === \"updated\") {\n\t\t\treturn \"update\";\n\t\t}\n\n\t\tif (state === \"deleted\") {\n\t\t\treturn \"delete\";\n\t\t}\n\t}\n\n\tgetState(id: number | string) {\n\t\treturn this.$gantt.getUserData(id, this.action_param);\n\t}\n\n\tis_invalid(id: number | string) {\n\t\treturn this._invalid[id];\n\t}\n\n\tset_invalid(id: number | string, mode: any, details?) {\n\t\tif (details) {\n\t\t\tmode = {\n\t\t\t\tvalue: mode,\n\t\t\t\tdetails,\n\t\t\t\ttoString: function() { // tslint:disable-line\n\t\t\t\t\treturn this.value.toString();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthis._invalid[id] = mode;\n\t}\n\n\t/**\n\t * @desc: check mandatory fields and varify values of cells, initiate update (if specified)\n\t * @param: rowId - id of row to set update-status for\n\t * @type: public\n\t */\n\t// tslint:disable-next-line\n\tcheckBeforeUpdate(rowId: number | string) { // ???\n\t\treturn true;\n\t}\n\n\t/**\n\t * @desc: send row(s) values to server\n\t * @param: rowId - id of row which data to send. If not specified, then all \"updated\" rows will be send\n\t * @type: public\n\t */\n\tsendData(rowId?: any) {\n\t\tif (this._waitMode && (this.$gantt.mytype === \"tree\" || this.$gantt._h2)) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.$gantt.editStop) {\n\t\t\tthis.$gantt.editStop();\n\t\t}\n\n\n\t\tif (typeof rowId === \"undefined\" || this._tSend) {\n\t\t\treturn this.sendAllData();\n\t\t}\n\t\tif (this._in_progress[rowId]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tif (!this.checkBeforeUpdate(rowId) && this.callEvent(\"onValidationError\", [rowId, this.messages])) {\n\t\t\treturn false; // ??? unreachable code, drop it?\n\t\t}\n\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t}\n\n\t_beforeSendData(data: any, rowId: any) {\n\t\tif (!this.callEvent(\"onBeforeUpdate\", [rowId, this.getState(rowId), data])) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._sendData(data, rowId);\n\t}\n\n\tserialize(data: any, id: any) {\n\t\tif (this._serializeAsJson) {\n\t\t\treturn  this._serializeAsJSON(data);\n\t\t}\n\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tif (typeof id !== \"undefined\") {\n\t\t\treturn this.serialize_one(data, \"\");\n\t\t} else {\n\t\t\tconst stack = [];\n\t\t\tconst keys = [];\n\t\t\tfor (const key in data) {\n\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\tstack.push(this.serialize_one(data[key], key + this._postDelim));\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack.push(\"ids=\" + this.escape(keys.join(\",\")));\n\t\t\tif (this.$gantt.security_key) {\n\t\t\t\tstack.push(\"dhx_security=\" + this.$gantt.security_key);\n\t\t\t}\n\t\t\treturn stack.join(\"&\");\n\t\t}\n\t}\n\n\t_serializeAsJSON(data: any) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst copy = utils.copy(data);\n\t\tif (this._tMode === \"REST-JSON\") {\n\t\t\tdelete copy.id;\n\t\t\tdelete copy[this.action_param];\n\t\t}\n\n\t\treturn JSON.stringify(copy);\n\t}\n\n\tserialize_one(data: any, pref: string) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tconst stack = [];\n\t\tlet serialized = \"\";\n\t\tfor (const key in data)\n\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\tif ((key === \"id\" ||\n\t\t\t\t\tkey == this.action_param) && // tslint:disable-line\n\t\t\t\t\tthis._tMode === \"REST\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (typeof data[key] === \"string\" || typeof data[key] === \"number\") {\n\t\t\t\t\tserialized = data[key];\n\t\t\t\t} else {\n\t\t\t\t\tserialized = JSON.stringify(data[key]);\n\t\t\t\t}\n\t\t\t\tstack.push(this.escape((pref || \"\") + key) + \"=\" + this.escape(serialized));\n\t\t\t}\n\t\treturn stack.join(\"&\");\n\t}\n\n\t_applyPayload(url: string) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._payload) {\n\t\t\tfor (const key in this._payload) {\n\t\t\t\turl = url + ajax.urlSeparator(url) + this.escape(key) + \"=\" + this.escape(this._payload[key]);\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t}\n\n\t_sendData(dataToSend: any, rowId?: any) {\n\t\tif (!dataToSend) {\n\t\t\treturn; // nothing to send\n\t\t}\n\t\tif (!this.callEvent(\"onBeforeDataSending\", rowId ? [rowId, this.getState(rowId), dataToSend] : [null, null, dataToSend])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (rowId) {\n\t\t\tthis._in_progress[rowId] = (new Date()).valueOf();\n\t\t}\n\n\t\tconst ajax = this.$gantt.ajax;\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tconst taskState = this.getState(rowId);\n\t\t\tconst taskAction = this.getActionByState(taskState);\n\t\t\tconst ganttMode = this.getGanttMode();\n\t\t\tconst _onResolvedCreateUpdate = (tag) => {\n\t\t\t\tlet action = taskState || \"updated\";\n\t\t\t\tlet sid = rowId;\n\t\t\t\tlet tid = rowId;\n\n\t\t\t\tif (tag) {\n\t\t\t\t\taction = tag.action || taskState;\n\t\t\t\t\tsid = tag.sid || sid;\n\t\t\t\t\ttid = tag.id || tag.tid || tid;\n\t\t\t\t}\n\t\t\t\tthis.afterUpdateCallback(sid, tid, action, tag);\n\t\t\t};\n\n\t\t\tlet actionPromise;\n\t\t\tif (this._router instanceof Function) {\n\t\t\t\tactionPromise = this._router(ganttMode, taskAction, dataToSend, rowId);\n\t\t\t} else if (this._router[ganttMode] instanceof Function) {\n\t\t\t\tactionPromise = this._router[ganttMode](taskAction, dataToSend, rowId);\n\t\t\t} else {\n\t\t\t\tswitch (taskState) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].create(dataToSend);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].delete(rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].update(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(actionPromise){\n\t\t\t\t// neither promise nor {tid: newId} response object\n\t\t\t\tif(!actionPromise.then &&\n\t\t\t\t\t(actionPromise.id === undefined && actionPromise.tid === undefined)){\n\t\t\t\t\tthrow new Error(\"Incorrect router return value. A Promise or a response object is expected\");\n\t\t\t\t}\n\n\t\t\t\tif(actionPromise.then){\n\t\t\t\t\tactionPromise.then(_onResolvedCreateUpdate);\n\t\t\t\t}else{\n\t\t\t\t\t// custom method may return a response object in case of sync action\n\t\t\t\t\t_onResolvedCreateUpdate(actionPromise);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t_onResolvedCreateUpdate(null);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tlet queryParams: any;\n\t\tqueryParams = {\n\t\t\tcallback: (xml) => {\n\t\t\t\tconst ids = [];\n\n\t\t\t\tif (rowId) {\n\t\t\t\t\tids.push(rowId);\n\t\t\t\t} else if (dataToSend) {\n\t\t\t\t\tfor (const key in dataToSend) {\n\t\t\t\t\t\tids.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.afterUpdate(this, xml, ids);\n\t\t\t},\n\t\t\theaders: this._headers\n\t\t};\n\n\t\tconst urlParams = this.serverProcessor + (this._user ? (ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + this.$gantt.getUserData(0, \"version\")].join(\"&\")) : \"\");\n\t\tlet url: any = this._applyPayload(urlParams);\n\t\tlet data;\n\n\t\tswitch (this._tMode) {\n\t\t\tcase \"GET\":\n\t\t\t\tqueryParams.url = url + ajax.urlSeparator(url) + this.serialize(dataToSend, rowId);\n\t\t\t\tqueryParams.method = \"GET\";\n\t\t\t\tbreak;\n\t\t\tcase \"POST\":\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\tbreak;\n\t\t\tcase \"JSON\":\n\t\t\t\tdata = {};\n\t\t\t\tfor (const key in dataToSend) {\n\t\t\t\t\tif (key === this.action_param || key === \"id\" || key === \"gr_id\") {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdata[key] = dataToSend[key];\n\t\t\t\t}\n\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = JSON.stringify({\n\t\t\t\t\tid: rowId,\n\t\t\t\t\taction: dataToSend[this.action_param],\n\t\t\t\t\tdata\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"REST\":\n\t\t\tcase \"REST-JSON\":\n\t\t\t\turl = urlParams.replace(/(&|\\?)editing=true/, \"\");\n\t\t\t\tdata = \"\";\n\n\t\t\t\tswitch (this.getState(rowId)) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tqueryParams.method = \"DELETE\";\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tqueryParams.method = \"PUT\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tqueryParams.url = this._applyPayload(url);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._waitMode++;\n\t\treturn ajax.query(queryParams);\n\t}\n\n\t_forEachUpdatedRow(code: any) {\n\t\tconst updatedRows = this.updatedRows.slice();\n\t\tfor (let i = 0; i < updatedRows.length; i++) {\n\t\t\tconst rowId = updatedRows[i];\n\t\t\tif (this.$gantt.getUserData(rowId, this.action_param)) {\n\t\t\t\tcode.call(this, rowId);\n\t\t\t}\n\t\t}\n\t}\n\n\tsendAllData() {\n\t\tif (!this.updatedRows.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tlet valid: any = true;\n\n\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\tvalid = valid && this.checkBeforeUpdate(rowId); // ??? checkBeforeUpdate() always is true\n\t\t});\n\n\t\tif (!valid && !this.callEvent(\"onValidationError\", [\"\", this.messages])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._tSend) {\n\t\t\tthis._sendData(this._getAllData());\n\t\t} else {\n\t\t\tlet stop = false;\n\n\t\t\t// this.updatedRows can be spliced from onBeforeUpdate via dp.setUpdated false\n\t\t\t// use an iterator instead of for(var i = 0; i < this.updatedRows; i++) then\n\t\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\t\tif (stop) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._in_progress[rowId]) {\n\t\t\t\t\tif (this.is_invalid(rowId)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t\t\t\t\tif (this._waitMode && (this.$gantt.mytype === \"tree\" || this.$gantt._h2)) {\n\t\t\t\t\t\tstop = true; // block send all for tree\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t_getAllData() {\n\t\tconst out = {};\n\t\tlet hasOne = false;\n\n\t\tthis._forEachUpdatedRow(function(id) {\n\t\t\tif (this._in_progress[id] || this.is_invalid(id)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst row = this._getRowData(id);\n\t\t\tif (!this.callEvent(\"onBeforeUpdate\", [id, this.getState(id), row])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tout[id] = row;\n\t\t\thasOne = true;\n\t\t\tthis._in_progress[id] = (new Date()).valueOf();\n\t\t});\n\n\t\treturn hasOne ? out : null;\n\t}\n\n\n\t/**\n\t * @desc: specify column which value should be verified before sending to server\n\t * @param: ind - column index (0 based)\n\t * @param: verifFunction - function(object) which should verify cell value (if not specified, then value will be compared to empty string). Two arguments will be passed into it: value and column name\n\t * @type: public\n\t */\n\tsetVerificator(ind: number, verifFunction: any) {\n\t\tthis.mandatoryFields[ind] = verifFunction || (function(value) { return (value !== \"\"); });\n\t}\n\n\t/**\n\t * @desc: remove column from list of those which should be verified\n\t * @param: ind - column Index (0 based)\n\t * @type: public\n\t */\n\tclearVerificator(ind: number) {\n\t\tthis.mandatoryFields[ind] = false;\n\t}\n\n\tfindRow(pattern: any) {\n\t\tlet i = 0;\n\t\tfor (i = 0; i < this.updatedRows.length; i++) {\n\t\t\tif (pattern == this.updatedRows[i]) { // tslint:disable-line\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn i;\n\t}\n\n\t/**\n\t * @desc: define custom actions\n\t * @param: name - name of action, same as value of action attribute\n\t * @param: handler - custom function, which receives a XMl response content for action\n\t * @type: private\n\t */\n\tdefineAction(name: string, handler: any) {\n\t\tif (!this._uActions) {\n\t\t\tthis._uActions = {};\n\t\t}\n\t\tthis._uActions[name] = handler;\n\t}\n\n\t/**\n\t * @desc: used in combination with setOnBeforeUpdateHandler to create custom client-server transport system\n\t * @param: sid - id of item before update\n\t * @param: tid - id of item after up0ate\n\t * @param: action - action name\n\t * @type: public\n\t * @topic: 0\n\t */\n\tafterUpdateCallback(sid: number | string, tid: number | string, action: string, btag: any) {\n\t\tconst marker = sid;\n\t\tconst correct = (action !== \"error\" && action !== \"invalid\");\n\t\tif (!correct) {\n\t\t\tthis.set_invalid(sid, action);\n\t\t}\n\t\tif ((this._uActions) && (this._uActions[action]) && (!this._uActions[action](btag))) {\n\t\t\treturn (delete this._in_progress[marker]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tthis.setUpdated(sid, false);\n\t\t}\n\n\t\tconst originalSid = sid;\n\n\t\tswitch (action) {\n\t\t\tcase \"inserted\":\n\t\t\tcase \"insert\":\n\t\t\t\tif (tid != sid) { // tslint:disable-line\n\t\t\t\t\tthis.setUpdated(sid, false);\n\t\t\t\t\tthis.$gantt[this._methods[2]](sid, tid);\n\t\t\t\t\tsid = tid;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\tcase \"deleted\":\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"true_deleted\");\n\t\t\t\tthis.$gantt[this._methods[3]](sid);\n\t\t\t\tdelete this._in_progress[marker];\n\t\t\t\treturn this.callEvent(\"onAfterUpdate\", [sid, action, tid, btag]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tif (correct) {\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"\");\n\t\t\t}\n\t\t\tdelete this._in_progress[marker];\n\t\t} else {\n\t\t\tdelete this._in_progress[marker];\n\t\t\tthis.setUpdated(tid, true, this.$gantt.getUserData(sid, this.action_param));\n\t\t}\n\n\t\tthis.callEvent(\"onAfterUpdate\", [originalSid, action, tid, btag]);\n\t}\n\n\t/**\n\t * @desc: response from server\n\t * @param: xml - XMLLoader object with response XML\n\t * @type: private\n\t */\n\tafterUpdate(that: any, xml: any, id?:any) {\n\t\tlet _xml;\n\t\tif (arguments.length === 3) {\n\t\t\t_xml = arguments[1];\n\t\t} else {\n\t\t\t// old dataprocessor\n\t\t\t_xml = arguments[4];\n\t\t}\n\t\tlet mode = this.getGanttMode();\n\t\tconst reqUrl = _xml.filePath || _xml.url;\n\n\t\tif (this._tMode !== \"REST\" && this._tMode !== \"REST-JSON\") {\n\t\t\tif (reqUrl.indexOf(\"gantt_mode=links\") !== -1) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (reqUrl.indexOf(\"/link\") > reqUrl.indexOf(\"/task\")) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t}\n\t\tthis.setGanttMode(mode);\n\n\t\tconst ajax = this.$gantt.ajax;\n\t\t// try to use json first\n\t\tif ((window as any).JSON) {\n\t\t\tlet tag;\n\n\t\t\ttry {\n\t\t\t\ttag = JSON.parse(xml.xmlDoc.responseText);\n\t\t\t} catch (e) {\n\n\t\t\t\t// empty response also can be processed by json handler\n\t\t\t\tif (!xml.xmlDoc.responseText.length) {\n\t\t\t\t\ttag = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tag) {\n\t\t\t\tconst action = tag.action || this.getState(id) || \"updated\";\n\t\t\t\tconst sid = tag.sid || id[0];\n\t\t\t\tconst tid = tag.tid || id[0];\n\t\t\t\tthat.afterUpdateCallback(sid, tid, action, tag);\n\t\t\t\tthat.finalizeUpdate();\n\t\t\t\tthis.setGanttMode(mode);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// xml response\n\t\tconst top = ajax.xmltop(\"data\", xml.xmlDoc); // fix incorrect content type in IE\n\t\tif (!top) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\t\tconst atag = ajax.xpath(\"//data/action\", top);\n\t\tif (!atag.length) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\n\t\tfor (let i = 0; i < atag.length; i++) {\n\t\t\tconst btag = atag[i];\n\t\t\tconst action = btag.getAttribute(\"type\");\n\t\t\tconst sid = btag.getAttribute(\"sid\");\n\t\t\tconst tid = btag.getAttribute(\"tid\");\n\n\t\t\tthat.afterUpdateCallback(sid, tid, action, btag);\n\t\t}\n\t\tthat.finalizeUpdate();\n\t}\n\n\tcleanUpdate(id: any[]) {\n\t\tif (id) {\n\t\t\tfor (let i = 0; i < id.length; i++) {\n\t\t\t\tdelete this._in_progress[id[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\tfinalizeUpdate() {\n\t\tif (this._waitMode) {\n\t\t\tthis._waitMode--;\n\t\t}\n\n\t\tif ((this.$gantt.mytype === \"tree\" || this.$gantt._h2) && this.updatedRows.length) {\n\t\t\tthis.sendData();\n\t\t}\n\t\tthis.callEvent(\"onAfterUpdateFinish\", []);\n\t\tif (!this.updatedRows.length) {\n\t\t\tthis.callEvent(\"onFullSync\", []);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: initializes data-processor\n\t * @param: anObj - dhtmlxGrid object to attach this data-processor to\n\t * @type: public\n\t */\n\tinit(anObj: any) {\n\t\tif (this._initialized) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$gantt = anObj;\n\t\tif (this.$gantt._dp_init) {\n\t\t\tthis.$gantt._dp_init(this);\n\t\t}\n\n\t\tthis._setDefaultTransactionMode();\n\n\t\tthis.styles = {\n\t\t\tupdated:\"gantt_updated\",\n\t\t\torder:\"gantt_updated\",\n\t\t\tinserted:\"gantt_inserted\",\n\t\t\tdeleted:\"gantt_deleted\",\n\t\t\tinvalid:\"gantt_invalid\",\n\t\t\terror:\"gantt_error\",\n\t\t\tclear:\"\"\n\t\t};\n\n\t\tthis._methods=[\"_row_style\",\"setCellTextStyle\",\"_change_id\",\"_delete_task\"];\n\t\textendGantt(this.$gantt, this);\n\t\tconst dataProcessorEvents = new DataProcessorEvents(this.$gantt, this);\n\t\tdataProcessorEvents.attach();\n\t\tthis.attachEvent(\"onDestroy\", function() {\n\t\t\tdelete this.setGanttMode;\n\t\t\tdelete this._getRowData;\n\n\t\t\tdelete this.$gantt._dp;\n\t\t\tdelete this.$gantt._change_id;\n\t\t\tdelete this.$gantt._row_style;\n\t\t\tdelete this.$gantt._delete_task;\n\t\t\tdelete this.$gantt._sendTaskOrder;\n\t\t\tdelete this.$gantt;\n\n\t\t\tdataProcessorEvents.detach();\n\t\t});\n\t\tthis.$gantt.callEvent(\"onDataProcessorReady\", [this]);\n\t\tthis._initialized = true;\n\t}\n\n\t_setDefaultTransactionMode() {\n\t\tif (this.serverProcessor) {\n\t\t\tthis.setTransactionMode(\"POST\", true);\n\t\t\tthis.serverProcessor += (this.serverProcessor.indexOf(\"?\") !== -1 ? \"&\" : \"?\") + \"editing=true\";\n\t\t\tthis._serverProcessor = this.serverProcessor;\n\t\t}\n\t}\n\n\tsetOnAfterUpdate(handler) {\n\t\tthis.attachEvent(\"onAfterUpdate\", handler);\n\t}\n\n\tenableDebug(mode) {} // tslint:disable-line\n\n\tsetOnBeforeUpdateHandler(handler) {\n\t\tthis.attachEvent(\"onBeforeDataSending\", handler);\n\t}\n\n\t/* starts autoupdate mode\n\t\t@param interval time interval for sending update requests\n\t*/\n\tsetAutoUpdate(interval, user) {\n\t\tinterval = interval || 2000;\n\n\t\tthis._user = user || (new Date()).valueOf();\n\t\tthis._needUpdate = false;\n\t\t// this._loader = null;\n\t\tthis._updateBusy = false;\n\n\t\tthis.attachEvent(\"onAfterUpdate\", this.afterAutoUpdate); // arguments sid, action, tid, xml_node;\n\n\t\tthis.attachEvent(\"onFullSync\", this.fullSync);\n\n\t\twindow.setInterval(() => {\n\t\t\tthis.loadUpdate();\n\t\t}, interval);\n\t}\n\n\t/* process updating request answer\n\t\tif status == collision version is depricated\n\t\tset flag for autoupdating immidiatly\n\t*/\n\tafterAutoUpdate(sid, action, tid, xml_node) { // tslint:disable-line\n\t\tif (action === \"collision\") {\n\t\t\tthis._needUpdate = true;\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/* callback function for onFillSync event\n\t\tcall update function if it's need\n\t*/\n\tfullSync() {\n\t\tif (this._needUpdate) {\n\t\t\tthis._needUpdate = false;\n\t\t\tthis.loadUpdate();\n\t\t}\n\t\treturn true;\n\t}\n\n\t/* sends query to the server and call callback function\n\t*/\n\tgetUpdates(url, callback) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._updateBusy) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis._updateBusy = true;\n\t\t}\n\n\t\t// this._loader = this._loader || new dtmlXMLLoaderObject(true);\n\n\t\t// this._loader.async=true;\n\t\t// this._loader.waitCall=callback;\n\t\t// this._loader.loadXML(url);\n\t\tajax.get(url, callback);\n\n\t}\n\n\t// I didn't found some use of _v and _a functions\n\n\t/* returns xml node value\n\t\t@param node\n\t\t\txml node\n\t*/\n\t_v(node) {\n\t\tif (node.firstChild) {\n\t\t\treturn node.firstChild.nodeValue;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\t/* returns values array of xml nodes array\n\t\t@param arr\n\t\t\tarray of xml nodes\n\t*/\n\t_a(arr) {\n\t\tconst res = [];\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tres[i] = this._v(arr[i]);\n\t\t}\n\t\treturn res;\n\t}\n\n\t/* loads updates and processes them\n\t*/\n\tloadUpdate() {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tconst version = this.$gantt.getUserData(0, \"version\");\n\t\tlet url = this.serverProcessor + ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + version].join(\"&\");\n\t\turl = url.replace(\"editing=true&\", \"\");\n\t\tthis.getUpdates(url, (xml) => {\n\t\t\tconst vers = ajax.xpath(\"//userdata\", xml);\n\t\t\tthis.obj.setUserData(0, \"version\", this._v(vers[0]));\n\n\t\t\tconst upds = ajax.xpath(\"//update\", xml);\n\t\t\tif (upds.length) {\n\t\t\t\tthis._silent_mode = true;\n\n\t\t\t\tfor (let i = 0; i < upds.length; i++) {\n\t\t\t\t\tconst status = upds[i].getAttribute(\"status\");\n\t\t\t\t\tconst id = upds[i].getAttribute(\"id\");\n\t\t\t\t\tconst parent = upds[i].getAttribute(\"parent\");\n\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\t\tthis.callEvent(\"insertCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"updated\":\n\t\t\t\t\t\t\tthis.callEvent(\"updateCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\t\tthis.callEvent(\"deleteCallback\", [upds[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._silent_mode = false;\n\t\t\t}\n\n\t\t\tthis._updateBusy = false;\n\t\t});\n\t}\n\n\tdestructor() {\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t\tthis.updatedRows = [];\n\t\tthis._in_progress = {}; // ?\n\t\tthis._invalid = {};\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tdelete this._initialized;\n\t}\n\n\tsetGanttMode(mode) {\n\t\tif (mode === \"tasks\") {\n\t\t\tmode = \"task\";\n\t\t} else if (mode === \"links\") {\n\t\t\tmode = \"link\";\n\t\t}\n\n\t\tconst modes = this.modes || {};\n\t\tconst ganttMode = this.getGanttMode();\n\t\tif (ganttMode) {\n\t\t\tmodes[ganttMode] = {\n\t\t\t\t_in_progress : this._in_progress,\n\t\t\t\t_invalid: this._invalid,\n\t\t\t\tupdatedRows : this.updatedRows\n\t\t\t};\n\t\t}\n\n\t\tlet newState = modes[mode];\n\t\tif (!newState) {\n\t\t\tnewState = modes[mode] = {\n\t\t\t\t_in_progress : {},\n\t\t\t\t_invalid : {},\n\t\t\t\tupdatedRows : []\n\t\t\t};\n\t\t}\n\t\tthis._in_progress = newState._in_progress;\n\t\tthis._invalid = newState._invalid;\n\t\tthis.updatedRows = newState.updatedRows;\n\t\tthis.modes = modes;\n\t\tthis._ganttMode = mode;\n\t}\n\tgetGanttMode():string {\n\t\treturn this._ganttMode;\n\t}\n\n\t_getRowData(id) {\n\t\tlet task;\n\t\tif (this.getGanttMode() === \"task\") {\n\t\t\ttask = this.$gantt.isTaskExists(id) ? this.$gantt.getTask(id) : { id };\n\t\t} else {\n\t\t\ttask = this.$gantt.isLinkExists(id) ? this.$gantt.getLink(id) : { id };\n\t\t}\n\n\t\ttask = this.$gantt.copy(task);\n\n\t\tconst data = {};\n\t\tfor (const key in task) {\n\t\t\tif (key.substr(0, 1) === \"$\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst value = task[key];\n\t\t\tif (helpers.isDate(value)) {\n\t\t\t\tdata[key] = this.$gantt.templates.xml_format(value);\n\t\t\t} else if(value === null) {\n\t\t\t\tdata[key] = \"\";\n\t\t\t} else {\n\t\t\t\tdata[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tconst taskTiming = this.$gantt._get_task_timing_mode(task);\n\t\tif(taskTiming.$no_start){\n\t\t\ttask.start_date = \"\";\n\t\t\ttask.duration = \"\";\n\t\t}\n\t\tif(taskTiming.$no_end){\n\t\t\ttask.end_date = \"\";\n\t\t\ttask.duration = \"\";\n\t\t}\n\t\tdata[this.action_param] = this.$gantt.getUserData(id, this.action_param);\n\t\treturn data;\n\t}\n\n\t_isFetchResult(result) {\n\t\treturn result.body instanceof ReadableStream;\n\t}\n\n\tsetSerializeAsJSON(flag: true) {\n\t\tthis._serializeAsJson = flag;\n\t}\n}","var DataProcessor = require(\"./data_processor\");\nmodule.exports = {\n\tDEPRECATED_api: function(server) {\n\t\treturn new (DataProcessor.DataProcessor)(server);\n\t},\n\tcreateDataProcessor: DataProcessor.createDataProcessor,\n\tgetDataProcessorModes: DataProcessor.getAvailableModes\n};","var storeRenderCreator = function(name, gantt){\n\tvar store = gantt.getDatastore(name);\n\n\tvar itemRepainter = {\n\t\trenderItem: function(id, renderer){\n\n\t\t\tvar renders = renderer.getLayers();\n\n\t\t\tvar item = store.getItem(id);\n\t\t\tif(item && store.isVisible(id)) {\n\t\t\t\tfor (var i = 0; i < renders.length; i++)\n\t\t\t\t\trenders[i].render_item(item);\n\t\t\t}\n\t\t},\n\t\trenderItems: function(renderer){\n\t\t\tvar renderers = renderer.getLayers();\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\trenderers[i].clear();\n\t\t\t}\n\n\t\t\tvar data = store.getVisibleItems();\n\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\trenderers[i].render_items(data);\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction skipRepaint(gantt){\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\n\t\tif(renderer){\n\t\t\tif(!id || action == \"move\" || action == \"delete\"){\n\t\t\t\tstore.callEvent(\"onBeforeRefreshAll\", []);\n\t\t\t\titemRepainter.renderItems(renderer);\n\t\t\t\tstore.callEvent(\"onAfterRefreshAll\", []);\n\t\t\t}else{\n\t\t\t\tstore.callEvent(\"onBeforeRefreshItem\", [item.id]);\n\t\t\t\titemRepainter.renderItem(item.id, renderer);\n\t\t\t\tstore.callEvent(\"onAfterRefreshItem\", [item.id]);\n\t\t\t}\n\t\t}\n\n\t});\n\n\t// TODO: probably can be done more in a more efficient way\n\tstore.attachEvent(\"onItemOpen\", function(){\n\t\tgantt.render();\n\t});\n\n\tstore.attachEvent(\"onItemClose\", function(){\n\t\tgantt.render();\n\t});\n\n\tfunction refreshId(renders, oldId, newId, item) {\n\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\trenders[i].change_id(oldId, newId);\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId){\n\n\t\t// in case of linked datastores (tasks <-> links), id change should recalculate something in linked datastore before any repaint\n\t\t// use onBeforeIdChange for this hook.\n\t\t// TODO: use something more reasonable instead\n\t\tstore.callEvent(\"onBeforeIdChange\", [oldId, newId]);\n\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\trefreshId(renderer.getLayers(), oldId, newId, store.getItem(newId));\n\t\titemRepainter.renderItem(newId, renderer);\n\t});\n\n};\n\nmodule.exports = {\n\tbindDataStore: storeRenderCreator\n};","function createDataStoreSelectMixin(store){\n\tvar selectedId = null;\n\n\tvar deleteItem = store._removeItemInner;\n\t\n\tfunction unselect(id){\n\t\tselectedId = null;\n\t\tthis.callEvent(\"onAfterUnselect\", [id]);\n\t}\n\n\tstore._removeItemInner = function(id){\n\t\tif(selectedId == id){\n\t\t\tunselect.call(this, id);\n\t\t}\n\n\t\tif(selectedId && this.eachItem){\n\t\t\tthis.eachItem(function(subItem){\n\t\t\t\tif(subItem.id == selectedId){\n\t\t\t\t\tunselect.call(this, subItem.id);\n\t\t\t\t}\n\t\t\t}, id);\n\t\t}\n\n\t\treturn deleteItem.apply(this, arguments);\n\t};\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId) {\n\t\tif (store.getSelectedId() == oldId) {\n\t\t\tstore.silent(function () {\n\t\t\t\tstore.unselect(oldId);\n\t\t\t\tstore.select(newId);\n\t\t\t});\n\t\t}\n\t});\n\n\treturn {\n\t\tselect: function(id){\n\t\t\tif (id){\n\n\t\t\t\tif(selectedId == id)\n\t\t\t\t\treturn selectedId;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tif (!this.callEvent(\"onBeforeSelect\", [id])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.unselect();\n\n\t\t\t\tselectedId = id;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tthis.refresh(id);\n\t\t\t\t\tthis.callEvent(\"onAfterSelect\", [id]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selectedId;\n\t\t},\n\t\tgetSelectedId: function(){\n\t\t\treturn selectedId;\n\t\t},\n\t\tunselect: function(id){\n\t\t\tvar id = id || selectedId;\n\t\t\tif(!id)\n\t\t\t\treturn;\n\t\t\tselectedId = null;\n\t\t\tif(!this._skip_refresh){\n\t\t\t\tthis.refresh(id);\n\t\t\t\tunselect.call(this, id);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = createDataStoreSelectMixin;","var utils = require(\"../../utils/utils\");\n\n\nvar createLinksStoreFacade = function(){\n\treturn {\n\tgetLinkCount: function () {\n\t\treturn this.$data.linksStore.count();\n\t},\n\n\tgetLink : function (id) {\n\t\treturn this.$data.linksStore.getItem(id);\n\t},\n\n\tgetLinks : function () {\n\t\treturn this.$data.linksStore.getItems();\n\t},\n\n\tisLinkExists : function (id) {\n\t\treturn this.$data.linksStore.exists(id);\n\t},\n\n\taddLink : function (link) {\n\t\treturn this.$data.linksStore.addItem(link);\n\t},\n\n\tupdateLink : function (id, data) {\n\t\tif (!utils.defined(data))\n\t\t\tdata = this.getLink(id);\n\t\tthis.$data.linksStore.updateItem(id, data);\n\t},\n\n\tdeleteLink : function (id) {\n\t\treturn this.$data.linksStore.removeItem(id);\n\t},\n\n\tchangeLinkId : function (oldid, newid) {\n\t\treturn this.$data.linksStore.changeId(oldid, newid);\n\t}\n};\n};\n\nmodule.exports = createLinksStoreFacade;","var utils = require(\"../../utils/utils\");\n\nvar createTasksDatastoreFacade = function(){\n\treturn {\n\tgetTask: function (id) {\n\t\tthis.assert(id, \"Invalid argument for gantt.getTask\");\n\t\tvar task = this.$data.tasksStore.getItem(id);\n\t\tthis.assert(task, \"Task not found id=\" + id);\n\t\treturn task;\n\t},\n\tgetTaskByTime: function (from, to) {\n\t\tvar p = this.$data.tasksStore.getItems();\n\n\t\tvar res = [];\n\n\t\tif (!(from || to)) {\n\t\t\tres = p;\n\t\t} else {\n\t\t\tfrom = +from || -Infinity;\n\t\t\tto = +to || Infinity;\n\t\t\tfor (var t = 0; t < p.length; t++){\n\t\t\t\tvar task = p[t];\n\t\t\t\tif (+task.start_date < to && +task.end_date > from)\n\t\t\t\t\tres.push(task);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\tisTaskExists: function (id) {\n\t\treturn this.$data.tasksStore.exists(id);\n\t},\n\tupdateTask: function (id, item) {\n\t\tif (!utils.defined(item)) item = this.getTask(id);\n\t\tthis.$data.tasksStore.updateItem(id, item);\n\t\tif(this.isTaskExists(id))\n\t\t\tthis.refreshTask(id);\n\t},\n\taddTask: function (item, parent, index) {\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\tif (!utils.defined(parent)) parent = this.getParent(item) || 0;\n\t\tif (!this.isTaskExists(parent)) parent = 0;\n\t\tthis.setParent(item, parent);\n\n\t\treturn this.$data.tasksStore.addItem(item, index, parent);\n\t},\n\tdeleteTask: function (id) {\n\t\treturn this.$data.tasksStore.removeItem(id);\n\t},\n\tgetTaskCount: function () {\n\t\treturn this.$data.tasksStore.count();\n\t},\n\tgetVisibleTaskCount: function () {\n\t\treturn this.$data.tasksStore.countVisible();\n\t},\n\tgetTaskIndex: function (id) {\n\t\treturn this.$data.tasksStore.getBranchIndex(id);\n\t},\n\tgetGlobalTaskIndex: function (id) {\n\t\tthis.assert(id, \"Invalid argument\");\n\t\treturn this.$data.tasksStore.getIndexById(id);\n\t},\n\teachTask: function (code, parent, master) {\n\t\treturn this.$data.tasksStore.eachItem(utils.bind(code, master||this), parent);\n\t},\n\teachParent: function (callback, startTask, master) {\n\t\treturn this.$data.tasksStore.eachParent(utils.bind(callback, master || this), startTask);\n\t},\n\tchangeTaskId: function (oldid, newid) {\n\t\tthis.$data.tasksStore.changeId(oldid, newid);\n\t\tvar task = this.$data.tasksStore.getItem(newid);\n\n\t\tvar links = [];\n\n\t\tif (task.$source) {\n\t\t\tlinks = links.concat(task.$source);\n\t\t}\n\t\tif (task.$target) {\n\t\t\tlinks = links.concat(task.$target);\n\t\t}\n\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = this.getLink(links[i]);\n\t\t\tif (link.source == oldid) {\n\t\t\t\tlink.source = newid;\n\t\t\t}\n\t\t\tif (link.target == oldid) {\n\t\t\t\tlink.target = newid;\n\t\t\t}\n\t\t}\n\t},\n\tcalculateTaskLevel: function (item) {\n\t\treturn this.$data.tasksStore.calculateItemLevel(item);\n\t},\n\tgetNext: function (id) {\n\t\treturn this.$data.tasksStore.getNext(id);\n\t},\n\tgetPrev: function (id) {\n\t\treturn this.$data.tasksStore.getPrev(id);\n\t},\n\tgetParent: function (id) {\n\t\treturn this.$data.tasksStore.getParent(id);\n\t},\n\tsetParent: function (task, new_pid, silent) {\n\t\treturn this.$data.tasksStore.setParent(task, new_pid, silent);\n\t},\n\tgetSiblings: function (id) {\n\t\treturn this.$data.tasksStore.getSiblings(id).slice();\n\t},\n\tgetNextSibling: function (id) {\n\t\treturn this.$data.tasksStore.getNextSibling(id);\n\t},\n\tgetPrevSibling: function (id) {\n\t\treturn this.$data.tasksStore.getPrevSibling(id);\n\t},\n\tgetTaskByIndex: function(index){\n\t\tvar id = this.$data.tasksStore.getIdByIndex(index);\n\t\tif(this.isTaskExists(id)){\n\t\t\treturn this.getTask(id);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetChildren: function (id) {\n\t\tif(!this.hasChild(id)){\n\t\t\treturn [];\n\t\t}else{\n\t\t\treturn this.$data.tasksStore.getChildren(id).slice();\n\t\t}\n\t},\n\thasChild: function (id) {\n\t\treturn this.$data.tasksStore.hasChild(id);\n\t},\n\topen: function (id) {\n\t\tthis.$data.tasksStore.open(id);\n\t},\n\tclose: function (id) {\n\t\tthis.$data.tasksStore.close(id);\n\t},\n\tmoveTask: function (sid, tindex, parent) {\n\t\tthis.$data.tasksStore.move.apply(this.$data.tasksStore, arguments);\n\t},\n\tsort: function(field, desc, parent, silent) {\n\t\tvar render = !silent;//4th argument to cancel redraw after sorting\n\n\t\tthis.$data.tasksStore.sort(field, desc, parent);\n\t\tif (render) {\n\t\t\tthis.render();\n\t\t}\n\t\tthis.callEvent(\"onAfterSort\", [field, desc, parent]);\n\t}\n};\n};\n\nmodule.exports = createTasksDatastoreFacade;\n\n\n","var utils = require(\"../../utils/utils\");\nvar createTasksFacade = require(\"./datastore_tasks\"),\n\tcreateLinksFacade = require(\"./datastore_links\"),\n\tDataStore = require(\"../datastore/datastore\"),\n\tTreeDataStore = require(\"../datastore/treedatastore\"),\n\tcreateDatastoreSelect = require(\"../datastore/select\");\nvar datastoreRender = require(\"../datastore/datastore_render\");\n\nfunction getDatastores(){\n\tvar storeNames = this.$services.getService(\"datastores\");\n\tvar res = [];\n\tfor(var i = 0; i < storeNames.length; i++){\n\t\tres.push(this.getDatastore(storeNames[i]));\n\t}\n\treturn res;\n}\n\nvar createDatastoreFacade = function(){\n\treturn {\n\tcreateDatastore: function(config){\n\n\t\tvar $StoreType = (config.type || \"\").toLowerCase() == \"treedatastore\" ? TreeDataStore : DataStore;\n\n\t\tif (config) {\n\t\t\tvar self = this;\n\t\t\tconfig.openInitially = function(){ return self.config.open_tree_initially; };\n\t\t}\n\n\t\tvar store = new $StoreType(config);\n\t\tthis.mixin(store, createDatastoreSelect(store));\n\n\t\tif (config.name) {\n\t\t\tvar servicePrefix = \"datastore:\";\n\n\t\t\tthis.$services.dropService(servicePrefix + config.name);\n\t\t\tthis.$services.setService(servicePrefix + config.name, function() { return store; } );\n\n\t\t\tvar storeList = this.$services.getService(\"datastores\");\n\t\t\tif (!storeList) {\n\t\t\t\tstoreList = [];\n\t\t\t\tthis.$services.setService(\"datastores\", function() { return storeList; });\n\t\t\t\tstoreList.push(config.name);\n\t\t\t} else if (storeList.indexOf(config.name) < 0) {\n\t\t\t\tstoreList.push(config.name);\n\t\t\t}\n\n\t\t\tdatastoreRender.bindDataStore(config.name, this);\n\t\t}\n\n\t\treturn store;\n\t},\n\tgetDatastore: function(name){\n\t\treturn this.$services.getService(\"datastore:\" + name);\n\t},\n\n\trefreshData: function () {\n\t\tvar scrollState = this.getScrollState();\n\t\tthis.callEvent(\"onBeforeDataRender\", []);\n\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].refresh();\n\t\t}\n\n\t\tif(scrollState.x || scrollState.y){\n\t\t\tthis.scrollTo(scrollState.x, scrollState.y);\n\t\t}\n\t\tthis.callEvent(\"onDataRender\", []);\n\t},\n\n\tisChildOf: function(childId, parentId){\n\t\treturn this.$data.tasksStore.isChildOf(childId, parentId);\n\t},\n\n\trefreshTask: function (taskId, refresh_links) {\n\t\tvar task = this.getTask(taskId);\n\t\tif (task && this.isTaskVisible(taskId)) {\n\n\t\t\tthis.$data.tasksStore.refresh(taskId, !!this.getState().drag_id);// do quick refresh during drag and drop\n\n\t\t\tif (refresh_links !== undefined && !refresh_links)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\t\tthis.refreshLink(task.$source[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\t\tthis.refreshLink(task.$target[i]);\n\t\t\t}\n\t\t}else if(this.isTaskExists(taskId) && this.isTaskExists(this.getParent(taskId))){\n\t\t\tthis.refreshTask(this.getParent(taskId));\n\t\t}\n\n\t},\n\trefreshLink: function (linkId) {\n\t\tthis.$data.linksStore.refresh(linkId, !!this.getState().drag_id);// do quick refresh during drag and drop\n\t},\n\n\tsilent: function(code){\n\t\tvar gantt = this;\n\t\tgantt.$data.tasksStore.silent(function(){\n\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\tcode();\n\t\t\t});\n\t\t});\n\t},\n\n\tclearAll: function () {\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].clearAll();\n\t\t}\n\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t\tthis.callEvent(\"onClear\", []);\n\t\tthis.render();\n\t},\n\t_clear_data: function () {\n\t\tthis.$data.tasksStore.clearAll();\n\t\tthis.$data.linksStore.clearAll();\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t},\n\n\tselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tif(!this.config.select_task)\n\t\t\treturn false;\n\t\tif (id){\n\n\t\t\tstore.select(id);\n\t\t}\n\t\treturn store.getSelectedId();\n\t},\n\tunselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tstore.unselect(id);\n\t},\n\tgetSelectedId: function() {\n\t\treturn this.$data.tasksStore.getSelectedId();\n\t}\n};\n};\n\nfunction createFacade(){\n\tvar res = utils.mixin({}, createDatastoreFacade());\n\tutils.mixin(res, createTasksFacade());\n\tutils.mixin(res, createLinksFacade());\n\treturn res;\n}\n\n\n\n\nmodule.exports = {create: createFacade};","var utils = require(\"../../utils/utils\");\nvar facadeFactory = require(\"./../facades/datastore\");\nvar calculateScaleRange = require(\"../gantt_data_range\");\nfunction initDataStores(gantt){\n\n\tvar facade = facadeFactory.create();\n\tutils.mixin(gantt, facade);\n\tvar tasksStore = gantt.createDatastore({\n\t\tname: \"task\",\n\t\ttype: \"treeDatastore\",\n\t\trootId: function(){return gantt.config.root_id;},\n\t\tinitItem: utils.bind(_init_task, gantt)\n\t});\n\n\tvar linksStore = gantt.createDatastore({\n\t\tname: \"link\",\n\t\tinitItem: utils.bind(_init_link, gantt)\n\t});\n\n\ttasksStore.attachEvent(\"onBeforeRefreshAll\", function(){\n\n\t\tvar order = tasksStore.getVisibleItems();\n\n\t\tfor(var i=0; i < order.length; i++){\n\t\t\tvar item = order[i];\n\t\t\titem.$index = i;\n\t\t\tgantt.resetProjectDates(item);\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onFilterItem\", function(id, task){\n\t\tvar min = null, max = null;\n\t\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\t\tif (gantt._isAllowedUnscheduledTask(task)) return true;\n\t\t\tmin = gantt.config.start_date.valueOf();\n\t\t\tmax = gantt.config.end_date.valueOf();\n\n\t\t\tif (+task.start_date > max || +task.end_date < +min)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\ttasksStore.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\tgantt._update_flags(oldId, newId);\n\t});\n\n\ttasksStore.attachEvent(\"onAfterUpdate\", function(id){\n\t\tgantt._update_parents(id);\n\t\tif(gantt.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar task = tasksStore.getItem(id);\n\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\tlinksStore.refresh(task.$source[i]);\n\t\t}\n\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\tlinksStore.refresh(task.$target[i]);\n\t\t}\n\t});\n\n\ttasksStore.attachEvent(\"onAfterItemMove\", function(sid, parent, tindex){\n\t\tvar source = gantt.getTask(sid);\n\n\t\tif(this.getNextSibling(sid) !== null){\n\t\t\tsource.$drop_target = this.getNextSibling(sid);\n\t\t} else if(this.getPrevSibling(sid) !== null){\n\t\t\tsource.$drop_target = \"next:\" + this.getPrevSibling(sid);\n\t\t}else{\n\t\t\tsource.$drop_target = \"next:null\";\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(action == \"delete\"){\n\t\t\tgantt._update_flags(id, null);\n\t\t}\n\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn;\n\t\t}\n\n\t\tif(gantt.config.fit_tasks && action !== \"paint\"){\n\t\t\tvar oldState = gantt.getState();\n\t\t\tcalculateScaleRange(gantt);\n\t\t\tvar newState = gantt.getState();\n\n\t\t\t//this._init_tasks_range();\n\t\t\tif (+oldState.min_date != +newState.min_date || +oldState.max_date != +newState.max_date) {\n\t\t\t\tgantt.render();\n\n\t\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\t\tif(action == \"add\" || action == \"move\" || action == \"delete\"){\n\t\t\tgantt.$layout.resize();\n\t\t}else if(!id){\n\t\t\tlinksStore.refresh();\n\t\t}\n\n\t});\n\n\tlinksStore.attachEvent(\"onAfterAdd\", function(id, link){\n\t\tsync_link(link);\n\t});\n\tlinksStore.attachEvent(\"onAfterUpdate\", function(id, link){\n\t\tsync_links();\n\t});\n\tlinksStore.attachEvent(\"onAfterDelete\", function(id, link){\n\t\tsync_link_delete(link);\n\t});\n\tlinksStore.attachEvent(\"onBeforeIdChange\", function(oldId, newId){\n\t\tsync_link_delete(gantt.mixin({id:oldId}, gantt.$data.linksStore.getItem(newId)));\n\t\tsync_link(gantt.$data.linksStore.getItem(newId));\n\t});\n\n\tfunction checkLinkedTaskVisibility(taskId){\n\t\tvar isVisible = gantt.isTaskVisible(taskId);\n\t\tif(!isVisible && gantt.isTaskExists(taskId)){\n\t\t\tvar parent = gantt.getParent(taskId);\n\t\t\tif(gantt.isTaskExists(parent) && gantt.isTaskVisible(parent)){\n\t\t\t\tparent = gantt.getTask(parent);\n\t\t\t\tif(gantt.isSplitTask(parent)){\n\t\t\t\t\tisVisible = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isVisible;\n\t}\n\n\tlinksStore.attachEvent(\"onFilterItem\", function(id, link){\n\t\tif (!gantt.config.show_links) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar sourceVisible = checkLinkedTaskVisibility(link.source);\n\t\tvar targetVisible = checkLinkedTaskVisibility(link.target);\n\n\t\tif (!(sourceVisible && targetVisible) ||\n\t\t\tgantt._isAllowedUnscheduledTask(gantt.getTask(link.source)) || gantt._isAllowedUnscheduledTask(gantt.getTask(link.target)))\n\t\t\treturn false;\n\n\t\treturn gantt.callEvent(\"onBeforeLinkDisplay\", [id, link]);\n\t});\n\n\n\t(function(){\n\t\t// delete all connected links after task is deleted\n\t\tvar treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tvar deletedLinks = {};\n\n\t\tgantt.attachEvent(\"onBeforeTaskDelete\", function(id, item){\n\t\t\tdeletedLinks[id] = treeHelper.getSubtreeLinks(gantt, id);\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onAfterTaskDelete\", function(id, item) {\n\t\t\tif(deletedLinks[id]){\n\t\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\t\tfor(var i in deletedLinks[id]){\n\t\t\t\t\t\tgantt.$data.linksStore.removeItem(i);\n\t\t\t\t\t\tsync_link_delete(deletedLinks[id][i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tdeletedLinks[id] = null;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t})();\n\n\tgantt.attachEvent(\"onAfterLinkDelete\", function(id, link) {\n\t\tgantt.refreshTask(link.source);\n\t\tgantt.refreshTask(link.target);\n\t});\n\n\tgantt.attachEvent(\"onParse\", sync_links);\n\n\tmapEvents({\n\t\tsource: linksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onLinkLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeLinkAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterLinkAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeLinkUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterLinkUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeLinkDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterLinkDelete\",\n\t\t\t\"onIdChange\":\"onLinkIdChange\"\n\t\t}\n\t});\n\n\tmapEvents({\n\t\tsource: tasksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onTaskLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeTaskAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterTaskAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeTaskUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterTaskUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeTaskDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterTaskDelete\",\n\t\t\t\"onIdChange\":\"onTaskIdChange\",\n\t\t\t\"onBeforeItemMove\":\"onBeforeTaskMove\",\n\t\t\t\"onAfterItemMove\":\"onAfterTaskMove\",\n\t\t\t\"onFilterItem\":\"onBeforeTaskDisplay\",\n\t\t\t\"onItemOpen\":\"onTaskOpened\",\n\t\t\t\"onItemClose\":\"onTaskClosed\",\n\t\t\t\"onBeforeSelect\":\"onBeforeTaskSelected\",\n\t\t\t\"onAfterSelect\":\"onTaskSelected\",\n\t\t\t\"onAfterUnselect\":\"onTaskUnselected\"\n\t\t}\n\t});\n\n\tgantt.$data = {\n\t\ttasksStore: tasksStore,\n\t\tlinksStore: linksStore\n\t};\n\n\tfunction sync_link(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tsourceTask.$source = sourceTask.$source || [];\n\t\t\tsourceTask.$source.push(link.id);\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\ttargetTask.$target = targetTask.$target || [];\n\t\t\ttargetTask.$target.push(link.id);\n\t\t}\n\t}\n\n\tfunction sync_link_delete(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tfor(var i = 0; i < sourceTask.$source.length; i++){\n\t\t\t\tif(sourceTask.$source[i] == link.id){\n\t\t\t\t\tsourceTask.$source.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\tfor(var i = 0; i < targetTask.$target.length; i++){\n\t\t\t\tif(targetTask.$target[i] == link.id){\n\t\t\t\t\ttargetTask.$target.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction sync_links() {\n\t\tvar task = null;\n\t\tvar tasks = gantt.$data.tasksStore.getItems();\n\n\t\tfor(var i = 0, len = tasks.length; i < len; i++){\n\t\t\ttask = tasks[i];\n\t\t\ttask.$source = [];\n\t\t\ttask.$target = [];\n\t\t}\n\n\t\tvar links = gantt.$data.linksStore.getItems();\n\t\tfor (var i = 0, len = links.length; i < len; i++) {\n\n\t\t\tvar link = links[i];\n\t\t\tsync_link(link);\n\t\t}\n\t}\n\n\tfunction mapEvents(conf){\n\t\tvar mapFrom = conf.source;\n\t\tvar mapTo = conf.target;\n\t\tfor(var i in conf.events){\n\t\t\t(function(sourceEvent, targetEvent){\n\t\t\t\tmapFrom.attachEvent(sourceEvent, function(){\n\t\t\t\t\treturn mapTo.callEvent(targetEvent, Array.prototype.slice.call(arguments));\n\t\t\t\t}, targetEvent);\n\t\t\t})(i, conf.events[i]);\n\t\t}\n\t}\n\n\tfunction _init_task(task) {\n\t\tif (!this.defined(task.id))\n\t\t\ttask.id = this.uid();\n\n\t\tif (task.start_date)\n\t\t\ttask.start_date = gantt.date.parseDate(task.start_date, \"xml_date\");\n\t\tif (task.end_date)\n\t\t\ttask.end_date = gantt.date.parseDate(task.end_date, \"xml_date\");\n\n\n\t\tvar duration = null;\n\t\tif (task.duration || task.duration === 0) {\n\t\t\ttask.duration = duration = task.duration * 1;\n\t\t}\n\n\t\tif (duration) {\n\t\t\tif (task.start_date && !task.end_date) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!task.start_date && task.end_date) {\n\t\t\t\ttask.start_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\tduration: -task.duration,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\n\t\tif (this._isAllowedUnscheduledTask(task)) {\n\t\t\tthis._set_default_task_timing(task);\n\t\t}\n\t\tthis._init_task_timing(task);\n\t\tif (task.start_date && task.end_date)\n\t\t\tthis.correctTaskWorkTime(task);\n\n\t\ttask.$source = [];\n\t\ttask.$target = [];\n\t\tif (task.parent === undefined) {\n\t\t\tthis.setParent(task, this.config.root_id);\n\t\t}\n\n\t\treturn task;\n\t}\n\n\tfunction _init_link(link) {\n\t\tif (!this.defined(link.id))\n\t\t\tlink.id = this.uid();\n\t\treturn link;\n\t}\n}\n\n\nmodule.exports = initDataStores;\n","function createLayoutFacade(){\n\n\tfunction getTimeline(gantt){\n\t\treturn gantt.$ui.getView(\"timeline\");\n\t}\n\n\tfunction getGrid(gantt){\n\t\treturn gantt.$ui.getView(\"grid\");\n\t}\n\n\tfunction getVerticalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t}\n\n\tfunction getHorizontalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t}\n\n\tvar DEFAULT_VALUE = \"DEFAULT_VALUE\";\n\n\tfunction tryCall(getView, method, args, fallback){\n\t\tvar view = getView(this);\n\t\tif (!(view && view.isVisible())) {\n\t\t\tif(fallback){\n\t\t\t\treturn fallback();\n\t\t\t}else{\n\t\t\t\treturn DEFAULT_VALUE;\n\t\t\t}\n\t\t} else {\n\t\t\treturn view[method].apply(view, args);\n\t\t}\n\t}\n\n\treturn {\n\n\t\tgetColumnIndex: function(name) {\n\t\t\tvar res = tryCall.call(this, getGrid, \"getColumnIndex\", [name]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tdateFromPos: function(x) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"dateFromPos\", Array.prototype.slice.call(arguments));\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn this.getState().min_date;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tposFromDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"posFromDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetRowTop: function(index) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getRowTop\", [index],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getRowTop\", [index]);}\n\t\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskTop: function(id) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemTop\", [id],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemTop\", [id]);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tgetTaskPosition: function(task, start_date, end_date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getItemPosition\", [task, start_date, end_date]);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\tvar top = this.getTaskTop(task.id);\n\t\t\t\tvar height = this.getTaskHeight();\n\n\t\t\t\treturn {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: top,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: 0\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskHeight: function() {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemHeight\", [],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemHeight\", []);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tcolumnIndexByDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"columnIndexByDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\troundTaskDates: function() {\n\t\t\ttryCall.call(this, getTimeline, \"roundTaskDates\", []);\n\t\t},\n\n\t\tgetScale: function() {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getScale\", []);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn null;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline || !timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn timeline._taskRenderer.rendered[id];\n\t\t\t}\n\t\t},\n\n\n\t\tgetLinkNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn timeline._linkRenderer.rendered[id];\n\t\t\t}\n\t\t},\n\n\t\tscrollTo: function(left, top){\n\t\t\tvar vertical = getVerticalScrollbar(this);\n\t\t\tvar horizontal = getHorizontalScrollbar(this);\n\n\t\t\tvar oldH = {position: 0},\n\t\t\t\toldV = {position: 0};\n\n\t\t\tif(vertical){\n\t\t\t\toldV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\toldH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tif (horizontal && left*1 == left){\n\t\t\t\thorizontal.scroll(left);\n\t\t\t}\n\t\t\tif(vertical && top*1 == top){\n\t\t\t\tvertical.scroll(top);\n\t\t\t}\n\n\t\t\tvar newV = {position: 0},\n\t\t\t\tnewH = {position: 0};\n\t\t\tif(vertical){\n\t\t\t\tnewV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\tnewH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onGanttScroll\", [oldH.position, oldV.position, newH.position, newV.position]);\n\t\t},\n\n\t\tshowDate: function(date){\n\t\t\tvar date_x = this.posFromDate(date);\n\t\t\tvar scroll_to = Math.max(date_x - this.config.task_scroll_offset, 0);\n\t\t\tthis.scrollTo(scroll_to);\n\t\t},\n\t\tshowTask: function(id) {\n\t\t\tvar pos = this.getTaskPosition(this.getTask(id));\n\n\t\t\tvar left = Math.max(pos.left - this.config.task_scroll_offset, 0);\n\n\t\t\tvar dataHeight = this._scroll_state().y;\n\t\t\tvar top;\n\t\t\tif(!dataHeight){\n\t\t\t\ttop = pos.top;\n\t\t\t}else{\n\t\t\t\ttop = pos.top - (dataHeight - this.config.row_height)/2;\n\t\t\t}\n\n\t\t\tthis.scrollTo(left, top);\n\t\t},\n\t\t_scroll_state: function(){\n\t\t\tvar result = {\n\t\t\t\tx: false,\n\t\t\t\ty: false,\n\t\t\t\tx_pos: 0,\n\t\t\t\ty_pos: 0,\n\t\t\t\tscroll_size: this.config.scroll_size + 1,//1px for inner content\n\t\t\t\tx_inner: 0,\n\t\t\t\ty_inner: 0\n\t\t\t};\n\n\t\t\tvar scrollVer = getVerticalScrollbar(this),\n\t\t\t\tscrollHor = getHorizontalScrollbar(this);\n\t\t\tif(scrollHor){\n\t\t\t\tvar horState = scrollHor.getScrollState();\n\t\t\t\tif(horState.visible){\n\t\t\t\t\tresult.x = horState.size;\n\t\t\t\t\tresult.x_inner = horState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.x_pos = horState.position || 0;\n\t\t\t}\n\n\t\t\tif(scrollVer){\n\t\t\t\tvar verState = scrollVer.getScrollState();\n\t\t\t\tif(verState.visible){\n\t\t\t\t\tresult.y = verState.size;\n\n\t\t\t\t\tresult.y_inner = verState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.y_pos = verState.position || 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tgetScrollState: function(){\n\t\t\tvar state = this._scroll_state();\n\t\t\treturn { x:state.x_pos, y:state.y_pos, inner_width:state.x, inner_height:state.y, width: state.x_inner, height: state.y_inner };\n\t\t}\n\n\t};\n\n}\n\nmodule.exports = createLayoutFacade;","module.exports = function(gantt) {\n\n};","var domHelpers = require(\"../../utils/dom_helpers\");\n\nvar initializer = (function() {\n\treturn function (gantt) {\n\t\treturn {\n\n\t\t\tgetVerticalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t\t\t},\n\t\t\tgetHorizontalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t\t\t},\n\n\t\t\t_legacyGridResizerClass: function(layout){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar r = resizers[i];\n\t\t\t\t\tvar gridResizer = false;\n\n\t\t\t\t\tvar prev = r.$parent.getPrevSibling(r.$id);\n\t\t\t\t\tif(prev && prev.$config && prev.$config.id === \"grid\"){\n\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar next = r.$parent.getNextSibling(r.$id);\n\t\t\t\t\t\tif(next && next.$config && next.$config.id === \"grid\"){\n\t\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(gridResizer){\n\t\t\t\t\t\tr.$config.css = (r.$config.css ? r.$config.css + \" \" : \"\") + \"gantt_grid_resize_wrap\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonCreated: function(layout) {\n\t\t\t\tvar first = true;\n\n\t\t\t\tthis._legacyGridResizerClass(layout);\n\n\t\t\t\tlayout.attachEvent(\"onBeforeResize\", function() {\n\t\t\t\t\tvar mainTimeline = gantt.$ui.getView(\"timeline\");\n\t\t\t\t\tif (mainTimeline)\n\t\t\t\t\t\tmainTimeline.$config.hidden = mainTimeline.$parent.$config.hidden = !gantt.config.show_chart;\n\n\t\t\t\t\tvar mainGrid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\t\tif(!mainGrid)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar showGrid = gantt.config.show_grid;\n\t\t\t\t\tif (first) {\n\t\t\t\t\t\tvar colsWidth = mainGrid._getColsTotalWidth();\n\t\t\t\t\t\tif (colsWidth !== false){\n\t\t\t\t\t\t\tgantt.config.grid_width = colsWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshowGrid = showGrid && !!gantt.config.grid_width;\n\t\t\t\t\t\tgantt.config.show_grid = showGrid;\n\t\t\t\t\t}\n\t\t\t\t\tmainGrid.$config.hidden = mainGrid.$parent.$config.hidden = !showGrid;\n\n\t\t\t\t\tif (!mainGrid.$config.hidden) {\n\t\t\t\t\t\t/* restrict grid width due to min_width, max_width, min_grid_column_width */\n\t\t\t\t\t\tvar grid_limits = mainGrid._getGridWidthLimits();\n\t\t\t\t\t\tif (grid_limits[0] && gantt.config.grid_width < grid_limits[0])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[0];\n\t\t\t\t\t\tif (grid_limits[1] && gantt.config.grid_width > grid_limits[1])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[1];\n\t\t\t\t\t\tif (mainTimeline && gantt.config.show_chart){\n\n\t\t\t\t\t\t\tmainGrid.$config.width = gantt.config.grid_width - 1;\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tif (mainTimeline && !domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t\t// timeline is being displayed after being not visible, reset grid with from full screen\n\t\t\t\t\t\t\t\t\tif (!mainGrid.$config.original_grid_width) {\n\t\t\t\t\t\t\t\t\t\tvar skinSettings = gantt.skins[gantt.skin];\n\t\t\t\t\t\t\t\t\t\tif(skinSettings && skinSettings.config && skinSettings.config.grid_width){\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width =  skinSettings.config.grid_width;\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tgantt.config.grid_width = mainGrid.$config.original_grid_width;\n\t\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmainGrid.$parent._setContentSize(mainGrid.$config.width, mainGrid.$config.height);\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, gantt.config.grid_width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\tif (mainGrid.$parent.$config.group) {\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, mainGrid.$parent.$config.width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (mainTimeline && domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t// hiding timeline, remember grid with to restore it when timeline is displayed again\n\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = gantt.config.grid_width;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfirst = false;\n\t\t\t\t});\n\t\t\t\tthis._initScrollStateEvents(layout);\n\t\t\t},\n\n\t\t\t_initScrollStateEvents: function(layout) {\n\t\t\t\tgantt._getVerticalScrollbar = this.getVerticalScrollbar;\n\t\t\t\tgantt._getHorizontalScrollbar = this.getHorizontalScrollbar;\n\n\t\t\t\tvar vertical = this.getVerticalScrollbar();\n\t\t\t\tvar horizontal = this.getHorizontalScrollbar();\n\t\t\t\tif (vertical) {\n\t\t\t\t\tvertical.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [scrollState.x, oldPos, scrollState.x, newPos]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (horizontal) {\n\t\t\t\t\thorizontal.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [oldPos, scrollState.y, newPos, scrollState.y]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tlayout.attachEvent(\"onResize\", function(){\n\t\t\t\t\tif (vertical && !gantt.$scroll_ver){\n\t\t\t\t\t\tgantt.$scroll_ver = vertical.$scroll_ver;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (horizontal && !gantt.$scroll_hor){\n\t\t\t\t\t\tgantt.$scroll_hor = horizontal.$scroll_hor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_findGridResizer: function(layout, grid){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\n\t\t\t\tvar gridFirst = true;\n\t\t\t\tvar gridResizer;\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar res = resizers[i];\n\t\t\t\t\tres._getSiblings();\n\t\t\t\t\tvar prev = res._behind;\n\t\t\t\t\tvar next = res._front;\n\t\t\t\t\tif(prev && prev.$content === grid || (prev.isChild && prev.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else if(next && next.$content === grid || (next.isChild && next.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tresizer: gridResizer,\n\t\t\t\t\tgridFirst: gridFirst\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tonInitialized: function (layout) {\n\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\tvar resizeInfo = this._findGridResizer(layout, grid);\n\n\t\t\t\t// expose grid resize events\n\t\t\t\tif(resizeInfo.resizer){\n\t\t\t\t\tvar gridFirst = resizeInfo.gridFirst,\n\t\t\t\t\t\tnext = resizeInfo.resizer;\n\t\t\t\t\tvar initialWidth;\n\t\t\t\t\tnext.attachEvent(\"onResizeStart\", function(prevCellWidth, nextCellWidth){\n\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tvar limits = grid._getGridWidthLimits();\n\n\t\t\t\t\t\t\t// min grid width is defined by min widths of its columns, unless grid has horizontal scroll\n\t\t\t\t\t\t\tif(!grid.$config.scrollable)\n\t\t\t\t\t\t\t\tviewCell.$config.minWidth = limits[0];\n\n\t\t\t\t\t\t\tviewCell.$config.maxWidth = limits[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialWidth = gridFirst ? prevCellWidth : nextCellWidth;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResizeStart\", [initialWidth]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResize\", function(newBehindSize, newFrontSize){\n\t\t\t\t\t\tvar newSize = gridFirst ? newBehindSize : newFrontSize;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResize\", [initialWidth, newSize]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResizeEnd\", function(oldBackSize, oldFrontSize, newBackSize, newFrontSize){\n\n\t\t\t\t\t\tvar oldSize = gridFirst ? oldBackSize : oldFrontSize;\n\t\t\t\t\t\tvar newSize = gridFirst ? newBackSize : newFrontSize;\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tviewCell.$config.minWidth = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar res = gantt.callEvent(\"onGridResizeEnd\", [oldSize, newSize]);\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\tgantt.config.grid_width = newSize;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\n\t\t\t}\n\t\t};\n\n\t};\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nvar initLinksDND = function(timeline, gantt) {\n\tvar _link_landing,\n\t\t_link_target_task,\n\t\t_link_target_task_start,\n\t\t_link_source_task,\n\t\t_link_source_task_start;\n\n\n\tfunction getVisibleMilestoneWidth() {\n\t\tvar origWidth = timeline.getItemHeight();//m-s have square shape\n\t\treturn Math.round(Math.sqrt(2 * origWidth * origWidth)) - 2;\n\t}\n\n\tfunction isMilestone(task) {\n\t\treturn gantt.getTaskType(task.type) == gantt.config.types.milestone;\n\t}\n\n\tfunction getDndState(){\n\t\treturn {\n\t\t\tlink_source_id : _link_source_task,\n\t\t\tlink_target_id : _link_target_task,\n\t\t\tlink_from_start : _link_source_task_start,\n\t\t\tlink_to_start : _link_target_task_start,\n\t\t\tlink_landing_area : _link_landing\n\t\t};\n\t}\n\n\tvar services = gantt.$services;\n\n\tvar state = services.getService(\"state\");\n\tvar DnD = services.getService(\"dnd\");\n\n\tstate.registerProvider(\"linksDnD\", getDndState);\n\n\tvar dnd = new DnD(timeline.$task_bars, { sensitivity : 0, updates_per_second : 60 }),\n\t\tstart_marker = \"task_start_date\",\n\t\tend_marker = \"task_end_date\",\n\t\tlink_edge_marker = \"gantt_link_point\",\n\t\tlink_landing_hover_area = \"gantt_link_control\";\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function(obj,e) {\n\t\tvar target = (e.target||e.srcElement);\n\t\tresetDndState();\n\t\tif(gantt.getState().drag_id)\n\t\t\treturn false;\n\n\t\tif(domHelpers.locateClassName(target, link_edge_marker)){\n\t\t\tif(domHelpers.locateClassName(target, start_marker))\n\t\t\t\t_link_source_task_start = true;\n\n\t\t\tvar sid = gantt.locate(e);\n\t\t\t_link_source_task = sid;\n\n\t\t\tvar t = gantt.getTask(sid);\n\t\t\tif(gantt.isReadonly(t)){\n\t\t\t\tresetDndState();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar shift = 0;\n\n\t\t\tthis._dir_start = getLinePos(t, !!_link_source_task_start, shift, timeline.$getConfig(), true);\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\n\t}, this));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function(obj,e) {\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\tupdateMarkedHtml(dnd.config.marker);\n\t}, this));\n\n\tfunction getLinePos(task, to_start, shift, cfg, isStart){\n\t\tvar taskPos = getMilestonePosition(task, function(task){ return gantt.getTaskPosition(task);}, cfg);\n\n\t\tvar pos = {x: taskPos.x, y: taskPos.y};\n\t\tif(!to_start){\n\t\t\tpos.x = taskPos.xEnd;\n\t\t}\n\n\t\t//var pos = gantt._get_task_pos(task, !!to_start);\n\t\tpos.y += gantt.config.row_height/2;\n\n\t\tvar offset = isMilestone(task) && isStart ? 2 : 0;\n\n\t\tshift = shift || 0;\n\t\tif(cfg.rtl)\n\t\t\tshift = shift * -1;\n\n\t\tpos.x += (to_start ? -1 : 1)*shift  - offset;\n\t\treturn pos;\n\t}\n\n\tfunction getMilestonePosition(task, getTaskPosition, cfg){\n\t\tvar pos = getTaskPosition(task);\n\n\t\tvar res = {\n\t\t\tx: pos.left,\n\t\t\ty: pos.top,\n\t\t\twidth: pos.width,\n\t\t\theight: pos.height\n\t\t};\n\n\t\tif(cfg.rtl){\n\t\t\tres.xEnd = res.x;\n\t\t\tres.x = res.xEnd + res.width;\n\t\t}else{\n\t\t\tres.xEnd = res.x + res.width;\n\t\t}\n\t\tres.yEnd = res.y + res.height;\n\n\t\tif(gantt.getTaskType(task.type) == gantt.config.types.milestone){\n\t\t\tvar milestoneWidth = getVisibleMilestoneWidth();\n\n\t\t\tres.x += (!cfg.rtl ? -1 : 1)*(milestoneWidth / 2);\n\t\t\tres.xEnd += (!cfg.rtl ? 1 : -1)*(milestoneWidth / 2);\n\n\t\t\t//pos.x -= milestoneWidth / 2;\n\t\t\t//pos.xEnd += milestoneWidth / 2;\n\t\t\tres.width = pos.xEnd - pos.x;\n\t\t}\n\n\n\t\treturn res;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function(obj,e) {\n\t\tvar dd = dnd.config;\n\t\tvar pos = dnd.getPosition(e);\n\t\tadvanceMarker(dd.marker, pos);\n\t\tvar landing = !!domHelpers.locateClassName(e, link_landing_hover_area);\n\n\t\tvar prevTarget = _link_target_task;\n\t\tvar prevLanding = _link_landing;\n\t\tvar prevToStart = _link_target_task_start;\n\n\t\tvar targ = gantt.locate(e),\n\t\t\tto_start = true;\n\t\t\n\t\t// can drag and drop link to another gantt on the page, such links are not supported\n\t\tvar sameGantt = domHelpers.isChildOf(e.target || e.srcElement, gantt.$root);\n\t\tif(!sameGantt){\n\t\t\tlanding = false;\n\t\t\ttarg = null;\n\t\t}\n\n\t\tif(landing){\n\t\t\t//refreshTask\n\t\t\tto_start = !domHelpers.locateClassName(e, end_marker);\n\t\t\tlanding = !!targ;\n\t\t}\n\n\t\t_link_target_task = targ;\n\t\t_link_landing = landing;\n\t\t_link_target_task_start = to_start;\n\n\t\tif(landing){\n\t\t\tvar t = gantt.getTask(targ);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar node = domHelpers.locateClassName(e, link_landing_hover_area);\n\t\t\tvar shift = 0;\n\t\t\tif(node){\n\t\t\t\tshift = Math.floor(node.offsetWidth  / 2);\n\t\t\t}\n\n\t\t\tthis._dir_end = getLinePos(t, !!_link_target_task_start,shift, config);\n\t\t}else{\n\t\t\tthis._dir_end = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t}\n\n\t\tvar targetChanged = !(prevLanding == landing && prevTarget == targ && prevToStart == to_start);\n\t\tif(targetChanged){\n\t\t\tif(prevTarget)\n\t\t\t\tgantt.refreshTask(prevTarget, false);\n\t\t\tif(targ)\n\t\t\t\tgantt.refreshTask(targ, false);\n\t\t}\n\n\t\tif(targetChanged){\n\t\t\tupdateMarkedHtml(dd.marker);\n\t\t}\n\n\t\tshowDirectingLine(this._dir_start.x, this._dir_start.y, this._dir_end.x, this._dir_end.y);\n\n\t\treturn true;\n\t}, this));\n\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function() {\n\t\tvar drag = getDndState();\n\n\t\tif(drag.link_source_id && drag.link_target_id && drag.link_source_id != drag.link_target_id){\n\t\t\tvar type = gantt._get_link_type(drag.link_from_start, drag.link_to_start);\n\n\t\t\tvar link = {source : drag.link_source_id, target: drag.link_target_id, type:type};\n\t\t\tif(link.type && gantt.isLinkAllowed(link))\n\t\t\t\tgantt.addLink(link);\n\t\t}\n\n\t\tresetDndState();\n\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\telse {\n\t\t\tif (drag.link_source_id)\n\t\t\t\tgantt.refreshTask(drag.link_source_id, false);\n\t\t\tif (drag.link_target_id)\n\t\t\t\tgantt.refreshTask(drag.link_target_id, false);\n\t\t}\n\t\tremoveDirectionLine();\n\t}, this));\n\n\tfunction updateMarkedHtml(marker){\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_tooltip\"];\n\t\tif(link.link_source_id && link.link_target_id){\n\t\t\tif(gantt.isLinkAllowed(link.link_source_id, link.link_target_id, link.link_from_start, link.link_to_start)){\n\t\t\t\tcss.push(\"gantt_allowed_link\");\n\t\t\t}else{\n\t\t\t\tcss.push(\"gantt_invalid_link\");\n\t\t\t}\n\t\t}\n\n\t\tvar className = gantt.templates.drag_link_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start);\n\t\tif(className)\n\t\t\tcss.push(className);\n\n\t\tvar html = \"<div class='\"+className+ \"'>\" +\n\t\t\tgantt.templates.drag_link(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start) +\n\t\t\t\"</div>\";\n\t\tmarker.innerHTML = html;\n\t}\n\n\tfunction advanceMarker(marker, pos){\n\t\tmarker.style.left = pos.x + 5 + \"px\";\n\t\tmarker.style.top = pos.y + 5 + \"px\";\n\t}\n\n\tfunction resetDndState(){\n\t\t_link_source_task =\n\t\t\t_link_source_task_start =\n\t\t\t\t_link_target_task = null;\n\t\t_link_target_task_start = true;\n\t}\n\tfunction showDirectingLine(s_x, s_y, e_x, e_y){\n\t\tvar div = getDirectionLine();\n\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_direction\"];\n\t\tif(gantt.templates.link_direction_class){\n\t\t\tcss.push(gantt.templates.link_direction_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start));\n\t\t}\n\n\t\tvar dist =Math.sqrt( (Math.pow(e_x - s_x, 2)) + (Math.pow(e_y - s_y, 2)) );\n\t\tdist = Math.max(0, dist - 3);\n\t\tif(!dist)\n\t\t\treturn;\n\n\t\tdiv.className = css.join(\" \");\n\t\tvar tan = (e_y - s_y)/(e_x - s_x),\n\t\t\tangle = Math.atan(tan);\n\n\t\tif(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 2){\n\t\t\tangle += Math.PI;\n\t\t}else if(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 3){\n\t\t\tangle -= Math.PI;\n\t\t}\n\n\n\n\t\tvar sin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\ttop = Math.round(s_y),\n\t\t\tleft = Math.round(s_x);\n\n\n\t\tvar style = [\n\t\t\t\"-webkit-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-moz-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-ms-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-o-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"width:\" + Math.round(dist) + \"px\"\n\t\t];\n\n\t\tif(window.navigator.userAgent.indexOf(\"MSIE 8.0\") != -1){\n\t\t\t//ms-filter breaks styles in ie9, so add it only for 8th\n\t\t\tstyle.push(\"-ms-filter: \\\"\" + ieTransform(sin, cos) + \"\\\"\");\n\n\t\t\tvar shiftLeft = Math.abs(Math.round(s_x - e_x)),\n\t\t\t\tshiftTop = Math.abs(Math.round(e_y - s_y));\n\t\t\t//fix rotation axis\n\t\t\tswitch(coordinateCircleQuarter(s_x, e_x, s_y, e_y)){\n\t\t\t\tcase 1:\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\tstyle.push(\"top:\" +  top + \"px\");\n\t\tstyle.push(\"left:\" +  left + \"px\");\n\n\t\tdiv.style.cssText = style.join(\";\");\n\t}\n\n\tfunction ieTransform(sin, cos){\n\t\treturn \"progid:DXImageTransform.Microsoft.Matrix(\"+\n\t\t\t\"M11 = \"+cos+\",\"+\n\t\t\t\"M12 = -\"+sin+\",\"+\n\t\t\t\"M21 = \"+sin+\",\"+\n\t\t\t\"M22 = \"+cos+\",\"+\n\t\t\t\"SizingMethod = 'auto expand'\"+\n\t\t\")\";\n\t}\n\tfunction coordinateCircleQuarter(sX, eX, sY, eY){\n\t\tif(eX >= sX){\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 1;\n\t\t\t}else{\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t}else{\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 2;\n\t\t\t}else{\n\t\t\t\treturn 3;\n\t\t\t}\n\t\t}\n\n\t}\n\tfunction getDirectionLine(){\n\t\tif(!dnd._direction){\n\t\t\tdnd._direction = document.createElement(\"div\");\n\t\t\ttimeline.$task_links.appendChild(dnd._direction);\n\t\t}\n\t\treturn dnd._direction;\n\t}\n\tfunction removeDirectionLine(){\n\t\tif(dnd._direction){\n\t\t\tif (dnd._direction.parentNode)\t//the event line can be detached because of data refresh\n\t\t\t\tdnd._direction.parentNode.removeChild(dnd._direction);\n\n\t\t\tdnd._direction = null;\n\t\t}\n\t}\n};\n\nmodule.exports = {\n\tcreateLinkDND: function(){\n\t\treturn {\n\t\t\tinit: initLinksDND\n\t\t};\n\t}\n};","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\");\nvar timeout = require(\"../../../utils/timeout\");\n\nfunction createTaskDND(timeline, gantt){\n\tvar services = gantt.$services;\n\treturn {\n\t\tdrag: null,\n\t\tdragMultiple: {},\n\t\t_events: {\n\t\t\tbefore_start: {},\n\t\t\tbefore_finish: {},\n\t\t\tafter_finish: {}\n\t\t},\n\t\t_handlers: {},\n\t\tinit: function () {\n\t\t\tthis._domEvents = gantt._createDomEventScope();\n\t\t\tthis.clear_drag_state();\n\t\t\tvar drag = gantt.config.drag_mode;\n\t\t\tthis.set_actions();\n\n\t\t\tvar stateService = services.getService(\"state\");\n\t\t\tstateService.registerProvider(\"tasksDnd\", utils.bind(function(){\n\t\t\t\treturn {\n\t\t\t\t\tdrag_id : this.drag ? this.drag.id : undefined,\n\t\t\t\t\tdrag_mode : this.drag ? this.drag.mode : undefined,\n\t\t\t\t\tdrag_from_start : this.drag ? this.drag.left : undefined\n\t\t\t\t};\n\t\t\t}, this));\n\n\t\t\tvar evs = {\n\t\t\t\t\"before_start\": \"onBeforeTaskDrag\",\n\t\t\t\t\"before_finish\": \"onBeforeTaskChanged\",\n\t\t\t\t\"after_finish\": \"onAfterTaskDrag\"\n\t\t\t};\n\t\t\t//for now, all drag operations will trigger the same events\n\t\t\tfor (var stage in this._events) {\n\t\t\t\tfor (var mode in drag) {\n\t\t\t\t\tthis._events[stage][mode] = evs[stage];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._handlers[drag.move] = this._move;\n\t\t\tthis._handlers[drag.resize] = this._resize;\n\t\t\tthis._handlers[drag.progress] = this._resize_progress;\n\t\t},\n\t\tset_actions: function () {\n\t\t\tvar data = timeline.$task_data;\n\t\t\tthis._domEvents.attach(data, \"mousemove\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_move(e || event);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(data, \"mousedown\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_down(e || event);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(data, \"mouseup\", gantt.bind(function (e) {\n\t\t\t\tthis.on_mouse_up(e || event);\n\t\t\t}, this));\n\t\t},\n\n\t\tclear_drag_state: function () {\n\t\t\tthis.drag = {\n\t\t\t\tid: null,\n\t\t\t\tmode: null,\n\t\t\t\tpos: null,\n\t\t\t\tstart_x: null,\n\t\t\t\tstart_y: null,\n\t\t\t\tobj: null,\n\t\t\t\tleft: null\n\t\t\t};\n\t\t\tthis.dragMultiple = {};\n\t\t},\n\t\t_resize: function (ev, shift, drag) {\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\tif (drag.left) {\n\t\t\t\tev.start_date = gantt.dateFromPos(coords_x.start + shift);\n\t\t\t\tif (!ev.start_date) {\n\t\t\t\t\tev.start_date = new Date(gantt.getState().min_date);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tev.end_date = gantt.dateFromPos(coords_x.end + shift);\n\t\t\t\tif (!ev.end_date) {\n\t\t\t\t\tev.end_date = new Date(gantt.getState().max_date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ev.end_date - ev.start_date < cfg.min_duration) {\n\t\t\t\tif (drag.left)\n\t\t\t\t\tev.start_date = gantt.calculateEndDate({start_date: ev.end_date, duration: -1, task: ev});\n\t\t\t\telse\n\t\t\t\t\tev.end_date = gantt.calculateEndDate({start_date: ev.start_date, duration: 1, task: ev});\n\t\t\t}\n\t\t\tgantt._init_task_timing(ev);\n\t\t},\n\t\t_resize_progress: function (ev, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar diffValue = !config.rtl ? (drag.pos.x - coords_x.start) : (coords_x.start - drag.pos.x);\n\n\t\t\tvar diff = Math.max(0, diffValue);\n\t\t\tev.progress = Math.min(1, diff / Math.abs(coords_x.end - coords_x.start));\n\t\t},\n\n\t\t_find_max_shift: function(dragItems, shift){\n\t\t\tvar correctShift;\n\t\t\tfor(var i in dragItems){\n\t\t\t\tvar drag = dragItems[i];\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\n\t\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\t\tvar minX = gantt.posFromDate( new Date(gantt.getState().min_date)),\n\t\t\t\t\tmaxX = gantt.posFromDate( new Date(gantt.getState().max_date));\n\n\t\t\t\tif(coords_x.end + shift > maxX){\n\t\t\t\t\tvar maxShift = maxX - coords_x.end;\n\t\t\t\t\tif(maxShift < correctShift || correctShift === undefined){\n\t\t\t\t\t\tcorrectShift = maxShift;\n\t\t\t\t\t}\n\t\t\t\t}else if(coords_x.start + shift < minX){\n\t\t\t\t\tvar minShift = minX - coords_x.start;\n\t\t\t\t\tif(minShift < correctShift || correctShift === undefined){\n\t\t\t\t\t\tcorrectShift = minShift;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn correctShift;\n\t\t},\n\t\t_move: function (ev, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(ev, drag);\n\t\t\tvar new_start = gantt.dateFromPos(coords_x.start + shift),\n\t\t\t\tnew_end = gantt.dateFromPos(coords_x.end + shift);\n\t\t\tif (!new_start) {\n\t\t\t\tev.start_date = new Date(gantt.getState().min_date);\n\t\t\t\tev.end_date = gantt.dateFromPos(gantt.posFromDate(ev.start_date) + (coords_x.end - coords_x.start));\n\t\t\t} else if (!new_end) {\n\t\t\t\tev.end_date = new Date(gantt.getState().max_date);\n\t\t\t\tev.start_date = gantt.dateFromPos(gantt.posFromDate(ev.end_date) - (coords_x.end - coords_x.start));\n\t\t\t} else {\n\t\t\t\tev.start_date = new_start;\n\t\t\t\tev.end_date = new_end;\n\t\t\t}\n\t\t},\n\t\t_drag_task_coords: function (t, drag) {\n\t\t\tvar start = drag.obj_s_x = drag.obj_s_x || gantt.posFromDate(t.start_date);\n\t\t\tvar end = drag.obj_e_x = drag.obj_e_x || gantt.posFromDate(t.end_date);\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: end\n\t\t\t};\n\t\t},\n\t\t_mouse_position_change: function (oldPos, newPos) {\n\t\t\tvar dx = oldPos.x - newPos.x,\n\t\t\t\tdy = oldPos.y - newPos.y;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t},\n\t\t_is_number: function (n) {\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t},\n\n\t\ton_mouse_move: function (e) {\n\t\t\tif (this.drag.start_drag) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\tvar sX = this.drag.start_drag.start_x,\n\t\t\t\t\tsY = this.drag.start_drag.start_y;\n\n\t\t\t\tif ((Date.now() - this.drag.timestamp > 50) ||\n\t\t\t\t\t(this._is_number(sX) && this._is_number(sY) && this._mouse_position_change({\n\t\t\t\t\t\tx: sX,\n\t\t\t\t\t\ty: sY\n\t\t\t\t\t}, pos) > 20)) {\n\t\t\t\t\tthis._start_dnd(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar drag = this.drag;\n\n\t\t\tif (drag.mode) {\n\t\t\t\tif (!timeout(this, 40))//limit update frequency\n\t\t\t\t\treturn;\n\n\t\t\t\tthis._update_on_move(e);\n\n\t\t\t}\n\t\t},\n\n\t\t_update_item_on_move: function(shift, id, mode, drag, e){\n\t\t\tvar ev = gantt.getTask(id);\n\t\t\tvar original = gantt.mixin({}, ev);\n\t\t\tvar copy = gantt.mixin({}, ev);\n\t\t\tthis._handlers[mode].apply(this, [copy, shift, drag]);\n\t\t\tgantt.mixin(ev, copy, true);\n\t\t\t//gantt._update_parents(drag.id, true);\n\t\t\tgantt.callEvent(\"onTaskDrag\", [ev.id, mode, copy, original, e]);\n\t\t\tgantt.mixin(ev, copy, true);\n\t\t\tgantt.refreshTask(id);\n\t\t},\n\n\t\t_update_on_move: function (e) {\n\t\t\tvar drag = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (drag.mode) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t\t\tif (drag.pos && drag.pos.x == pos.x)\n\t\t\t\t\treturn;\n\n\t\t\t\tdrag.pos = pos;\n\n\t\t\t\tvar curr_date = gantt.dateFromPos(pos.x);\n\t\t\t\tif (!curr_date || isNaN(curr_date.getTime()))\n\t\t\t\t\treturn;\n\n\n\t\t\t\tvar shift = pos.x - drag.start_x;\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\n\t\t\t\tif (this._handlers[drag.mode]) {\n\n\t\t\t\t\tif(gantt.isSummaryTask(ev) && gantt.config.drag_project && drag.mode == config.drag_mode.move){\n\n\t\t\t\t\t\tvar initialDrag = {};\n\t\t\t\t\t\tinitialDrag[drag.id] = utils.copy(drag);\n\t\t\t\t\t\tvar maxShift = this._find_max_shift(utils.mixin(initialDrag, this.dragMultiple), shift);\n\t\t\t\t\t\tif(maxShift !== undefined){\n\t\t\t\t\t\t\tshift = maxShift;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\t\t\t\t\t\tfor(var i in this.dragMultiple){\n\t\t\t\t\t\t\tvar childDrag =  this.dragMultiple[i];\n\t\t\t\t\t\t\tthis._update_item_on_move(shift, childDrag.id, childDrag.mode, childDrag, e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\t\t\t\t\t}\n\t\t\t\t\tgantt._update_parents(drag.id);\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\ton_mouse_down: function (e, src) {\n\t\t\t// on Mac we do not get onmouseup event when clicking right mouse button leaving us in dnd state\n\t\t\t// let's ignore right mouse button then\n\t\t\tif (e.button == 2 && e.button !== undefined)\n\t\t\t\treturn;\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar id = gantt.locate(e);\n\t\t\tvar task = null;\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\ttask = gantt.getTask(id);\n\t\t\t}\n\n\t\t\tif (gantt.isReadonly(task) || this.drag.mode) return;\n\n\t\t\tthis.clear_drag_state();\n\n\t\t\tsrc = src || (e.target || e.srcElement);\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tvar drag = this._get_drag_mode(className, src);\n\n\t\t\tif (!className || !drag) {\n\t\t\t\tif (src.parentNode)\n\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\t\t\t\telse\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!drag) {\n\t\t\t\tif (gantt.checkEvent(\"onMouseDown\") && gantt.callEvent(\"onMouseDown\", [className.split(\" \")[0]])) {\n\t\t\t\t\tif (src.parentNode)\n\t\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (drag.mode && drag.mode != config.drag_mode.ignore && config[\"drag_\" + drag.mode]) {\n\t\t\t\t\tid = gantt.locate(src);\n\t\t\t\t\ttask = gantt.copy(gantt.getTask(id) || {});\n\n\t\t\t\t\tif (gantt.isReadonly(task)) {\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((gantt.isSummaryTask(task) && !config.drag_project) && drag.mode != config.drag_mode.progress) {//only progress drag is allowed for tasks with flexible duration\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrag.id = id;\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\t\tdrag.start_x = pos.x;\n\t\t\t\t\tdrag.start_y = pos.y;\n\t\t\t\t\tdrag.obj = task;\n\t\t\t\t\tthis.drag.start_drag = drag;\n\t\t\t\t\tthis.drag.timestamp = Date.now();\n\n\t\t\t\t} else\n\t\t\t\t\tthis.clear_drag_state();\n\t\t\t}\n\t\t},\n\t\t_fix_dnd_scale_time: function (task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar unit = gantt.getScale().unit,\n\t\t\t\tstep = gantt.getScale().step;\n\t\t\tif (!config.round_dnd_dates) {\n\t\t\t\tunit = 'minute';\n\t\t\t\tstep = config.time_step;\n\t\t\t}\n\n\t\t\tfunction fixStart(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(task.start_date, undefined, task))\n\t\t\t\t\ttask.start_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\t\tduration: -1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction fixEnd(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(new Date(task.end_date - 1), undefined, task))\n\t\t\t\t\ttask.end_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\t\tduration: 1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\t\tfixStart(task);\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.roundDate({date: task.end_date, unit: unit, step: step});\n\t\t\t\t\tfixEnd(task);\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\tfixStart(task);\n\t\t\t\ttask.end_date = gantt.calculateEndDate(task);\t\t\t\t\n\t\t\t}\n\t\t},\n\t\t_fix_working_times: function (task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar drag = drag || {mode: config.drag_mode.move};\n\t\t\t\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.getClosestWorkTime({date: task.end_date, dir: 'past', task: task});\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\tgantt.correctTaskWorkTime(task);\n\t\t\t}\n\t\t},\n\n\t\t_finalize_mouse_up: function(taskId, config, drag, e){\n\t\t\tvar ev = gantt.getTask(taskId);\n\n\t\t\tif (config.work_time && config.correct_work_time) {\n\t\t\t\tthis._fix_working_times(ev, drag);\n\t\t\t}\n\n\t\t\tthis._fix_dnd_scale_time(ev, drag);\n\n\t\t\tif (!this._fireEvent(\"before_finish\", drag.mode, [taskId, drag.mode, gantt.copy(drag.obj), e])) {\n\t\t\t\t//drag.obj._dhx_changed = false;\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tif(taskId == drag.id){\n\t\t\t\t\tdrag.obj._dhx_changed = false;\n\t\t\t\t\tgantt.mixin(ev, drag.obj, true);\n\t\t\t\t}\n\n\n\t\t\t\tgantt.refreshTask(ev.id);\n\t\t\t} else {\n\t\t\t\tvar drag_id = taskId;\n\n\t\t\t\tgantt._init_task_timing(ev);\n\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tgantt.updateTask(ev.id);\n\t\t\t\tthis._fireEvent(\"after_finish\", drag.mode, [drag_id, drag.mode, e]);\n\t\t\t}\n\n\t\t},\n\n\t\ton_mouse_up: function (e) {\n\n\t\t\tvar drag = this.drag;\n\t\t\tif (drag.mode && drag.id) {\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\t//drop\n\t\t\t\tvar ev = gantt.getTask(drag.id);\n\t\t\t\tvar dragMultiple = this.dragMultiple;\n\n\t\t\t\tif(gantt.isSummaryTask(ev) && config.drag_project && drag.mode == config.drag_mode.move){\n\t\t\t\t\tfor(var i in dragMultiple){\n\t\t\t\t\t\tthis._finalize_mouse_up(dragMultiple[i].id, config, dragMultiple[i], e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._finalize_mouse_up(drag.id, config, drag, e);\n\t\t\t}\n\t\t\tthis.clear_drag_state();\n\t\t},\n\t\t_get_drag_mode: function (className, el) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar modes = config.drag_mode;\n\t\t\tvar classes = (className || \"\").split(\" \");\n\t\t\tvar classname = classes[0];\n\t\t\tvar drag = {mode: null, left: null};\n\t\t\tswitch (classname) {\n\t\t\t\tcase \"gantt_task_line\":\n\t\t\t\tcase \"gantt_task_content\":\n\t\t\t\t\tdrag.mode = modes.move;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_drag\":\n\t\t\t\t\tdrag.mode = modes.resize;\n\n\t\t\t\t\tvar dragProperty = el.getAttribute(\"data-bind-property\");\n\n\t\t\t\t\tif (dragProperty == \"start_date\") {\n\t\t\t\t\t\tdrag.left = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdrag.left = false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_progress_drag\":\n\t\t\t\t\tdrag.mode = modes.progress;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_link_control\":\n\t\t\t\tcase \"gantt_link_point\":\n\t\t\t\t\tdrag.mode = modes.ignore;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdrag = null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn drag;\n\n\t\t},\n\n\t\t_start_dnd: function (e) {\n\t\t\tvar drag = this.drag = this.drag.start_drag;\n\t\t\tdelete drag.start_drag;\n\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar id = drag.id;\n\t\t\tif (!cfg[\"drag_\" + drag.mode] || !gantt.callEvent(\"onBeforeDrag\", [id, drag.mode, e]) || !this._fireEvent(\"before_start\", drag.mode, [id, drag.mode, e])) {\n\t\t\t\tthis.clear_drag_state();\n\t\t\t} else {\n\t\t\t\tdelete drag.start_drag;\n\n\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\tif(gantt.isSummaryTask(task) && gantt.config.drag_project && drag.mode == cfg.drag_mode.move){\n\t\t\t\t\tgantt.eachTask(function(child){\n\t\t\t\t\t\tthis.dragMultiple[child.id] = gantt.mixin({\n\t\t\t\t\t\t\tid: child.id,\n\t\t\t\t\t\t\tobj: child\n\t\t\t\t\t\t}, this.drag);\n\t\t\t\t\t}, task.id, this);\n\t\t\t\t}\n\n\t\t\t\tgantt.callEvent(\"onTaskDragStart\", []);\n\t\t\t}\n\n\t\t},\n\t\t_fireEvent: function (stage, mode, params) {\n\t\t\tgantt.assert(this._events[stage], \"Invalid stage:{\" + stage + \"}\");\n\n\t\t\tvar trigger = this._events[stage][mode];\n\n\t\t\tgantt.assert(trigger, \"Unknown after drop mode:{\" + mode + \"}\");\n\t\t\tgantt.assert(params, \"Invalid event arguments\");\n\n\n\t\t\tif (!gantt.checkEvent(trigger))\n\t\t\t\treturn true;\n\n\t\t\treturn gantt.callEvent(trigger, params);\n\t\t},\n\n\t\tround_task_dates: function(task){\n\t\t\tvar drag_state = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (!drag_state) {\n\t\t\t\tdrag_state = {mode: config.drag_mode.move};\n\t\t\t}\n\t\t\tthis._fix_dnd_scale_time(task, drag_state);\n\t\t},\n\t\tdestructor: function(){\n\t\t\tthis._domEvents.detachAll();\n\t\t}\n\t};\n}\n\nfunction initTaskDND() {\n\tvar _tasks_dnd;\n\treturn {\n\t\textend: function(timeline){\n\t\t\ttimeline.roundTaskDates = function (task) {\n\t\t\t\t_tasks_dnd.round_task_dates(task);\n\t\t\t};\n\n\t\t},\n\t\tinit: function(timeline, gantt){\n\t\t\t_tasks_dnd = createTaskDND(timeline, gantt);\n\t\t\t// TODO: entry point for touch handlers, move touch to timeline\n\t\t\ttimeline._tasks_dnd = _tasks_dnd;\n\t\t\treturn _tasks_dnd.init(gantt);\n\t\t},\n\t\tdestructor: function(){\n\t\t\t_tasks_dnd.destructor();\n\t\t\t_tasks_dnd = null;\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tcreateTaskDND: initTaskDND\n};\n","var utils = require(\"../../../utils/utils\"),\n\ttaskDnD = require(\"./tasks_dnd\"),\n\tlinkDnD = require(\"./links_dnd\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\tvar services = gantt.$services;\n\t\treturn {\n\t\t\tonCreated: function (timeline) {\n\t\t\t\tvar config = timeline.$config;\n\t\t\t\tconfig.bind = utils.defined(config.bind) ? config.bind : \"task\";\n\t\t\t\tconfig.bindLinks = utils.defined(config.bindLinks) ? config.bindLinks : \"link\";\n\n\t\t\t\ttimeline._linksDnD = linkDnD.createLinkDND();\n\t\t\t\ttimeline._tasksDnD = taskDnD.createTaskDND();\n\t\t\t\ttimeline._tasksDnD.extend(timeline);\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (timeline) {\n\t\t\t\tthis._attachDomEvents(gantt);\n\n\t\t\t\tthis._attachStateProvider(gantt, timeline);\n\n\t\t\t\ttimeline._tasksDnD.init(timeline, gantt);\n\t\t\t\ttimeline._linksDnD.init(timeline, gantt);\n\n\t\t\t\tif(timeline.$config.id == \"timeline\"){\n\t\t\t\t\tthis.extendDom(timeline);\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\t\t\t\tthis._clearDomEvents(gantt);\n\t\t\t\tthis._clearStateProvider(gantt);\n\t\t\t},\n\t\t\textendDom: function(timeline){\n\t\t\t\tgantt.$task = timeline.$task;\n\t\t\t\tgantt.$task_scale = timeline.$task_scale;\n\t\t\t\tgantt.$task_data = timeline.$task_data;\n\t\t\t\tgantt.$task_bg = timeline.$task_bg;\n\t\t\t\tgantt.$task_links = timeline.$task_links;\n\t\t\t\tgantt.$task_bars = timeline.$task_bars;\n\t\t\t},\n\n\t\t\t_clearDomEvents: function(){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\t_attachDomEvents: function(gantt){\n\t\t\t\tfunction _delete_link_handler(id, e) {\n\t\t\t\t\tif (id && this.callEvent(\"onLinkDblClick\", [id, e])) {\n\n\t\t\t\t\t\tvar link = this.getLink(id);\n\t\t\t\t\t\tif (this.isReadonly(link)) return;\n\n\t\t\t\t\t\tvar title = \"\";\n\t\t\t\t\t\tvar question = this.locale.labels.link + \" \" + this.templates.link_description(this.getLink(id)) + \" \" + this.locale.labels.confirm_link_deleting;\n\n\t\t\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\t\t\tgantt._dhtmlx_confirm(question, title, function () {\n\t\t\t\t\t\t\t\tgantt.deleteLink(id);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, (this.config.touch ? 300 : 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_task_link\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar id = this.locate(e, this.config.link_attribute);\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\tthis.callEvent(\"onLinkClick\", [id, e]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_scale_cell\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\t\t\t\t\tvar date = gantt.dateFromPos(pos.x);\n\t\t\t\t\tvar coll = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\t\t\tvar coll_date = gantt.getScale().trace_x[coll];\n\n\t\t\t\t\tgantt.callEvent(\"onScaleClick\", [e, coll_date]);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_task_link\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e, gantt.config.link_attribute);\n\t\t\t\t\t_delete_link_handler.call(this, id, e);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_link_point\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e),\n\t\t\t\t\t\ttask = this.getTask(id);\n\n\t\t\t\t\tvar link = null;\n\t\t\t\t\tif (trg.parentNode && domHelpers.getClassName(trg.parentNode)) {\n\t\t\t\t\t\tif (domHelpers.getClassName(trg.parentNode).indexOf(\"_left\") > -1) {\n\t\t\t\t\t\t\tlink = task.$target[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink = task.$source[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (link)\n\t\t\t\t\t\t_delete_link_handler.call(this, link, e);\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), this.$task);\n\t\t\t},\n\n\t\t\t_attachStateProvider: function(gantt, timeline){\n\t\t\t\tvar self = timeline;\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.registerProvider(\"tasksTimeline\", function(){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tscale_unit: self._tasks ? self._tasks.unit : undefined,\n\t\t\t\t\t\tscale_step:  self._tasks ? self._tasks.step  : undefined\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_clearStateProvider: function(){\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.unregisterProvider(\"tasksTimeline\");\n\t\t\t}\n\t\t};\n\t};\n\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../../../../utils/dom_helpers\");\n\n/**\n * methods for highlighting current drag and drop position\n */\n\nfunction highlightPosition(target, root, grid){\n\tvar markerPos = getTaskMarkerPosition(target, grid);\n\t// setting position of row\n\troot.marker.style.left = 10 + \"px\";\n\troot.marker.style.top = markerPos.y + \"px\";\n\tvar markerLine = root.markerLine;\n\tif(!markerLine){\n\t\tmarkerLine = document.createElement(\"div\");\n\t\tmarkerLine.className = \"gantt_drag_marker gantt_grid_dnd_marker\";\n\t\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\t\tmarkerLine.style.pointerEvents = \"none\";\n\t\tdocument.body.appendChild(markerLine);\n\t\troot.markerLine = markerLine;\n\t}\n\tif(target.child){\n\t\thighlightFolder(target, markerLine, grid);\n\t}else{\n\t\thighlightRow(target, markerLine, grid);\n\t}\n}\n\nfunction removeLineHighlight(root){\n\tif(root.markerLine && root.markerLine.parentNode){\n\t\troot.markerLine.parentNode.removeChild(root.markerLine);\n\t}\n\troot.markerLine = null;\n}\n\nfunction highlightRow(target, markerLine, grid){\n\tvar linePos = getLineMarkerPosition(target, grid);\n\n\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\tmarkerLine.style.left = linePos.x + \"px\";\n\tmarkerLine.style.height = \"4px\";\n\n\tmarkerLine.style.top = (linePos.y - 2) + \"px\";\n\tmarkerLine.style.width = linePos.width + \"px\";\n\n\treturn markerLine;\n}\nfunction highlightFolder(target, markerFolder, grid){\n\tvar id = target.targetParent;\n\tvar pos = gridToPageCoordinates({x: 0, y: grid.getItemTop(id)}, grid);\n\n\tmarkerFolder.innerHTML = \"<div class='gantt_grid_dnd_marker_folder'></div>\";\n\tmarkerFolder.style.width = grid.$grid_data.offsetWidth + \"px\";\n\tmarkerFolder.style.top = pos.y + \"px\";\n\tmarkerFolder.style.left = pos.x  + \"px\";\n\tmarkerFolder.style.height = grid.getItemHeight(id) + \"px\";\n\treturn markerFolder;\n}\n\nfunction getLineMarkerPosition(target, grid){\n\tvar store = grid.$config.rowStore;\n\tvar pos = {x:0, y:0};\n\tvar indentNode = grid.$grid_data.querySelector(\".gantt_tree_indent\");\n\tvar indent = 15;\n\tvar level = 0;\n\tif(indentNode){\n\t\tindent = indentNode.offsetWidth;\n\t}\n\tvar iconWidth = 40;\n\tif(target.targetId !== store.$getRootId()){\n\t\tvar itemTop = grid.getItemTop(target.targetId);\n\t\tvar itemHeight = grid.getItemHeight(target.targetId);\n\t\tlevel = store.exists(target.targetId) ? store.calculateItemLevel(store.getItem(target.targetId)) : 0;\n\n\t\tif(target.prevSibling){\n\t\t\tpos.y = itemTop;\n\t\t}else if(target.nextSibling){\n\t\t\tvar childCount = 0;\n\t\t\tstore.eachItem(function(child){\n\t\t\t\tif(store.getIndexById(child.id) !== -1)\n\t\t\t\t\tchildCount++;\n\t\t\t}, target.targetId);\n\n\t\t\tpos.y = itemTop + itemHeight + childCount*itemHeight;\n\t\t}else {\n\t\t\tpos.y = itemTop + itemHeight;\n\t\t\tlevel += 1;\n\t\t}\n\t}\n\tpos.x = iconWidth + level * indent;\n\tpos.width = Math.max(grid.$grid_data.offsetWidth - pos.x, 0);\n\treturn gridToPageCoordinates(pos, grid);\n}\n\nfunction gridToPageCoordinates(pos, grid){\n\tvar gridPos = domHelpers.getNodePosition(grid.$grid_data);\n\tpos.x += gridPos.x - grid.$grid.scrollLeft;\n\tpos.y += gridPos.y - grid.$grid_data.scrollTop;\n\treturn pos;\n}\n\nfunction getTaskMarkerPosition(e, grid) {\n\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\tvar ePos = domHelpers.getRelativeEventPosition(e, grid.$grid_data);\n\tvar store = grid.$config.rowStore;\n\t// row offset\n\tvar x = pos.x;\n\tvar y = ePos.y - 10;\n\n\tvar config = grid.$getConfig();\n\t// prevent moving row out of grid_data container\n\tif (y < pos.y) y = pos.y;\n\tvar gridHeight = store.countVisible() * config.row_height;\n\tif (y > pos.y + gridHeight - config.row_height) y = pos.y + gridHeight - config.row_height;\n\n\tpos.x = x;\n\tpos.y = y;\n\treturn pos;\n}\n\nmodule.exports = {\n\tremoveLineHighlight: removeLineHighlight,\n\thighlightPosition: highlightPosition\n};\n","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = true\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nmodule.exports = function getMultiLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store){\n\tvar result;\n\n\tif(targetTaskId !== store.$getRootId()){\n\t\tif(relTargetPos < 0.25){\n\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else if(relTargetPos > 0.60 && !(store.hasChild(targetTaskId) && store.getItem(targetTaskId).$open)){\n\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else {\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, targetTaskId, store);\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tif(store.hasChild(rootId) && eventTop >= 0){\n\t\t\tresult = dropTarget.lastChildTarget(dndTaskId, rootId, store);\n\t\t}else{\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, rootId, store);\n\t\t}\n\t}\n\n\treturn result;\n};","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = false\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nfunction getLast(store){\n\tvar current = store.getNext();\n\twhile(store.exists(current)){\n\n\t\tvar next = store.getNext(current);\n\t\tif(!store.exists(next)){\n\t\t\treturn current;\n\t\t}else{\n\t\t\tcurrent = next;\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findClosesTarget(dndTaskId, taskId, allowedLevel, store, up){\n\tvar prev = taskId;\n\twhile(store.exists(prev)){\n\t\tvar targetLevel = store.calculateItemLevel(store.getItem(prev));\n\t\tif((targetLevel === allowedLevel || targetLevel === (allowedLevel - 1)) && store.getBranchIndex(prev) > -1){\n\t\t\tbreak;\n\t\t}else {\n\t\t\tprev = up ? store.getPrev(prev) : store.getNext(prev);\n\t\t}\n\t}\n\n\tif(store.exists(prev)){\n\t\tif(store.calculateItemLevel(store.getItem(prev)) === allowedLevel){\n\t\t\treturn up ? dropTarget.nextSiblingTarget(dndTaskId, prev, store) : dropTarget.prevSiblingTarget(dndTaskId, prev, store);\n\t\t}else{\n\t\t\treturn dropTarget.firstChildTarget(dndTaskId, prev, store);\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findTargetAbove(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, true);\n}\nfunction findTargetBelow(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, false);\n}\n\nmodule.exports = function getSameLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store, level){\n\tvar result;\n\tif(targetTaskId !== store.$getRootId()) {\n\t\tif (relTargetPos < 0.5) {\n\t\t\tif (store.calculateItemLevel(store.getItem(targetTaskId)) === level) {\n\t\t\t\tif(store.getPrevSibling(targetTaskId)){\n\t\t\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, store.getPrevSibling(targetTaskId), store);\n\t\t\t\t}else{\n\t\t\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t\t\tif (result) {\n\t\t\t\t\tresult = findTargetBelow(dndTaskId, targetTaskId, level, store);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (store.calculateItemLevel(store.getItem(targetTaskId)) === level) {\n\t\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t} else {\n\t\t\t\tresult = findTargetBelow(dndTaskId, targetTaskId, level, store);\n\t\t\t\tif (result) {\n\t\t\t\t\tresult = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tvar rootLevel = store.getChildren(rootId);\n\t\tresult = dropTarget.createDropTargetObject();\n\t\tif(rootLevel.length && eventTop >= 0){\n\t\t\tresult = findTargetAbove(dndTaskId, getLast(store), level, store);\n\t\t}else{\n\t\t\tresult = findTargetBelow(dndTaskId, rootId, level, store);\n\t\t}\n\t}\n\n\treturn result;\n};\n","var domHelpers = require(\"../../../utils/dom_helpers\");\nvar dropTarget = require(\"./tasks_grid_dnd_marker_helpers/drop_target\");\nvar getLockedLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/locked_level\");\nvar getMultiLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/multi_level\");\nvar higlighter = require(\"./tasks_grid_dnd_marker_helpers/highlight\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\t\tvar datastore = grid.$config.rowStore;\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\tdnd.config.marker.style.opacity = 0.4;\n\t\t\telement.style.position = \"static\";\n\t\t\telement.style.pointerEvents = \"none\";\n\t\t}\n\t\t\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = grid.$config.rowStore;\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.level = store.calculateItemLevel(task);\n\t\tdnd.config.drop_target = dropTarget.createDropTargetObject({\n\t\t\ttargetParent: store.getParent(task.id),\n\t\t\ttargetIndex: store.getBranchIndex(task.id),\n\t\t\ttargetId: task.id,\n\t\t\tnextSibling: true\n\t\t});\n\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tfunction getTargetTaskId(e){\n\t\tvar y = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\t\tvar store = grid.$config.rowStore;\n\n\t\ty = y || 0;\n\n\t\tif(y < 0){\n\t\t\treturn store.$getRootId();\n\t\t}\n\n\t\tvar index = Math.floor(y / grid.getItemHeight());\n\n\t\tif (index > store.countVisible() - 1)\n\t\t\treturn store.$getRootId();\n\n\t\treturn store.getIdByIndex(index);\n\t}\n\n\tfunction getDropPosition(e){\n\t\tvar targetTaskId = getTargetTaskId(e);\n\t\tvar relTargetPos = null;\n\t\tvar store = grid.$config.rowStore;\n\t\tvar config = grid.$getConfig();\n\t\tvar lockLevel = !config.order_branch_free;\n\n\t\tvar eventTop = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\n\t\tif(targetTaskId !== store.$getRootId()) {\n\t\t\tvar rowTop = grid.getItemTop(targetTaskId);\n\t\t\tvar rowHeight = grid.getItemHeight();\n\t\t\trelTargetPos = (eventTop - rowTop) / rowHeight;\n\t\t}\n\n\t\tvar result;\n\t\tif(!lockLevel){\n\t\t\tresult = getMultiLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store);\n\t\t}else{\n\t\t\tresult = getLockedLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store, dnd.config.level);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar target = getDropPosition(e);\n\n\t\tif(!target || \n\t\t\tgantt.callEvent(\"onBeforeRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]) === false){\n\t\t\t\ttarget = dropTarget.createDropTargetObject(dnd.config.drop_target);\n\t\t\t}\n\t\t\n\t\thiglighter.highlightPosition(target, dnd.config, grid);\n\t\tdnd.config.drop_target = target;\n\n\t\tthis.callEvent(\"onRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = grid.$config.rowStore;\n\t\tvar task = store.getItem(dnd.config.id);\n\n\t\thiglighter.removeLineHighlight(dnd.config);\n\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\t\tvar target = dnd.config.drop_target;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]) === false) {\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tstore.move(dnd.config.id, target.targetIndex, target.targetParent);\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\t}\n\t\tstore.refresh(task.id);\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tfunction getStore(){\n\t\treturn gantt.getDatastore(grid.$config.bind);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar datastore = getStore();\n\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\telement.style.position = \"static\";\n\t\t}\n\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = getStore();\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.index = store.getBranchIndex(dnd.config.id);\n\t\tdnd.config.parent = task.parent;\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tdnd.lastTaskOfLevel = function (level) {\n\t\tvar last_item = null;\n\t\tvar store = getStore();\n\t\tvar tasks = store.getItems();\n\t\tfor (var i = 0, len = tasks.length; i < len; i++) {\n\t\t\tif (tasks[i].$level == level) {\n\t\t\t\tlast_item = tasks[i];\n\t\t\t}\n\t\t}\n\t\treturn last_item ? last_item.id : null;\n\t};\n\tdnd._getGridPos = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\t\tvar store = getStore();\n\t\t// row offset\n\t\tvar x = pos.x;\n\t\tvar y = e.pos.y - 10;\n\n\t\tvar config = grid.$getConfig();\n\t\t// prevent moving row out of grid_data container\n\t\tif (y < pos.y) y = pos.y;\n\t\tvar gridHeight = store.countVisible() * config.row_height;\n\t\tif (y > pos.y + gridHeight - config.row_height) y = pos.y + gridHeight - config.row_height;\n\n\t\tpos.x = x;\n\t\tpos.y = y;\n\t\treturn pos;\n\t}, gantt);\n\tdnd._getTargetY = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\n\t\tvar y = e.pageY - pos.y + (grid.$state.scrollTop || 0);\n\t\tif (y < 0)\n\t\t\ty = 0;\n\t\treturn y;\n\t}, gantt);\n\tdnd._getTaskByY = gantt.bind(function (y, dropIndex) {\n\n\t\tvar config = grid.$getConfig(),\n\t\t\tstore = getStore();\n\n\t\ty = y || 0;\n\n\t\tvar index = Math.floor(y / config.row_height);\n\t\tindex = dropIndex < index ? index - 1 : index;\n\n\t\tif (index > store.countVisible() - 1)\n\t\t\treturn null;\n\n\t\treturn store.getIdByIndex(index);\n\t}, gantt);\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar dd = dnd.config;\n\t\tvar pos = dnd._getGridPos(e);\n\n\t\tvar config = grid.$getConfig(),\n\t\t\tstore = getStore();\n\n\t\t// setting position of row\n\t\tdd.marker.style.left = pos.x + 10 + \"px\";\n\t\tdd.marker.style.top = pos.y + \"px\";\n\n\t\t// highlight row when mouseover\n\t\tvar item = store.getItem(dnd.config.id);\n\t\tvar targetY = dnd._getTargetY(e);\n\t\tvar el = dnd._getTaskByY(targetY, store.getIndexById(item.id));\n\n\t\tif (!store.exists(el)) {\n\t\t\tel = dnd.lastTaskOfLevel(config.order_branch_free ? item.$level : 0);\n\t\t\tif (el == dnd.config.id) {\n\t\t\t\tel = null;\n\t\t\t}\n\t\t}\n\n\t\tfunction allowedLevel(next, item) {\n\t\t\treturn (!(store.isChildOf(over.id, item.id)) && (next.$level == item.$level || config.order_branch_free));\n\t\t}\n\n\t\tif (store.exists(el)) {\n\t\t\tvar over = store.getItem(el);\n\n\t\t\tif (store.getIndexById(over.id) * config.row_height + config.row_height / 2 < targetY) {\n\t\t\t\t//hovering over bottom part of item, check can be drop to bottom\n\t\t\t\tvar index = store.getIndexById(over.id);\n\t\t\t\tvar nextId = store.getNext(over.id);//adds +1 when hovering over placeholder\n\t\t\t\tvar next = store.getItem(nextId);\n\t\t\t\tif (next) {\n\t\t\t\t\tif (next.id != item.id) {\n\t\t\t\t\t\tover = next; //there is a valid target\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (config.order_branch_free) {\n\t\t\t\t\t\t\tif (!(store.isChildOf(item.id, over.id) && store.getChildren(over.id).length == 1))\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstore.move(item.id, store.getBranchIndex(over.id) + 1, store.getParent(over.id));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//we at end of the list, check and drop at the end of list\n\t\t\t\t\tnextId = store.getIdByIndex(index);\n\t\t\t\t\tnext = store.getItem(nextId);\n\n\t\t\t\t\tif (allowedLevel(next, item) && next.id != item.id) {\n\t\t\t\t\t\tstore.move(item.id, -1, store.getParent(next.id));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (config.order_branch_free) {\n\t\t\t\tif (over.id != item.id && allowedLevel(over, item)) {\n\t\t\t\t\tif (!store.hasChild(over.id)) {\n\t\t\t\t\t\tover.$open = true;\n\t\t\t\t\t\tstore.move(item.id, -1, over.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (store.getIndexById(over.id) || config.row_height / 3 < targetY) return;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//if item is on different level, check the one before it\n\t\t\tvar index = store.getIndexById(over.id),\n\t\t\t\tprevId = store.getIdByIndex(index - 1);\n\n\t\t\tvar prev = store.getItem(prevId);\n\n\t\t\tvar shift = 1;\n\t\t\twhile ((!prev || prev.id == over.id) && index - shift >= 0) {\n\n\t\t\t\tprevId = store.getIdByIndex(index - shift);\n\t\t\t\tprev = store.getItem(prevId);\n\t\t\t\tshift++;\n\t\t\t}\n\n\t\t\tif (item.id == over.id) return;\n\t\t\t//replacing item under cursor\n\t\t\tif (allowedLevel(over, item) && item.id != over.id) {\n\t\t\t\tstore.move(item.id, 0, 0, over.id);\n\n\t\t\t} else if (over.$level == item.$level - 1 && !store.getChildren(over.id).length) {\n\t\t\t\tstore.move(item.id, 0, over.id);\n\n\t\t\t} else if (prev && (allowedLevel(prev, item)) && (item.id != prev.id)) {\n\t\t\t\tstore.move(item.id, -1, store.getParent(prev.id));\n\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = getStore();\n\t\tvar task = store.getItem(dnd.config.id);\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, dnd.config.parent, dnd.config.index]) === false) {\n\t\t\tstore.move(dnd.config.id, dnd.config.index, dnd.config.parent);\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, task.$drop_target]);\n\t\t}\n\t\t\n\t\tstore.refresh(task.id);\n\t\t//this.refreshData();\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var utils = require(\"../../../utils/utils\");\nvar rowDnd = require(\"./tasks_grid_dnd\");\nvar rowDndMarker = require(\"./tasks_grid_dnd_marker\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\treturn {\n\t\t\tonCreated: function (grid) {\n\t\t\t\tgrid.$config = utils.mixin(grid.$config, {\n\t\t\t\t\tbind: \"task\"\n\t\t\t\t});\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendGantt(grid);\n\t\t\t\t\tgantt.ext.inlineEditors = gantt.ext._inlineEditors.createEditors(grid);\n\t\t\t\t\tgantt.ext.inlineEditors.init();\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (grid) {\n\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\tif (config.order_branch) {\n\t\t\t\t\tif(config.order_branch == \"marker\"){\n\t\t\t\t\t\trowDndMarker.init(grid.$gantt, grid);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trowDnd.init(grid.$gantt, grid);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.initEvents(grid, gantt);\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendDom(grid);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDestroyed: function (grid) {\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tgantt.ext.inlineEditors.destructor();\n\t\t\t\t}\n\t\t\t\tthis.clearEvents(grid, gantt);\n\t\t\t},\n\n\t\t\tinitEvents: function (grid, gantt) {\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_row\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (id !== null) {\n\t\t\t\t\t\tvar task = this.getTask(id);\n\t\t\t\t\t\tif (config.scroll_on_click && !gantt._is_icon_open_click(e))\n\t\t\t\t\t\t\tthis.showDate(task.start_date);\n\t\t\t\t\t\tgantt.callEvent(\"onTaskRowClick\", [id, trg]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_grid_head_cell\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar column = trg.getAttribute(\"data-column-id\");\n\n\t\t\t\t\tif (!gantt.callEvent(\"onGridHeaderClick\", [column, e]))\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar config = grid.$getConfig();\n\n\t\t\t\t\tif (column == \"add\") {\n\t\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\t\tmouseEvents.callHandler(\"click\", \"gantt_add\", grid.$grid, [e, config.root_id]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (config.sort) {\n\t\t\t\t\t\tvar sorting_method = column,\n\t\t\t\t\t\t\tconf;\n\n\t\t\t\t\t\tfor (var i = 0; i < config.columns.length; i++) {\n\t\t\t\t\t\t\tif (config.columns[i].name == column) {\n\t\t\t\t\t\t\t\tconf = config.columns[i];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (conf && conf.sort !== undefined && conf.sort !== true) {\n\t\t\t\t\t\t\tsorting_method = conf.sort;\n\n\t\t\t\t\t\t\tif (!sorting_method) { // column sort property 'false', no sorting\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar sort = (this._sort && this._sort.direction && this._sort.name == column) ? this._sort.direction : \"desc\";\n\t\t\t\t\t\t// invert sort direction\n\t\t\t\t\t\tsort = (sort == \"desc\") ? \"asc\" : \"desc\";\n\t\t\t\t\t\tthis._sort = {\n\t\t\t\t\t\t\tname: column,\n\t\t\t\t\t\t\tdirection: sort\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.sort(sorting_method, sort == \"desc\");\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_add\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (config.readonly) return;\n\n\t\t\t\t\tvar item = {};\n\t\t\t\t\tthis.createTask(item, id ? id : gantt.config.root_id);\n\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t},\n\n\t\t\tclearEvents: function(grid, gantt){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\textendDom: function(grid){\n\t\t\t\tgantt.$grid = grid.$grid;\n\t\t\t\tgantt.$grid_scale = grid.$grid_scale;\n\t\t\t\tgantt.$grid_data = grid.$grid_data;\n\t\t\t},\n\t\t\textendGantt: function(grid){\n\t\t\t\tgantt.getGridColumns = gantt.bind(grid.getGridColumns, grid);\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeStart\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeStart\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResize\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResize\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResizeEnd\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeEnd\", arguments);\n\t\t\t\t});\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeComplete\", function(columns, totalWidth){\n\t\t\t\t\tgantt.config.grid_width = totalWidth;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n})();\n\nmodule.exports = initializer;","var helpers = require(\"../../../utils/helpers\");\n\nfunction createGridLineRender(gantt){\n\tfunction _render_grid_item(item, view) {\n\t\t//if (!_is_grid_visible.call(this))\n\t\t//\treturn null;\n\n\t\tvar columns = view.getGridColumns();\n\t\tvar config = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\n\t\tvar store = view.$config.rowStore;\n\n\t\tif(config.rtl){\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\n\t\tvar cells = [];\n\t\tvar has_child;\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\t\t\tvar cell;\n\n\t\t\tvar value;\n\t\t\tvar textValue;\n\t\t\tif (col.name == \"add\") {\n\t\t\t\tvar aria = gantt._waiAria.gridAddButtonAttrString(col);\n\n\t\t\t\tvalue = \"<div \" + aria + \" class='gantt_add'></div>\";\n\t\t\t\ttextValue = \"\";\n\t\t\t} else {\n\t\t\t\tif (col.template)\n\t\t\t\t\tvalue = col.template(item);\n\t\t\t\telse\n\t\t\t\t\tvalue = item[col.name];\n\n\t\t\t\tif (helpers.isDate(value))\n\t\t\t\t\tvalue = templates.date_grid(value, item);\n\t\t\t\ttextValue = value;\n\t\t\t\tvalue = \"<div class='gantt_tree_content'>\" + value + \"</div>\";\n\t\t\t}\n\t\t\tvar css = \"gantt_cell\" + (last ? \" gantt_last_cell\" : \"\");\n\n\t\t\tvar tree = [];\n\t\t\tif (col.tree) {\n\t\t\t\tfor (var j = 0; j < item.$level; j++)\n\t\t\t\t\ttree.push(templates.grid_indent(item));\n\n\t\t\t\thas_child = store.hasChild(item.id) && !(gantt.isSplitTask(item));\n\t\t\t\tif (has_child) {\n\t\t\t\t\ttree.push(templates.grid_open(item));\n\t\t\t\t\ttree.push(templates.grid_folder(item));\n\t\t\t\t} else {\n\t\t\t\t\ttree.push(templates.grid_blank(item));\n\t\t\t\t\ttree.push(templates.grid_file(item));\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar style = \"width:\" + (col.width - (last ? 1 : 0)) + \"px;\";\n\t\t\tif (this.defined(col.align))\n\t\t\t\tstyle += \"text-align:\" + col.align + \";\";\n\n\t\t\tvar aria = gantt._waiAria.gridCellAttrString(col, textValue);\n\n\t\t\ttree.push(value);\n\t\t\tif(config.rtl){\n\t\t\t\ttree = tree.reverse();\n\t\t\t}\n\t\t\tcell = \"<div class='\" + css + \"' data-column-index='\"+i+\"' data-column-name='\"+col.name+\"' style='\" + style + \"' \" + aria + \">\" + tree.join(\"\") + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tvar css = gantt.getGlobalTaskIndex(item.id) % 2 === 0 ? \"\" : \" odd\";\n\t\tcss += (item.$transparent) ? \" gantt_transparent\" : \"\";\n\n\t\tcss += (item.$dataprocessor_class ? \" \" + item.$dataprocessor_class : \"\");\n\n\t\tif (templates.grid_row_class) {\n\t\t\tvar css_template = templates.grid_row_class.call(gantt, item.start_date, item.end_date, item);\n\t\t\tif (css_template)\n\t\t\t\tcss += \" \" + css_template;\n\t\t}\n\n\t\tif(store.getSelectedId() == item.id) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\tvar el = document.createElement(\"div\");\n\t\tel.className = \"gantt_row\" + css + \" gantt_row_\" + gantt.getTaskType(item.type);\n\t\tvar height = view.getItemHeight();\n\t\tel.style.height = height + \"px\";\n\t\tel.style.lineHeight = height + \"px\";\n\n\t\tif(config.smart_rendering){\n\t\t\tel.style.position = \"absolute\";\n\t\t\tel.style.left = \"0px\";\n\t\t\tel.style.top = view.getItemTop(item.id) + \"px\";\n\t\t}\n\n\t\tif(view.$config.item_attribute){\n\t\t\tel.setAttribute(view.$config.item_attribute, item.id);\n\t\t}\n\n\t\tgantt._waiAria.taskRowAttr(item, el);\n\n\t\tel.innerHTML = cells.join(\"\");\n\t\treturn el;\n\t}\n\n\treturn _render_grid_item;\n}\n\nmodule.exports = createGridLineRender;\n\n","\nfunction createLinkRender(gantt){\n\nfunction _render_link_element(link, view) {\n\tvar config = view.$getConfig();\n\n\tvar pt = path_builder.get_endpoint(link, view);\n\tvar dy = pt.e_y - pt.y;\n\tvar dx = pt.e_x - pt.x;\n\tif(!dx && !dy){\n\t\treturn null;\n\t}\n\n\n\tvar dots = path_builder.get_points(link, view);\n\tvar lines = drawer.get_lines(dots, view);\n\n\tvar div = document.createElement(\"div\");\n\n\tvar css = \"gantt_task_link\";\n\n\tif (link.color) {\n\t\tcss += \" gantt_link_inline_color\";\n\t}\n\tvar cssTemplate = gantt.templates.link_class ? gantt.templates.link_class(link) : \"\";\n\tif (cssTemplate) {\n\t\tcss += \" \" + cssTemplate;\n\t}\n\n\tif (config.highlight_critical_path && gantt.isCriticalLink) {\n\t\tif (gantt.isCriticalLink(link))\n\t\t\tcss += \" gantt_critical_link\";\n\t}\n\n\tdiv.className = css;\n\n\tif(view.$config.link_attribute){\n\t\tdiv.setAttribute(view.$config.link_attribute, link.id);\n\t}\n\n\tfor (var i = 0; i < lines.length; i++) {\n\t\tif (i == lines.length - 1) {\n\t\t\tlines[i].size -= config.link_arrow_size;\n\t\t}\n\t\tvar el = drawer.render_line(lines[i], lines[i + 1], view);\n\t\tif (link.color) {\n\t\t\tel.firstChild.style.backgroundColor = link.color;\n\t\t}\n\t\tdiv.appendChild(el);\n\t}\n\n\tvar direction = lines[lines.length - 1].direction;\n\tvar endpoint = _render_link_arrow(dots[dots.length - 1], direction, view);\n\tif (link.color) {\n\t\tendpoint.style.borderColor = link.color;\n\t}\n\tdiv.appendChild(endpoint);\n\n\tgantt._waiAria.linkAttr(link, div);\n\n\treturn div;\n}\n\nfunction _render_link_arrow(point, direction, view) {\n\tvar config = view.$getConfig();\n\tvar div = document.createElement(\"div\");\n\tvar top = point.y;\n\tvar left = point.x;\n\n\tvar size = config.link_arrow_size;\n\tvar line_width = config.row_height;\n\tvar className = \"gantt_link_arrow gantt_link_arrow_\" + direction;\n\tswitch (direction) {\n\t\tcase drawer.dirs.right:\n\t\t\ttop -= (size - line_width) / 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.left:\n\t\t\ttop -= (size - line_width) / 2;\n\t\t\tbreak;\n\t\tcase drawer.dirs.up:\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.down:\n\t\t\ttop += size * 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tdiv.style.cssText = [\n\t\t\"top:\" + top + \"px\",\n\t\t\"left:\" + left + 'px'].join(';');\n\tdiv.className = className;\n\n\treturn div;\n}\n\n\nvar drawer = {\n\tcurrent_pos: null,\n\tdirs: {\"left\": 'left', \"right\": 'right', \"up\": 'up', \"down\": 'down'},\n\tpath: [],\n\tclear: function () {\n\t\tthis.current_pos = null;\n\t\tthis.path = [];\n\t},\n\tpoint: function (pos) {\n\t\tthis.current_pos = gantt.copy(pos);\n\t},\n\tget_lines: function (dots) {\n\t\tthis.clear();\n\t\tthis.point(dots[0]);\n\t\tfor (var i = 1; i < dots.length; i++) {\n\t\t\tthis.line_to(dots[i]);\n\t\t}\n\t\treturn this.get_path();\n\t},\n\tline_to: function (pos) {\n\t\tvar next = gantt.copy(pos);\n\t\tvar prev = this.current_pos;\n\n\t\tvar line = this._get_line(prev, next);\n\t\tthis.path.push(line);\n\t\tthis.current_pos = next;\n\t},\n\tget_path: function () {\n\t\treturn this.path;\n\t},\n\tget_wrapper_sizes: function (v, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\ty = v.y + (config.row_height - wrapper_size) / 2;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\tleft: v.x - v.size - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y - v.size,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y /*- wrapper_size/2*/,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn res;\n\t},\n\tget_line_sizes: function (v, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\tline_size = config.link_line_width,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\tsize = v.size + line_size;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\theight: line_size,\n\t\t\t\t\twidth: size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\theight: size,\n\t\t\t\t\twidth: line_size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\n\t\treturn res;\n\t},\n\trender_line: function (v, end, view) {\n\t\tvar pos = this.get_wrapper_sizes(v, view);\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.style.cssText = [\n\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"height:\" + pos.height + \"px\",\n\t\t\t\"width:\" + pos.width + \"px\"\n\t\t].join(';');\n\t\twrapper.className = \"gantt_line_wrapper\";\n\n\t\tvar innerPos = this.get_line_sizes(v, view);\n\t\tvar inner = document.createElement(\"div\");\n\t\tinner.style.cssText = [\n\t\t\t\"height:\" + innerPos.height + \"px\",\n\t\t\t\"width:\" + innerPos.width + \"px\",\n\t\t\t\"margin-top:\" + innerPos.marginTop + \"px\",\n\t\t\t\"margin-left:\" + innerPos.marginLeft + \"px\"\n\t\t].join(\";\");\n\n\t\tinner.className = \"gantt_link_line_\" + v.direction;\n\t\twrapper.appendChild(inner);\n\n\t\treturn wrapper;\n\t},\n\t_get_line: function (from, to) {\n\t\tvar direction = this.get_direction(from, to);\n\t\tvar vect = {\n\t\t\tx: from.x,\n\t\t\ty: from.y,\n\t\t\tdirection: this.get_direction(from, to)\n\t\t};\n\t\tif (direction == this.dirs.left || direction == this.dirs.right) {\n\t\t\tvect.size = Math.abs(from.x - to.x);\n\t\t} else {\n\t\t\tvect.size = Math.abs(from.y - to.y);\n\t\t}\n\t\treturn vect;\n\t},\n\tget_direction: function (from, to) {\n\t\tvar direction = 0;\n\t\tif (to.x < from.x) {\n\t\t\tdirection = this.dirs.left;\n\t\t} else if (to.x > from.x) {\n\t\t\tdirection = this.dirs.right;\n\t\t} else if (to.y > from.y) {\n\t\t\tdirection = this.dirs.down;\n\t\t} else {\n\t\t\tdirection = this.dirs.up;\n\t\t}\n\t\treturn direction;\n\t}\n\n};\n\nvar path_builder = {\n\n\tpath: [],\n\tclear: function () {\n\t\tthis.path = [];\n\t},\n\tcurrent: function () {\n\t\treturn this.path[this.path.length - 1];\n\t},\n\tpoint: function (next) {\n\t\tif (!next)\n\t\t\treturn this.current();\n\n\t\tthis.path.push(gantt.copy(next));\n\t\treturn next;\n\t},\n\tpoint_to: function (direction, diff, point) {\n\t\tif (!point)\n\t\t\tpoint = gantt.copy(this.point());\n\t\telse\n\t\t\tpoint = {x: point.x, y: point.y};\n\t\tvar dir = drawer.dirs;\n\t\tswitch (direction) {\n\t\t\tcase (dir.left):\n\t\t\t\tpoint.x -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.right):\n\t\t\t\tpoint.x += diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.up):\n\t\t\t\tpoint.y -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.down):\n\t\t\t\tpoint.y += diff;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn this.point(point);\n\t},\n\tget_points: function (link, view) {\n\t\tvar pt = this.get_endpoint(link, view);\n\t\tvar xy = gantt.config;\n\n\t\tvar dy = pt.e_y - pt.y;\n\t\tvar dx = pt.e_x - pt.x;\n\n\t\tvar dir = drawer.dirs;\n\n\t\tthis.clear();\n\t\tthis.point({x: pt.x, y: pt.y});\n\n\t\tvar shiftX = 2 * xy.link_arrow_size;//just random size for first line\n\t\tvar lineType = this.get_line_type(link, view.$getConfig());\n\n\t\tvar forward = (pt.e_x > pt.x);\n\t\tif (lineType.from_start && lineType.to_start) {\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t}\n\t\t\tthis.point_to(dir.right, shiftX);\n\n\t\t} else if (!lineType.from_start && lineType.to_start) {\n\t\t\tforward = (pt.e_x > (pt.x + 2 * shiftX));\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tdx -= shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx -= 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\n\t\t\t\tthis.point_to(dir.down, sign * (xy.row_height / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (xy.row_height / 2)));\n\t\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\t}\n\n\t\t} else if (!lineType.from_start && !lineType.to_start) {\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t}\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t} else if (lineType.from_start && !lineType.to_start) {\n\n\t\t\tforward = (pt.e_x > (pt.x - 2 * shiftX));\n\t\t\tthis.point_to(dir.left, shiftX);\n\n\t\t\tif (!forward) {\n\t\t\t\tdx += shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx += 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\t\t\t\tthis.point_to(dir.down, sign * (xy.row_height / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (xy.row_height / 2)));\n\t\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.path;\n\t},\n\tget_line_type: function(link, config){\n\t\tvar types = config.links;\n\t\tvar from_start = false, to_start = false;\n\t\tif (link.type == types.start_to_start) {\n\t\t\tfrom_start = to_start = true;\n\t\t} else if (link.type == types.finish_to_finish) {\n\t\t\tfrom_start = to_start = false;\n\t\t} else if (link.type == types.finish_to_start) {\n\t\t\tfrom_start = false;\n\t\t\tto_start = true;\n\t\t} else if (link.type == types.start_to_finish) {\n\t\t\tfrom_start = true;\n\t\t\tto_start = false;\n\t\t} else {\n\t\t\tgantt.assert(false, \"Invalid link type\");\n\t\t}\n\n\t\tif(config.rtl){\n\t\t\tfrom_start = !from_start;\n\t\t\tto_start = !to_start;\n\t\t}\n\n\t\treturn {from_start: from_start, to_start: to_start};\n\t},\n\n\tget_endpoint: function (link, view) {\n\t\tvar config = view.$getConfig();\n\n\t\tvar lineType = this.get_line_type(link, config);\n\t\tvar from_start = lineType.from_start,\n\t\t\tto_start = lineType.to_start;\n\n\t\tvar source = gantt.getTask(link.source);\n\t\tvar target = gantt.getTask(link.target);\n\n\t\tvar from = getMilestonePosition(source, view),\n\t\t\tto = getMilestonePosition(target, view);\n\n\t\treturn {\n\t\t\tx: from_start ? from.left : (from.left + from.width),\n\t\t\te_x: to_start ? to.left : (to.left + to.width),\n\t\t\ty: from.top,\n\t\t\te_y: to.top\n\t\t};\n\t}\n};\n\nfunction getMilestonePosition(task, view){\n\tvar config = view.$getConfig();\n\tvar pos = view.getItemPosition(task);\n\tif(gantt.getTaskType(task.type) == config.types.milestone){\n\t\tvar milestoneHeight = gantt.getTaskHeight();\n\t\tvar milestoneWidth = Math.sqrt(2*milestoneHeight*milestoneHeight);\n\t\tpos.left -= milestoneWidth / 2;\n\t\tpos.width = milestoneWidth;\n\t}\n\treturn pos;\n}\n\nreturn _render_link_element;\n\n}\n\nmodule.exports = createLinkRender;","function createTaskBgRender(gantt){\n\t//this.getTaskTop\n\tfunction _render_bg_line(item, view) {\n\t\tvar config = view.$getConfig(),\n\t\t\ttemplates = view.$getTemplates();\n\t\tvar cfg = view.getScale();\n\t\tvar count = cfg.count;\n\t\tvar row = document.createElement(\"div\");\n\t\tif (config.show_task_cells) {\n\t\t\tfor (var j = 0; j < count; j++) {\n\t\t\t\tvar width = cfg.width[j],\n\t\t\t\t\tcssclass = \"\";\n\n\t\t\t\tif (width > 0) {//do not render skipped columns\n\t\t\t\t\tvar cell = document.createElement(\"div\");\n\t\t\t\t\tcell.style.width = (width) + \"px\";\n\n\t\t\t\t\tcssclass = \"gantt_task_cell\" + (j == count - 1 ? \" gantt_last_cell\" : \"\");\n\t\t\t\t\tcssTemplate = templates.task_cell_class(item, cfg.trace_x[j]);\n\t\t\t\t\tif (cssTemplate)\n\t\t\t\t\t\tcssclass += \" \" + cssTemplate;\n\t\t\t\t\tcell.className = cssclass;\n\n\t\t\t\t\trow.appendChild(cell);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tvar odd = gantt.getGlobalTaskIndex(item.id) % 2 !== 0;\n\t\tvar cssTemplate = templates.task_row_class(item.start_date, item.end_date, item);\n\t\tvar css = \"gantt_task_row\" + (odd ? \" odd\" : \"\") + (cssTemplate ? ' ' + cssTemplate : '');\n\n\t\tvar store = view.$config.rowStore;\n\t\tif(store.getSelectedId() == item.id) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\t//var row = \"<div class='\" + css + \"' \" + this.config.task_attribute + \"='\" + item.id + \"'>\" + cells.join(\"\") + \"</div>\";\n\n\t\trow.className = css;\n\n\t\tif (config.smart_rendering) {\n\t\t\trow.style.position = \"absolute\";\n\t\t\trow.style.top = view.getItemTop(item.id) + \"px\";\n\t\t\trow.style.width = \"100%\";\n\t\t}\n\t\trow.style.height = (config.row_height) + \"px\";\n\n\t\tif(view.$config.item_attribute){\n\t\t\trow.setAttribute(view.$config.item_attribute, item.id);\n\t\t}\n\n\t\treturn row;\n\t}\n\n\treturn _render_bg_line;\n}\n\nmodule.exports = createTaskBgRender;","function createTaskRenderer(gantt){\n\tvar defaultRender = require(\"./task_bar_render\")(gantt);\n\n\treturn function show_children(task, timeline) {\n\t\tif (gantt.isSplitTask(task)) {\n\t\t\tvar el = document.createElement('div'),\n\t\t\t\tsizes = gantt.getTaskPosition(task);\n\n\t\t\tvar sub_tasks = gantt.getChildren(task.id);\n\n\n\t\t\tfor (var i = 0; i < sub_tasks.length; i++) {\n\t\t\t\tvar child = gantt.getTask(sub_tasks[i]);\n\n\t\t\t\tvar element = defaultRender(child, timeline);\n\t\t\t\tif(!element)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tvar padding = Math.floor((gantt.config.row_height - sizes.height) / 2);\n\n\t\t\t\telement.style.top = (sizes.top + padding) + \"px\";\n\t\t\t\telement.className += \" gantt_split_child\";\n\n\t\t\t\tel.appendChild(element);\n\t\t\t}\n\t\t\treturn el;\n\t\t}\n\t\treturn false;\n\t};\n}\n\nmodule.exports = createTaskRenderer;","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction PredecessorEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(PredecessorEditor, BaseEditor);\n\n\tfunction parseInputString(value, config) {\n\t\tvar predecessors = (value || \"\").split(config.delimiter || \",\");\n\t\tfor (var i = 0; i < predecessors.length; i++) {\n\t\t\tvar val = predecessors[i].trim();\n\t\t\tif (val) {\n\t\t\t\tpredecessors[i] = val;\n\t\t\t} else {\n\t\t\t\tpredecessors.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\tpredecessors.sort();\n\t\treturn predecessors;\n\t}\n\n\tfunction formatPredecessors(task, config, gantt) {\n\t\tvar links = task.$target;\n\t\tvar labels = [];\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = gantt.getLink(links[i]);\n\t\t\tvar pred = gantt.getTask(link.source);\n\t\t\tlabels.push(gantt.getWBSCode(pred));\n\t\t}\n\t\treturn labels.join((config.delimiter || \",\") + \" \");\n\t}\n\n\tfunction getSelectedLinks(taskId, predecessorCodes) {\n\t\tvar links = [];\n\t\tpredecessorCodes.forEach(function (code) {\n\t\t\tvar predecessor = gantt.getTaskByWBSCode(code);\n\t\t\tif (predecessor) {\n\t\t\t\tvar link = {\n\t\t\t\t\tsource: predecessor.id,\n\t\t\t\t\ttarget: taskId,\n\t\t\t\t\ttype: gantt.config.links.finish_to_start,\n\t\t\t\t\tlag: 0\n\t\t\t\t};\n\t\t\t\tif (gantt.isLinkAllowed(link)) {\n\t\t\t\t\tlinks.push(link);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn links;\n\t}\n\n\tfunction getLinksDiff(task, predecessorCodes) {\n\t\tvar selectedLinks = getSelectedLinks(task.id, predecessorCodes);\n\t\tvar existingLinksSearch = {};\n\t\ttask.$target.forEach(function (linkId) {\n\t\t\tvar link = gantt.getLink(linkId);\n\t\t\texistingLinksSearch[link.source + \"_\" + link.target] = link.id;\n\t\t});\n\n\t\tvar linksToAdd = [];\n\t\tselectedLinks.forEach(function (link) {\n\t\t\tvar linkKey = link.source + \"_\" + link.target;\n\t\t\tif (!existingLinksSearch[linkKey]) {\n\t\t\t\tlinksToAdd.push(link);\n\t\t\t} else {\n\t\t\t\tdelete existingLinksSearch[linkKey];\n\t\t\t}\n\t\t});\n\n\t\tvar linksToDelete = [];\n\t\tfor (var i in existingLinksSearch) {\n\t\t\tlinksToDelete.push(existingLinksSearch[i]);\n\t\t}\n\n\t\treturn {\n\t\t\tadd: linksToAdd,\n\t\t\tremove: linksToDelete\n\t\t};\n\t}\n\n\tutils.mixin(PredecessorEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = formatPredecessors(value, column.editor, gantt);\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn parseInputString((this.get_input(node).value || \"\"), column.editor);\n\t\t},\n\t\tsave: function (id, column, node) {\n\t\t\tvar task = gantt.getTask(id);\n\n\t\t\tvar linksDiff = getLinksDiff(task, this.get_value(id, column, node));\n\n\t\t\tif (linksDiff.add.length || linksDiff.remove.length) {\n\t\t\t\tgantt.batchUpdate(function () {\n\t\t\t\t\tlinksDiff.add.forEach(function (link) {\n\t\t\t\t\t\tgantt.addLink(link);\n\t\t\t\t\t});\n\t\t\t\t\tlinksDiff.remove.forEach(function (linkId) {\n\t\t\t\t\t\tgantt.deleteLink(linkId);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (gantt.autoSchedule)\n\t\t\t\t\t\tgantt.autoSchedule();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar inputPredecessors = this.get_value(id, column, node);\n\t\t\tvar taskPredecessors = parseInputString(formatPredecessors(value, column.editor, gantt), column.editor);\n\n\t\t\treturn inputPredecessors.join() !== taskPredecessors.join();\n\t\t}\n\t}, true);\n\n\treturn PredecessorEditor;\n};","module.exports = function (gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tvar html5DateFormat = \"%Y-%m-%d\";\n\n\tvar dateToStr = null;\n\tvar strToDate = null;\n\n\tfunction init() {\n\t\tif (!dateToStr) {\n\t\t\tdateToStr = gantt.date.date_to_str(html5DateFormat);\n\t\t}\n\t\tif (!strToDate) {\n\t\t\tstrToDate = gantt.date.str_to_date(html5DateFormat);\n\t\t}\n\t}\n\n\tfunction DateEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(DateEditor, BaseEditor);\n\n\tutils.mixin(DateEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\n\t\t\tinit();\n\t\t\tvar minValue = dateToStr(config.min || gantt.getState().min_date);\n\t\t\tvar maxValue = dateToStr(config.max || gantt.getState().max_date);\n\n\t\t\tvar html = \"<div style='width:140px'><input type='date' min='\" + minValue + \"' max='\" + maxValue + \"' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tif (value && value.getFullYear) {\n\t\t\t\tthis.get_input(node).value = dateToStr(value);\n\t\t\t} else {\n\t\t\t\tthis.get_input(node).value = value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\tif (!value || isNaN(value.getTime()))\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\tvar parsed;\n\t\t\ttry {\n\t\t\t\tparsed = strToDate(this.get_input(node).value || \"\");\n\t\t\t} catch (e) {\n\t\t\t\tparsed = null;// return null will cancel changes\n\t\t\t}\n\n\t\t\treturn parsed;\n\t\t}\n\t}, true);\n\n\treturn DateEditor;\n};\n","module.exports = function(gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction SelectEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(SelectEditor, BaseEditor);\n\n\tutils.mixin(SelectEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><select name='\" + column.name + \"'>\";\n\t\t\tvar optionsHtml = [],\n\t\t\t\toptions = config.options || [];\n\n\t\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\t\toptionsHtml.push(\"<option value='\" + config.options[i].key + \"'>\" + options[i].label + \"</option>\");\n\t\t\t}\n\n\t\t\thtml += optionsHtml.join(\"\") + \"</select></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"select\");\n\t\t}\n\t}, true);\n\n\treturn SelectEditor;\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction NumberEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(NumberEditor, BaseEditor);\n\n\tutils.mixin(NumberEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar min = config.min || 0,\n\t\t\t\tmax = config.max || 100;\n\n\t\t\tvar html = \"<div><input type='number' min='\" + min + \"' max='\" + max + \"' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn !isNaN(parseInt(value, 10));\n\t\t}\n\t}, true);\n\n\treturn NumberEditor;\n};","module.exports = function(gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction TextEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(TextEditor, BaseEditor);\n\n\tutils.mixin(TextEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t}\n\t}, true);\n\n\treturn TextEditor;\n};","module.exports = {\n\tinit: function(controller, grid){\n\t\tvar self = controller;\n\t\tvar gantt = grid.$gantt;\n\n\t\tvar onBlurDelay = null;\n\t\tvar keyNav = gantt.ext.keyboardNavigation;\n\t\tkeyNav.attachEvent(\"onBeforeFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell) {\n\t\t\t\tvar columnName = activeCell.columnName;\n\t\t\t\tvar id = activeCell.id;\n\n\t\t\t\tvar editorState = self.getState();\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tif(editorState.id == id && editorState.columnName === columnName) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tvar state = controller.getState();\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell && !(activeCell.id == state.id && activeCell.columnName == state.columnName)) {\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tself.save();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tcontroller.attachEvent(\"onHide\", function(){\n\t\t\tclearTimeout(onBlurDelay);\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onBlur\", function () {\n\t\t\tonBlurDelay = setTimeout(function(){\n\t\t\t\tself.save();\n\t\t\t});\n\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function(id,e){\n\t\t\t// block lightbox on double click inside editor\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif(cell && controller.isVisible() && cell.columnName == state.columnName){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif(gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif(controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName){\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t}else{\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tself.save();\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onKeyDown\", function(command, e){\n\t\t\tvar activeCell = controller.locateCell(e.target);\n\t\t\tvar hasEditor = activeCell ? controller.getEditorConfig(activeCell.columnName) : false;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tvar keyCode = e.keyCode;\n\t\t\tvar preventKeyNav = false;\n\n\t\t\tswitch (keyCode){\n\t\t\t\tcase keyboard.ENTER:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.save();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}else if(hasEditor && !(e.ctrlKey || e.metaKey || e.shiftKey)){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.ESC:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.hide();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.UP:\n\t\t\t\tcase keyboard.DOWN:\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.LEFT:\n\t\t\t\tcase keyboard.RIGHT:\n\t\t\t\t\tif(state.editorType === \"date\"){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.SPACE:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.DELETE:\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif(controller.isVisible()){\n\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar newState = controller.getState();\n\t\t\t\t\t\tif(newState.id){\n\t\t\t\t\t\t\tkeyNav.focus({type:\"taskCell\", id: newState.id, column:newState.columnName});\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif(controller.isVisible())\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\telse{\n\n\t\t\t\t\t\t// start editing on character key\n\t\t\t\t\t\tif((keyCode >= 48 && keyCode <= 57) || // [0-9]\n\t\t\t\t\t\t\t(keyCode > 95 && keyCode < 112) || // numpad\n\t\t\t\t\t\t\t(keyCode >= 64 && keyCode <= 91) || // [a-z]\n\t\t\t\t\t\t\t(keyCode > 185 && keyCode < 193) || //;=-,etc\n\t\t\t\t\t\t\t(keyCode > 218  && keyCode < 223)\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\tvar modifiers = command.modifiers;\n\n\t\t\t\t\t\t\tvar anyModifier = modifiers.alt || modifiers.ctrl || modifiers.meta || modifiers.shift;\n\t\t\t\t\t\t\tif(modifiers.alt){\n\t\t\t\t\t\t\t\t// don't start editing on alt+key\n\t\t\t\t\t\t\t}else if (anyModifier && keyNav.getCommandHandler(command, \"taskCell\")){\n\t\t\t\t\t\t\t\t// don't start editing if command already have a keyboard shortcut\n\t\t\t\t\t\t\t}else if(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (preventKeyNav){\n\t\t\t\treturn false;\n\t\t\t} else{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t});\n\t},\n\tonShow: function(controller, placeholder, grid){},\n\tonHide: function(controller, placeholder, grid){\n\t\tvar gantt = grid.$gantt;\n\t\tgantt.focus();\n\n\t},\n\tdestroy: function(){}\n};\n\n","module.exports = {\n\tinit: function (controller, grid) {\n\t\tvar gantt = grid.$gantt;\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif (gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif (controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName) {\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tif (controller.isVisible() && controller.isChanged()) {\n\t\t\t\tcontroller.save();\n\t\t\t} else {\n\t\t\t\tcontroller.hide();\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function (id, e) {\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif (cell && controller.isVisible() && cell.columnName == state.columnName) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t},\n\n\tonShow: function (controller, placeholder, grid) {\n\t\tif (grid.$getConfig().keyboard_navigation) {\n\t\t\t// keyboard navigation extension will handle arrows if enabled\n\t\t\treturn;\n\t\t}\n\t\tvar gantt = grid.$gantt;\n\t\tplaceholder.onkeydown = function (e) {\n\t\t\te = e || window.event;\n\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tif (e.defaultPrevented || (e.shiftKey && e.keyCode != keyboard.TAB)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar shouldPrevent = true;\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tcontroller.save();\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tcontroller.hide();\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tshouldPrevent = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (shouldPrevent) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t};\n\t},\n\tonHide: function () {\n\n\t},\n\n\tdestroy: function () {\n\n\t}\n};\n\n","var defaultMapping = require(\"./keyboard_mappings/default\");\nvar keyNavMappings = require(\"./keyboard_mappings/keyboard_navigation\");\n\nmodule.exports = function(gantt){\n\n\tvar mapping = null;\n\n\treturn {\n\t\tsetMapping: function(map){\n\t\t\tmapping = map;\n\t\t},\n\t\tgetMapping: function(){\n\n\t\t\tif(mapping){\n\t\t\t\treturn mapping;\n\t\t\t}else if(gantt.config.keyboard_navigation_cells){\n\t\t\t\treturn keyNavMappings;\n\t\t\t}else{\n\t\t\t\treturn defaultMapping;\n\t\t\t}\n\t\t}\n\t};\n};\n","var getKeyboardMapping = require(\"./keyboard_mappings\");\nvar textEditorFactory = require(\"./editors/text\"),\n\tnumberEditorFactory = require(\"./editors/number\"),\n\tselectEditorFactory = require(\"./editors/select\"),\n\tdateEditorFactory = require(\"./editors/date\"),\n\tpredecessorEditorFactory = require(\"./editors/predecessor\");\nvar utils = require(\"../../../../utils/utils\");\nvar domHelpers = require(\"../../../../utils/dom_helpers\");\nvar eventable = require(\"../../../../utils/eventable\");\n\nfunction initConfigs(gantt){\n\tgantt.config.editor_types = {\n\t\ttext: new (textEditorFactory(gantt))(),\n\t\tnumber: new (numberEditorFactory(gantt))(),\n\t\tselect: new (selectEditorFactory(gantt))(),\n\t\tdate: new (dateEditorFactory(gantt))(),\n\t\tpredecessor: new (predecessorEditorFactory(gantt))()\n\t};\n}\n\nfunction create(gantt){\n\tvar keyboardMapping = getKeyboardMapping(gantt);\n\n\tvar eventBus = {};\n\teventable(eventBus);\n\n\tfunction createGridEditors(grid) {\n\n\t\tfunction _getGridCellFromNode(node){\n\t\t\tif(!domHelpers.isChildOf(node, grid.$grid)){\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar row = domHelpers.locateAttribute(node, grid.$config.item_attribute);\n\t\t\tvar cell = domHelpers.locateAttribute(node, \"data-column-name\");\n\t\t\tif(cell){\n\t\t\t\tvar columnName = cell.getAttribute(\"data-column-name\");\n\t\t\t\tvar id = row.getAttribute(grid.$config.item_attribute);\n\t\t\t\treturn {\n\t\t\t\t\tid: id,\n\t\t\t\t\tcolumnName: columnName\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction _getEditorPosition(itemId, columnName) {\n\t\t\tvar top = grid.getItemTop(itemId);\n\t\t\tvar height = grid.getItemHeight(itemId);\n\t\t\tvar cols = grid.getGridColumns();\n\t\t\tvar left = 0,\n\t\t\t\twidth = 0;\n\n\t\t\tfor (var i = 0; i < cols.length; i++) {\n\t\t\t\tif (cols[i].name == columnName) {\n\t\t\t\t\twidth = cols[i].width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tleft += cols[i].width;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttop: top,\n\t\t\t\tleft: left,\n\t\t\t\theight: height,\n\t\t\t\twidth: width\n\t\t\t};\n\t\t}\n\t\tfunction _createPlaceholder(itemId, columnName) {\n\t\t\tvar pos = _getEditorPosition(itemId, columnName);\n\t\t\tvar el = document.createElement(\"div\");\n\t\t\tel.className = \"gantt_grid_editor_placeholder\";\n\t\t\tel.setAttribute(grid.$config.item_attribute, itemId);\n\t\t\tel.setAttribute(\"data-column-name\", columnName);\n\t\t\tel.setAttribute(\"data-column-index\", grid.getColumnIndex(columnName));\n\n\t\t\tel.style.cssText = [\n\t\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\t\"width:\" + pos.width + \"px\",\n\t\t\t\t\"height:\" + pos.height + \"px\"\n\t\t\t].join(\";\");\n\n\t\t\treturn el;\n\t\t}\n\n\n\t\tvar handlers = [];\n\t\tvar store = null;\n\t\tvar controller = {\n\t\t\t_itemId: null,\n\t\t\t_columnName: null,\n\t\t\t_editor: null,\n\t\t\t_editorType: null,\n\t\t\t_placeholder: null,\n\n\t\t\tlocateCell: _getGridCellFromNode,\n\t\t\tgetEditorConfig: function (columnName) {\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\treturn column.editor;\n\t\t\t},\n\n\t\t\tinit: function () {\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.init){\n\t\t\t\t\tmapping.init(this, grid);\n\t\t\t\t}\n\n\t\t\t\tstore = grid.$gantt.getDatastore(grid.$config.bind);\n\n\t\t\t\tvar self = this;\n\n\t\t\t\thandlers.push(store.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\t\t\t\tif(self._itemId == oldId){\n\t\t\t\t\t\tself._itemId = newId;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\thandlers.push(store.attachEvent(\"onStoreUpdated\", function(){\n\t\t\t\t\tif(grid.$gantt.getState(\"batchUpdate\").batch_update){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(self.isVisible() && !store.isVisible(self._itemId)){\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis.init = function(){};\n\t\t\t},\n\n\t\t\tgetState: function(){\n\t\t\t\treturn {\n\t\t\t\t\teditor: this._editor,\n\t\t\t\t\teditorType: this._editorType,\n\t\t\t\t\tplaceholder: this._placeholder,\n\t\t\t\t\tid: this._itemId,\n\t\t\t\t\tcolumnName: this._columnName\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tstartEdit: function(itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\n\t\t\t\tif(!store.exists(itemId)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\t\t\t\tif(this.callEvent(\"onBeforeEditStart\", [editorState]) === false){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.show(editorState.id, editorState.columnName);\n\t\t\t\tthis.setValue();\n\n\t\t\t\tthis.callEvent(\"onEditStart\", [editorState]);\n\t\t\t},\n\t\t\tisVisible: function(){\n\t\t\t\treturn !!(this._editor && domHelpers.isChildOf(this._placeholder, document.body));\n\t\t\t},\n\t\t\tshow: function (itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\n\t\t\t\tvar column = grid.getColumn(editorState.columnName);\n\t\t\t\tvar editorConfig = this.getEditorConfig(column.name);\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar editor = grid.$getConfig().editor_types[editorConfig.type];\n\n\t\t\t\tvar placeholder = _createPlaceholder(editorState.id, editorState.columnName);\n\t\t\t\tgrid.$grid_data.appendChild(placeholder);\n\t\t\t\teditor.show(editorState.id, column, editorConfig, placeholder);\n\t\t\t\tthis._editor = editor;\n\t\t\t\tthis._placeholder = placeholder;\n\t\t\t\tthis._itemId = editorState.id;\n\t\t\t\tthis._columnName = editorState.columnName;\n\t\t\t\tthis._editorType = editorConfig.type;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onShow){\n\t\t\t\t\tmapping.onShow(this, placeholder, grid);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tsetValue: function () {\n\t\t\t\tvar state = this.getState();\n\t\t\t\tvar itemId = state.id,\n\t\t\t\t\tcolumnName = state.columnName;\n\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(itemId);\n\t\t\t\t}\n\n\t\t\t\tthis._editor.set_value(value, itemId, column, this._placeholder);\n\t\t\t\tthis.focus();\n\t\t\t},\n\n\t\t\tfocus: function(){\n\t\t\t\tthis._editor.focus(this._placeholder);\n\t\t\t},\n\n\t\t\tgetValue: function () {\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\t\t\t\treturn this._editor.get_value(this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\t_getItemValue: function() {\n\t\t\t\tvar editorConfig = this.getEditorConfig(this._columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar item = gantt.getTask(this._itemId);\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(this._itemId);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tisChanged: function(){\n\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\n\t\t\t\tvar value = this._getItemValue();\n\n\t\t\t\treturn this._editor.is_changed(value, this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\thide: function () {\n\t\t\t\tif(!this._itemId)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onHide){\n\t\t\t\t\tmapping.onHide(this, this._placeholder, grid);\n\t\t\t\t}\n\n\t\t\t\tthis._itemId = null;\n\t\t\t\tthis._columnName = null;\n\t\t\t\tthis._editorType = null;\n\t\t\t\tif (!this._placeholder) return;\n\n\t\t\t\tif (this._editor) {\n\t\t\t\t\tthis._editor.hide(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._editor = null;\n\t\t\t\tif (this._placeholder.parentNode) {\n\t\t\t\t\tthis._placeholder.parentNode.removeChild(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._placeholder = null;\n\n\t\t\t\tthis.callEvent(\"onEditEnd\", [{id: itemId, columnName: columnName}]);\n\t\t\t},\n\t\t\tsave: function () {\n\t\t\t\tif(!(this.isVisible() && store.exists(this._itemId) && this.isChanged())) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tif(!store.exists(itemId)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\t\t\t\tvar editorState = {\n\t\t\t\t\tid: itemId,\n\t\t\t\t\tcolumnName: columnName,\n\t\t\t\t\tnewValue: this.getValue(),\n\t\t\t\t\toldValue: this._getItemValue()\n\t\t\t\t};\n\t\t\t\tif(this.callEvent(\"onBeforeSave\", [editorState]) !== false) {\n\t\t\t\t\tif(this._editor.is_valid(editorState.newValue, editorState.id, editorState.columnName, this._placeholder)){\n\n\n\t\t\t\t\t\tvar mapTo = editorConfig.map_to;\n\t\t\t\t\t\tvar value = editorState.newValue;\n\t\t\t\t\t\tif (mapTo != \"auto\") {\n\t\t\t\t\t\t\titem[mapTo] = value;\n\t\t\t\t\t\t\tif (mapTo == \"duration\") {\n\t\t\t\t\t\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t\t\t\t\t\t} else if (mapTo == \"end_date\") {\n\t\t\t\t\t\t\t\titem.start_date = gantt.calculateEndDate({\n\t\t\t\t\t\t\t\t\tstart_date: item.end_date,\n\t\t\t\t\t\t\t\t\tduration: -item.duration,\n\t\t\t\t\t\t\t\t\ttask: item}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else if (mapTo == \"start_date\") {\n\t\t\t\t\t\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstore.updateItem(itemId);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis._editor.save(itemId, grid.getColumn(columnName), this._placeholder);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.callEvent(\"onSave\", [editorState]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.hide();\n\t\t\t},\n\n\t\t\t_findEditableCell: function findEditableCell(start, direction){\n\t\t\t\tvar nextIndex = start;\n\t\t\t\tvar columns = grid.getGridColumns();\n\t\t\t\tvar nextColumn = columns[nextIndex];\n\n\t\t\t\tvar columnName = nextColumn ? nextColumn.name : null;\n\t\t\t\tif(columnName){\n\t\t\t\t\twhile(columnName && !this.getEditorConfig(columnName)){\n\t\t\t\t\t\tcolumnName = this._findEditableCell(start + direction, direction);\n\t\t\t\t\t}\n\t\t\t\t\treturn columnName;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tgetNextCell: function moveCell(dir){\n\t\t\t\treturn this._findEditableCell(grid.getColumnIndex(this._columnName) + dir, dir);\n\t\t\t},\n\n\t\t\tgetFirstCell: function getFirstCell(){\n\t\t\t\treturn this._findEditableCell(0, 1);\n\t\t\t},\n\n\t\t\tgetLastCell: function getLastCell(){\n\t\t\t\treturn this._findEditableCell(grid.getGridColumns().length - 1, -1);\n\t\t\t},\n\n\t\t\teditNextCell: function nextCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(1)){\n\t\t\t\t\tvar task = this.moveRow(1);\n\t\t\t\t\tcell = this.getFirstCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevCell: function prevCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(-1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(-1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(-1)){\n\t\t\t\t\tvar task = this.moveRow(-1);\n\t\t\t\t\tcell = this.getLastCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmoveRow: function moveRow(dir){\n\t\t\t\tif(dir > 0){\n\t\t\t\t\treturn gantt.getNext(this._itemId);\n\t\t\t\t}else {\n\t\t\t\t\treturn  gantt.getPrev(this._itemId);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditNextRow: function nextRow(){\n\t\t\t\tvar row = this.getNextCell(1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevRow: function prevRow(){\n\t\t\t\tvar row = this.getNextCell(-1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdestructor: function(){\n\t\t\t\thandlers.forEach(function(handlerId){\n\t\t\t\t\tstore.detachEvent(handlerId);\n\t\t\t\t});\n\t\t\t\tstore = null;\n\t\t\t\tthis.hide();\n\t\t\t\tthis.detachAllEvents();\n\t\t\t}\n\t\t};\n\n\t\tutils.mixin(controller, keyboardMapping);\n\t\tutils.mixin(controller, eventBus);\n\n\t\treturn controller;\n\t}\n\n\n\tvar inlineEditController = {\n\t\tinit: initConfigs,\n\t\tcreateEditors: createGridEditors\n\t};\n\n\tutils.mixin(inlineEditController, keyboardMapping);\n\tutils.mixin(inlineEditController, eventBus);\n\n\treturn inlineEditController;\n}\n\nmodule.exports = create;","var utils = require(\"../../../utils/utils\");\nvar ResourceTimeline = require(\"./resource_timeline\");\nvar resourceStoreMixin = require(\"../resource_store_mixin\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceHistogram = (function (_super) {\n\n\tfunction ResourceHistogram(parent, config, factory, gantt) {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\tself.$config.bindLinks = null;\n\t\treturn self;\n\t}\n\n\t__extends(ResourceHistogram, _super);\n\n\tutils.mixin(ResourceHistogram.prototype, {\n\t\t_createLayerConfig: function(){\n\t\t\tvar self = this;\n\t\t\tvar taskFilter = function(){\n\t\t\t\treturn self.isVisible();\n\t\t\t};\n\n\t\t\tvar taskLayers = [\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.resourceHistogram,\n\t\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg,\n\t\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar linkLayers = [];\n\n\t\t\treturn {\n\t\t\t\ttasks: taskLayers,\n\t\t\t\tlinks: linkLayers\n\t\t\t};\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceHistogram.prototype, resourceStoreMixin(_super), true);\n\n\treturn ResourceHistogram;\n})(ResourceTimeline);\n\n\nmodule.exports = ResourceHistogram;\n\n\n","var domHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tresourceStoreMixin = require(\"../resource_store_mixin\"),\n\tGrid = require(\"./grid\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceGrid = (function (_super) {\n\n\tfunction ResourceGrid(parent, config, factory, gantt) {\n\t\treturn _super.apply(this, arguments) || this;\n\t}\n\n\t__extends(ResourceGrid, _super);\n\n\tutils.mixin(ResourceGrid.prototype, {\n\t\tinit: function(){\n\t\t\tif(this.$config.bind === undefined){\n\t\t\t\tthis.$config.bind = this.$getConfig().resource_store;\n\t\t\t}\n\t\t\t_super.prototype.init.apply(this, arguments);\n\t\t},\n\n\t\t_initEvents: function(){\n\t\t\tvar gantt = this.$gantt;\n\t\t\t_super.prototype._initEvents.apply(this, arguments);\n\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_row\", gantt.bind(function (e, id, trg) {\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return true;\n\n\t\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\t\tif(target){\n\t\t\t\t\tstore.select(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}, this), this.$grid);\n\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceGrid.prototype, resourceStoreMixin(ResourceGrid), true);\n\n\treturn ResourceGrid;\n})(Grid);\n\nmodule.exports = ResourceGrid;","var domHelpers = require(\"../../../utils/dom_helpers\");\n\nfunction createResizer(gantt, grid){\n// renders resize elements in the grid header\n\tvar _render_grid_header_resize = function () {\n\t\tvar columns = grid.getGridColumns(),\n\t\t\tconfig = grid.$getConfig(),\n\t\t\twidth = 0,\n\t\t\ttotalWidth = grid.$config.width,\n\t\t\tlineHeigth = config.scale_height;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar col = columns[i];\n\n\t\t\tvar pos;\n\t\t\twidth += col.width;\n\t\t\tif(config.rtl){\n\t\t\t\tpos = totalWidth - width;\n\t\t\t}else{\n\t\t\t\tpos = width;\n\t\t\t}\n\n\t\t\tif (col.resize) {\n\t\t\t\tvar resize_el = document.createElement(\"div\");\n\t\t\t\tresize_el.className = \"gantt_grid_column_resize_wrap\";\n\t\t\t\tresize_el.style.top = \"0px\";\n\t\t\t\tresize_el.style.height = lineHeigth + \"px\";\n\t\t\t\tresize_el.innerHTML = \"<div class='gantt_grid_column_resize'></div>\";\n\t\t\t\tresize_el.setAttribute(config.grid_resizer_column_attribute, i);\n\n\t\t\t\tgantt._waiAria.gridSeparatorAttr(resize_el);\n\n\t\t\t\tgrid.$grid_scale.appendChild(resize_el);\n\n\t\t\t\tresize_el.style.left = Math.max(0, pos) + \"px\";\n\t\t\t}\n\t\t}\n\t};\n\n\tvar _grid_resize = {\n\t\tcolumn_before_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar el = domHelpers.locateAttribute(e, config.grid_resizer_column_attribute);\n\t\t\tif (!el) return false;\n\n\t\t\tvar column_index = this.locate(e, config.grid_resizer_column_attribute),\n\t\t\t\tcolumn = grid.getGridColumns()[column_index];\n\n\t\t\tif (grid.callEvent(\"onColumnResizeStart\", [column_index, column]) === false)\n\t\t\t\treturn false;\n\t\t}, gantt),\n\n\t\tcolumn_after_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar column_index = this.locate(e, config.grid_resizer_column_attribute);\n\t\t\tdnd.config.marker.innerHTML = \"\";\n\t\t\tdnd.config.marker.className += \" gantt_grid_resize_area\";\n\t\t\tdnd.config.marker.style.height = grid.$grid.offsetHeight + \"px\";\n\t\t\tdnd.config.marker.style.top = \"0px\";\n\t\t\tdnd.config.drag_index = column_index;\n\n\t\t}, gantt),\n\n\t\tcolumn_drag_move: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar dd = dnd.config,\n\t\t\t\tcolumns = grid.getGridColumns();\n\t\t\tvar index = parseInt(dd.drag_index, 10);\n\t\t\tvar target_column = columns[index];\n\t\t\tvar\tpos = domHelpers.getNodePosition(grid.$grid_scale),\n\t\t\t\tpointerPosition = parseInt(dd.marker.style.left, 10),\n\t\t\t\tminPointerPosition = target_column.min_width ? target_column.min_width : config.min_grid_column_width,\n\t\t\t\tmaxPointerPosition = grid.$grid_data.offsetWidth,// - config.min_grid_column_width * (columns.length - dd.drag_index - 2),// 1 for current column + 1 for last column\n\t\t\t\tmarkerStartPosition = 0,\n\t\t\t\tmarker_width = 0;\n\n\t\t\t\n\t\t/*\tif(config.rtl){\n\t\t\t\tindex = columns.length - 1 - index;\n\t\t\t\tcolumns = columns.reverse();\n\t\t\t}*/\n\n\t\t\tif(!config.rtl){\n\t\t\t\tpointerPosition -= pos.x - 1;\n\t\t\t}else{\n\t\t\t\tpointerPosition = (pos.x + pos.width - 1) - pointerPosition;\n\t\t\t}\n\n\t\t\t//pointerPosition -= pos.x - 1;\n\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\tminPointerPosition += columns[i].width;\n\t\t\t\tmarkerStartPosition += columns[i].width;\n\t\t\t}\n\n\t\t\tif (pointerPosition < minPointerPosition) {\n\t\t\t\tpointerPosition = minPointerPosition;\n\t\t\t}\n\n\t\t\tif (config.keep_grid_width) {\n\t\t\t\tvar limit_max = 0;\n\t\t\t\tfor (var i=index+1; i<columns.length; i++) {\n\t\t\t\t\tif (columns[i].min_width)\n\t\t\t\t\t\tmaxPointerPosition -= columns[i].min_width;\n\t\t\t\t\telse if (config.min_grid_column_width)\n\t\t\t\t\t\tmaxPointerPosition -= config.min_grid_column_width;\n\n\t\t\t\t\tif (columns[i].max_width && limit_max !== false)\n\t\t\t\t\t\tlimit_max += columns[i].max_width;\n\t\t\t\t\telse\n\t\t\t\t\t\tlimit_max = false;\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// we have to restrict min value if only ALL right-side columns have 'max_width' field\n\t\t\t\tif (limit_max) {\n\t\t\t\t\tminPointerPosition = grid.$grid_data.offsetWidth - limit_max;\n\t\t\t\t}\n\t\t\t\tif (pointerPosition < minPointerPosition) {\n\t\t\t\t\tpointerPosition = minPointerPosition;\n\t\t\t\t}\n\n\t\t\t\tif (pointerPosition > maxPointerPosition)\n\t\t\t\t\tpointerPosition = maxPointerPosition;\n\t\t\t} else if (!grid.$config.scrollable) {\n\t\t\t\tvar targetWidth = pointerPosition;\n\t\t\t\tvar rightColumnsWidth = 0;\n\t\t\t\tfor (var i=index+1; i<columns.length; i++) {\n\t\t\t\t\trightColumnsWidth += columns[i].width;\n\t\t\t\t}\n\t\n\t\t\t\tif(targetWidth + rightColumnsWidth > gantt.$container.offsetWidth){\n\t\t\t\t\tpointerPosition = gantt.$container.offsetWidth - rightColumnsWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdd.left = pointerPosition - 1;// -1 for border\n\n\t\t\tmarker_width = Math.abs(pointerPosition - markerStartPosition);\n\n\t\t\t// column.max_width - maximum width of the column, user defined\n\t\t\tif (target_column.max_width && marker_width > target_column.max_width)\n\t\t\t\tmarker_width = target_column.max_width;\n\n\t\t\tif(config.rtl){\n\t\t\t\tmarkerStartPosition = (pos.width - markerStartPosition) + 2 - marker_width;\n\t\t\t}\n\t\t\tdd.marker.style.top = pos.y + \"px\";\n\t\t\tdd.marker.style.left = pos.x - 1 + markerStartPosition + \"px\";\n\t\t\tdd.marker.style.width = marker_width + \"px\";\n\n\t\t\tgrid.callEvent(\"onColumnResize\", [index, columns[index], marker_width - 1]);\n\t\t\treturn true;\n\t\t}, gantt),\n\n\t\tcolumn_drag_end: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\t\t\tvar columns = grid.getGridColumns(),\n\t\t\t\tcolumns_width = 0,\n\t\t\t\tindex = parseInt(dnd.config.drag_index, 10),\n\t\t\t\ttarget_column = columns[index];\n\n\t\t\t// var colIndex = index;\n\t\t\t/*if(config.rtl){\n\t\t\t\tcolIndex = columns.length - 1 - target_index;\n\t\t\t\tcolumns = columns.reverse();\n\t\t\t}*/\n\n\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\tcolumns_width += columns[i].width;\n\t\t\t}\n\n\t\t\tvar final_width = (target_column.min_width && (dnd.config.left - columns_width) < target_column.min_width) ?\n\t\t\t\ttarget_column.min_width : (dnd.config.left - columns_width);\n\n\t\t\tif (target_column.max_width && target_column.max_width < final_width) // TODO: probably can be omitted\n\t\t\t\tfinal_width = target_column.max_width;\n\n\t\t\tif (grid.callEvent(\"onColumnResizeEnd\", [index, target_column, final_width]) === false)\n\t\t\t\treturn;\n\n\t\t\tif (target_column.width == final_width)\n\t\t\t\treturn;\n\n\t\t\ttarget_column.width = final_width;\n\n\t\t\tif (config.keep_grid_width) {\n\t\t\t\tcolumns_width = config.grid_width;\n\t\t\t} else {\n\t\t\t\t// in other case we set a new grid width and call gantt render\n\t\t\t\tfor (var i = index, l = columns.length; i < l; i++) {\n\t\t\t\t\tcolumns_width += columns[i].width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgrid.callEvent(\"onColumnResizeComplete\", [columns, grid._setColumnsWidth(columns_width, index)]);\n\n\t\t\tif(!grid.$config.scrollable){\n\t\t\t\tgantt.$layout._syncCellSizes(grid.$config.group, config.grid_width);\n\t\t\t}\n\t\t\t//grid.callEvent(\"onColumnResizeComplete\", [columns, columns_width]);\n\n\t\t\tthis.render();\n\t\t}, gantt)\n\t};\n\n// calls the initialization of the D'n'D events for resize elements\n\tvar _init_resize = function () {\n\t\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\t\tvar config = grid.$getConfig();\n\n\t\tvar dnd = new DnD(grid.$grid_scale, {updates_per_second: 60});\n\t\tif (gantt.defined(config.dnd_sensitivity))\n\t\t\tdnd.config.sensitivity = config.dnd_sensitivity;\n\n\t\tdnd.attachEvent(\"onBeforeDragStart\", function (obj, e) {\n\t\t\treturn _grid_resize.column_before_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onAfterDragStart\", function (obj, e) {\n\t\t\treturn _grid_resize.column_after_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragMove\", function (obj, e) {\n\t\t\treturn _grid_resize.column_drag_move(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragEnd\", function (obj, e) {\n\t\t\treturn _grid_resize.column_drag_end(dnd, obj, e);\n\t\t});\n\n\t};\n\n\treturn {\n\t\tinit: _init_resize,\n\t\tdoOnRender: _render_grid_header_resize\n\t};\n}\n\nmodule.exports = createResizer;","var utils = require(\"../../../utils/utils\"),\n\tenv = require(\"../../../utils/env\");\n\nvar createStaticBgHelper = function(utils, env){\n\n\tvar canvasBgCache = {};\n\tvar staticBgStyleId = \"gantt-static-bg-styles-\" + utils.uid();\n\n\tfunction renderBgCanvas(targetNode, config, scale, totalHeight) {\n\t\tif (!config.static_background) return;\n\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tif (!canvas.getContext) return; // if canvas is not supported (for IE8)\n\n\t\t// clear previous bg data\n\t\ttargetNode.innerHTML = \"\";\n\n\t\tvar styleParams = getCellStyles(targetNode);\n\t\tvar png = createBackgroundTiles(styleParams, config, scale);\n\t\tvar bgDivs = createBgDivs(png, config, scale, totalHeight);\n\n\t\tvar fragment = document.createDocumentFragment();\n\n\t\tbgDivs.forEach(function (div) {\n\t\t\tfragment.appendChild(div);\n\t\t});\n\n\t\ttargetNode.appendChild(fragment);\n\t}\n\n\tfunction getColumnWidths(scale) {\n\t\tvar widths = scale.width;\n\t\tvar differentWidths = {};\n\t\tfor (var i = 0; i < widths.length; i++) {\n\t\t\tif (widths[i] * 1)\n\t\t\t\tdifferentWidths[widths[i]] = true;\n\t\t}\n\t\treturn differentWidths;\n\t}\n\n\tfunction parseRgb(rgbCss) {\n\t\tvar result = /^rgba?\\(([\\d]{1,3}), *([\\d]{1,3}), *([\\d]{1,3}) *(,( *[\\d.]+ *))?\\)$/i.exec(rgbCss);\n\t\treturn result ? {\n\t\t\tr: result[1] * 1,\n\t\t\tg: result[2] * 1,\n\t\t\tb: result[3] * 1,\n\t\t\ta: (result[5] * 255) || 255\n\t\t} : null;\n\t}\n\n\tfunction getUrlFromCache(key) {\n\t\treturn canvasBgCache[key] || null;\n\t}\n\n\tfunction getHashKey(width, height, cellStyles) {\n\t\treturn (width + '' + height + cellStyles.bottomBorderColor + cellStyles.rightBorderColor).replace(/[^\\w\\d]/g, '');\n\t}\n\n\tfunction getStyleElement() {\n\t\tvar style = document.getElementById(staticBgStyleId);\n\n\t\tif (!style) {\n\t\t\tstyle = document.createElement(\"style\");\n\t\t\tstyle.id = staticBgStyleId;\n\t\t\tdocument.body.appendChild(style);\n\t\t}\n\t\treturn style;\n\t}\n\n\tfunction cacheUrl(key, url) {\n\t\tcanvasBgCache[key] = url;\n\t}\n\n\tfunction generateBgUrl(width, height, cellStyles) {\n\t\t// use relatively big bg image about 500*500px in order to reduce misalignments due browser zoom\n\t\tvar cols = Math.floor(500 / width) || 1;\n\t\tvar rows = Math.floor(500 / height) || 1;\n\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tcanvas.height = height * rows;\n\t\tcanvas.width = width * cols;\n\n\t\tvar context = canvas.getContext(\"2d\");\n\n\t\tdrawGrid(height, width, rows, cols, context, cellStyles);\n\n\t\treturn canvas.toDataURL();\n\n\t\tfunction drawGrid(rowHeight, colWidth, rows, cols, context, styles) {\n\t\t\t// paint pixels manually instead of using lineTo in order to prevent canvas aliasing\n\t\t\tvar image = context.createImageData(colWidth * cols, rowHeight * rows);\n\t\t\timage.imageSmoothingEnabled = false;\n\n\t\t\tvar verticalLineWidth = styles.rightBorderWidth * 1;\n\t\t\tvar verticalLineColor = parseRgb(styles.rightBorderColor);\n\n\t\t\tvar x = 0,\n\t\t\t\ty = 0,\n\t\t\t\tw = 0;\n\n\t\t\tfor (var col = 1; col <= cols; col++) {\n\t\t\t\tx = col * colWidth - 1;\n\t\t\t\tfor (w = 0; w < verticalLineWidth; w++) {\n\t\t\t\t\tfor (y = 0; y < rowHeight * rows; y++) {\n\t\t\t\t\t\tdrawDot(x - w, y, verticalLineColor, image);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar horizontalLineWidth = styles.bottomBorderWidth * 1;\n\t\t\tvar horizontalLineColor = parseRgb(styles.bottomBorderColor);\n\n\t\t\ty = 0;\n\t\t\tfor (var row = 1; row <= rows; row++) {\n\t\t\t\ty = row * rowHeight - 1;\n\t\t\t\tfor (w = 0; w < horizontalLineWidth; w++) {\n\t\t\t\t\tfor (x = 0; x < colWidth * cols; x++) {\n\t\t\t\t\t\tdrawDot(x, y - w, horizontalLineColor, image);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontext.putImageData(image, 0, 0);\n\t\t}\n\n\t\tfunction drawDot(x, y, color, matrix) {\n\t\t\tvar rowLength = width * cols;\n\n\t\t\tvar index = (y * rowLength + x) * 4;\n\n\t\t\tmatrix.data[index] = color.r;\n\t\t\tmatrix.data[index + 1] = color.g;\n\t\t\tmatrix.data[index + 2] = color.b;\n\t\t\tmatrix.data[index + 3] = color.a;\n\t\t}\n\t}\n\n\tfunction getCssClass(key) {\n\t\treturn \"gantt-static-bg-\" + key;\n\t}\n\n\tfunction createBackgroundTiles(cellStyles, config, scale) {\n\t\tvar data = {};\n\t\tvar widths = getColumnWidths(scale),\n\t\t\theight = config.row_height;\n\n\t\tvar styleHTML = \"\";\n\t\tfor (var i in widths) {\n\n\t\t\tvar width = i * 1;\n\t\t\tvar key = getHashKey(width, height, cellStyles);\n\t\t\tvar cachedUrl = getUrlFromCache(key);\n\n\t\t\tif (!cachedUrl) {\n\t\t\t\tvar bgImage = generateBgUrl(width, height, cellStyles);\n\t\t\t\tcacheUrl(key, bgImage);\n\t\t\t\tstyleHTML += \".\" + getCssClass(key) + \"{ background-image: url('\" + bgImage + \"');}\";\n\t\t\t}\n\n\t\t\tdata[i] = getCssClass(key);\n\t\t}\n\n\t\tif (styleHTML) {\n\t\t\tvar style = getStyleElement();\n\t\t\tstyle.innerHTML += styleHTML;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tfunction createBgDivs(bgTiles, config, scale, dataHeight) {\n\t\tvar divs = [];\n\t\tvar tile,\n\t\t\tprevWidth = 0,\n\t\t\tprevCell;\n\n\t\tvar widths = scale.width.filter(function (i) {\n\t\t\treturn !!i;\n\t\t});\n\n\t\tvar leftPos = 0;\n\n\t\t//TODO: fixme\n\t\t// bg image misalignments on horizontal scroll on very large time scales, especially in IE/Edge browsers\n\t\t// limiting max tile width seems to solve the issue, but can increase rendering time\n\t\tvar maxTileSize = 100000;\n\t\tif (env.isIE) {\n\t\t\t// special case for IE11 on win7x and probably 8x\n\t\t\tvar appVersion = navigator.appVersion || \"\";\n\t\t\tif (appVersion.indexOf(\"Windows NT 6.2\") != -1 ||\n\t\t\t\tappVersion.indexOf(\"Windows NT 6.1\") != -1 ||\n\t\t\t\tappVersion.indexOf(\"Windows NT 6.0\") != -1) {\n\n\t\t\t\tmaxTileSize = 20000;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < widths.length; i++) {\n\t\t\t//var currentWidth = cells[i].clientWidth;\n\t\t\tvar cell = widths[i];\n\n\t\t\tif ((cell != prevCell && prevCell !== undefined) || (i == widths.length - 1) || (prevWidth > maxTileSize)) {\n\n\t\t\t\tvar totalHeight = dataHeight,\n\t\t\t\t\tcurrentTop = 0,\n\t\t\t\t\trowHeight = Math.floor(maxTileSize / config.row_height) * config.row_height;\n\n\t\t\t\tvar tileWidth = prevWidth;\n\n\t\t\t\twhile (totalHeight > 0) {\n\t\t\t\t\tvar currentHeight = Math.min(totalHeight, rowHeight);\n\t\t\t\t\ttotalHeight -= rowHeight;\n\n\t\t\t\t\ttile = document.createElement(\"div\");\n\n\t\t\t\t\ttile.style.height = currentHeight + \"px\";\n\t\t\t\t\ttile.style.position = \"absolute\";\n\t\t\t\t\ttile.style.top = currentTop + \"px\";\n\t\t\t\t\ttile.style.left = leftPos + \"px\";\n\n\t\t\t\t\ttile.style.whiteSpace = \"no-wrap\";\n\t\t\t\t\ttile.className = bgTiles[prevCell || cell];\n\n\t\t\t\t\t// if last - short by 1 px (bug fix)\n\t\t\t\t\tif (i == widths.length - 1) {\n\t\t\t\t\t\ttileWidth = cell + tileWidth - 1;\n\t\t\t\t\t}\n\t\t\t\t\ttile.style.width = tileWidth + \"px\";\n\n\t\t\t\t\tdivs.push(tile);\n\t\t\t\t\tcurrentTop += currentHeight;\n\t\t\t\t}\n\t\t\t\tprevWidth = 0;\n\t\t\t\tleftPos += tileWidth;\n\n\t\t\t\t//cell = 0;\n\t\t\t}\n\t\t\tif (cell) {\n\t\t\t\tprevWidth += cell;\n\t\t\t\tprevCell = cell;\n\t\t\t}\n\n\t\t}\n\n\t\treturn divs;\n\t}\n\n\tfunction getCellStyles(targetNode) {\n\t\t// creating temp DOM structure for resolving style parameters. Will be removed after calculating.\n\t\tvar cell = document.createElement(\"div\");\n\t\tcell.className = \"gantt_task_cell\";\n\t\tvar row = document.createElement(\"div\");\n\t\trow.className = \"gantt_task_row\";\n\t\trow.appendChild(cell);\n\t\ttargetNode.appendChild(row);\n\n\t\tvar rowStyles = getComputedStyle(row),\n\t\t\tcellStyles = getComputedStyle(cell);\n\n\t\tvar params = {\n\t\t\tbottomBorderWidth: rowStyles.getPropertyValue(\"border-bottom-width\").replace(\"px\", \"\"),\n\t\t\trightBorderWidth: cellStyles.getPropertyValue(\"border-right-width\").replace(\"px\", \"\"),\n\t\t\tbottomBorderColor: rowStyles.getPropertyValue(\"border-bottom-color\"),\n\t\t\trightBorderColor: cellStyles.getPropertyValue(\"border-right-color\")\n\t\t};\n\n\t\ttargetNode.removeChild(row);\n\n\t\treturn params;\n\t}\n\n\treturn {\n\t\trender: renderBgCanvas\n\t};\n};\n\nmodule.exports = {\n\tcreate: function(){\n\t\treturn createStaticBgHelper(utils, env);\n\t}\n};\n\n","var utils = require(\"../../../utils/utils\");\n\nfunction ScaleHelper(gantt){\n\tvar dateHelper = gantt.date;\n\tvar services = gantt.$services;\n\n\treturn {\n\t\tgetSum: function (sizes, from, to) {\n\t\t\tif (to === undefined)\n\t\t\t\tto = sizes.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\n\t\t\tvar summ = 0;\n\t\t\tfor (var i = from; i <= to; i++)\n\t\t\t\tsumm += sizes[i];\n\n\t\t\treturn summ;\n\t\t},\n\t\tsetSumWidth: function (sum_width, scale, from, to) {\n\t\t\tvar parts = scale.width;\n\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\t\t\tvar length = to - from + 1;\n\n\t\t\tif (from > parts.length - 1 || length <= 0 || to > parts.length - 1)\n\t\t\t\treturn;\n\n\t\t\tvar oldWidth = this.getSum(parts, from, to);\n\n\t\t\tvar diff = sum_width - oldWidth;\n\n\t\t\tthis.adjustSize(diff, parts, from, to);\n\t\t\tthis.adjustSize(-diff, parts, to + 1);\n\n\t\t\tscale.full_width = this.getSum(parts);\n\t\t},\n\t\tsplitSize: function (width, count) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i = 0; i < count; i++) arr[i] = 0;\n\n\t\t\tthis.adjustSize(width, arr);\n\t\t\treturn arr;\n\n\t\t},\n\t\tadjustSize: function (width, parts, from, to) {\n\t\t\tif (!from)\n\t\t\t\tfrom = 0;\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\n\t\t\tvar length = to - from + 1;\n\n\t\t\tvar full = this.getSum(parts, from, to);\n\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tvar share = Math.floor(width * (full ? (parts[i] / full) : (1 / length)));\n\n\t\t\t\tfull -= parts[i];\n\t\t\t\twidth -= share;\n\t\t\t\tlength--;\n\n\t\t\t\tparts[i] += share;\n\t\t\t}\n\t\t\tparts[parts.length - 1] += width;\n\t\t},\n\t\tsortScales: function (scales) {\n\t\t\tfunction cellSize(unit, step) {\n\t\t\t\tvar d = new Date(1970, 0, 1);\n\t\t\t\treturn dateHelper.add(d, step, unit) - d;\n\t\t\t}\n\n\t\t\tscales.sort(function (a, b) {\n\t\t\t\tif (cellSize(a.unit, a.step) < cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (cellSize(a.unit, a.step) > cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\t\tscales[i].index = i;\n\t\t\t}\n\t\t},\n\t\tprimaryScale: function () {\n\n\t\t\tvar config = services.getService(\"templateLoader\");\n\t\t\tconfig.initTemplate(\"date_scale\", undefined, undefined, services.config(), services.templates());\n\n\t\t\treturn {\n\t\t\t\tunit: services.config().scale_unit,\n\t\t\t\tstep: services.config().step,\n\t\t\t\ttemplate: services.templates().date_scale,\n\t\t\t\tdate: services.config().date_scale,\n\t\t\t\tcss: services.templates().scale_cell_class\n\t\t\t};\n\t\t},\n\n\t\tprepareConfigs: function (scales, min_coll_width, container_width, scale_height, minDate, maxDate, rtl) {\n\t\t\tvar heights = this.splitSize(scale_height, scales.length);\n\t\t\tvar full_width = container_width;\n\n\t\t\tvar configs = [];\n\t\t\tfor (var i = scales.length - 1; i >= 0; i--) {\n\t\t\t\tvar main_scale = (i == scales.length - 1);\n\t\t\t\tvar cfg = this.initScaleConfig(scales[i], minDate, maxDate);\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tthis.processIgnores(cfg);\n\t\t\t\t}\n\n\t\t\t\tthis.initColSizes(cfg, min_coll_width, full_width, heights[i]);\n\t\t\t\tthis.limitVisibleRange(cfg);\n\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tfull_width = cfg.full_width;\n\t\t\t\t}\n\n\t\t\t\tconfigs.unshift(cfg);\n\t\t\t}\n\n\n\t\t\tfor (var i = 0; i < configs.length - 1; i++) {\n\t\t\t\tthis.alineScaleColumns(configs[configs.length - 1], configs[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < configs.length; i++) {\n\n\t\t\t\tif(rtl){\n\t\t\t\t\tthis.reverseScale(configs[i]);\n\t\t\t\t}\n\t\t\t\tthis.setPosSettings(configs[i]);\n\t\t\t}\n\t\t\treturn configs;\n\n\t\t},\n\n\t\treverseScale: function(scale){\n\t\t\tscale.width = scale.width.reverse();\n\t\t\tscale.trace_x = scale.trace_x.reverse();\n\n\t\t\tvar indexes = scale.trace_indexes;\n\t\t\tscale.trace_indexes = {};\n\t\t\tscale.trace_index_transition = {};\n\t\t\tscale.rtl = true;\n\t\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\t\tscale.trace_indexes[scale.trace_x[i].valueOf()] = i;\n\t\t\t\tscale.trace_index_transition[indexes[scale.trace_x[i].valueOf()]] = i;\n\t\t\t}\n\t\t\treturn scale;\n\t\t},\n\n\t\tsetPosSettings: function (config) {\n\t\t\tfor (var i = 0, len = config.trace_x.length; i < len; i++) {\n\t\t\t\tconfig.left.push((config.width[i - 1] || 0) + (config.left[i - 1] || 0));\n\t\t\t}\n\t\t},\n\n\t\t_ignore_time_config: function (date, scale) {\n\n\t\t\tif (services.config().skip_off_time) {\n\t\t\t\tvar skip = true;\n\t\t\t\tvar probe = date;\n\n\t\t\t\t// check dates in case custom scale unit, e.g. {unit: \"month\", step: 3}\n\t\t\t\tfor (var i = 0; i < scale.step; i++) {\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tprobe = dateHelper.add(date, i, scale.unit);\n\t\t\t\t\t}\n\n\t\t\t\t\tskip = skip && !this.isWorkTime(probe, scale.unit);\n\t\t\t\t}\n\n\t\t\t\treturn skip;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t//defined in an extension\n\t\tprocessIgnores: function (config) {\n\t\t\tconfig.ignore_x = {};\n\t\t\tconfig.display_count = config.count;\n\t\t},\n\t\tinitColSizes: function (config, min_col_width, full_width, line_height) {\n\t\t\tvar cont_width = full_width;\n\n\t\t\tconfig.height = line_height;\n\n\t\t\tvar column_count = config.display_count === undefined ? config.count : config.display_count;\n\n\t\t\tif (!column_count)\n\t\t\t\tcolumn_count = 1;\n\n\t\t\tconfig.col_width = Math.floor(cont_width / column_count);\n\n\t\t\tif (min_col_width) {\n\t\t\t\tif (config.col_width < min_col_width) {\n\t\t\t\t\tconfig.col_width = min_col_width;\n\t\t\t\t\tcont_width = config.col_width * column_count;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconfig.width = [];\n\t\t\tvar ignores = config.ignore_x || {};\n\t\t\tfor (var i = 0; i < config.trace_x.length; i++) {\n\t\t\t\tif (ignores[config.trace_x[i].valueOf()] || (config.display_count == config.count)) {\n\t\t\t\t\tconfig.width[i] = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// width of month columns should be proportional month duration\n\t\t\t\t\tvar width = 1;\n\t\t\t\t\tif (config.unit == \"month\") {\n\t\t\t\t\t\tvar days = Math.round((dateHelper.add(config.trace_x[i], config.step, config.unit) - config.trace_x[i]) / (1000 * 60 * 60 * 24));\n\t\t\t\t\t\twidth = days;\n\t\t\t\t\t}\n\t\t\t\t\tconfig.width[i] = width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.adjustSize(cont_width - this.getSum(config.width)/* 1 width per column from the code above */, config.width);\n\t\t\tconfig.full_width = this.getSum(config.width);\n\t\t},\n\t\tinitScaleConfig: function (config, min_date, max_date) {\n\t\t\tvar cfg = utils.mixin({\n\t\t\t\tcount: 0,\n\t\t\t\tcol_width: 0,\n\t\t\t\tfull_width: 0,\n\t\t\t\theight: 0,\n\t\t\t\twidth: [],\n\t\t\t\tleft: [],\n\t\t\t\ttrace_x: [],\n\t\t\t\ttrace_indexes: {},\n\t\t\t\tmin_date: new Date(min_date),\n\t\t\t\tmax_date: new Date(max_date)\n\t\t\t}, config);\n\n\t\t\tthis.eachColumn(config.unit, config.step, min_date, max_date, function (date) {\n\t\t\t\tcfg.count++;\n\t\t\t\tcfg.trace_x.push(new Date(date));\n\t\t\t\tcfg.trace_indexes[date.valueOf()] = cfg.trace_x.length - 1;\n\t\t\t});\n\n\t\t\tcfg.trace_x_ascending = cfg.trace_x.slice();\n\t\t\treturn cfg;\n\t\t},\n\t\titerateScales: function (lower_scale, upper_scale, from, to, callback) {\n\t\t\tvar upper_dates = upper_scale.trace_x;\n\t\t\tvar lower_dates = lower_scale.trace_x;\n\n\t\t\tvar prev = from || 0;\n\t\t\tvar end = to || (lower_dates.length - 1);\n\t\t\tvar prevUpper = 0;\n\n\n\t\t\tfor (var up = 1; up < upper_dates.length; up++) {\n\t\t\t\tvar target_index = (lower_scale.trace_indexes[+upper_dates[up]]);\n\t\t\t\tif (target_index !== undefined && target_index <= end) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(this, [prevUpper, up, prev, target_index]);\n\t\t\t\t\t}\n\t\t\t\t\tprev = target_index;\n\t\t\t\t\tprevUpper = up;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\talineScaleColumns: function (lower_scale, upper_scale, from, to) {\n\t\t\tthis.iterateScales(lower_scale, upper_scale, from, to, function (upper_start, upper_end, lower_start, lower_end) {\n\t\t\t\tvar targetWidth = this.getSum(lower_scale.width, lower_start, lower_end - 1);\n\t\t\t\tvar actualWidth = this.getSum(upper_scale.width, upper_start, upper_end - 1);\n\t\t\t\tif (actualWidth != targetWidth) {\n\t\t\t\t\tthis.setSumWidth(targetWidth, upper_scale, upper_start, upper_end - 1);\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\n\t\teachColumn: function (unit, step, min_date, max_date, callback) {\n\t\t\tvar start = new Date(min_date),\n\t\t\t\tend = new Date(max_date);\n\t\t\tif (dateHelper[unit + \"_start\"]) {\n\t\t\t\tstart = dateHelper[unit + \"_start\"](start);\n\t\t\t}\n\n\t\t\tvar curr = new Date(start);\n\t\t\tif (+curr >= +end) {\n\t\t\t\tend = dateHelper.add(curr, step, unit);\n\t\t\t}\n\t\t\twhile (+curr < +end) {\n\t\t\t\tcallback.call(this, new Date(curr));\n\t\t\t\tvar tzOffset = curr.getTimezoneOffset();\n\t\t\t\tcurr = dateHelper.add(curr, step, unit);\n\t\t\t\tcurr = gantt._correct_dst_change(curr, tzOffset, step, unit);\n\t\t\t\tif (dateHelper[unit + '_start'])\n\t\t\t\t\tcurr = dateHelper[unit + \"_start\"](curr);\n\t\t\t}\n\t\t},\n\t\tlimitVisibleRange: function (cfg) {\n\t\t\tvar dates = cfg.trace_x;\n\n\t\t\tvar left = 0, right = cfg.width.length - 1;\n\t\t\tvar diff = 0;\n\t\t\tif (+dates[0] < +cfg.min_date && left != right) {\n\t\t\t\tvar width = Math.floor(cfg.width[0] * ((dates[1] - cfg.min_date) / (dates[1] - dates[0])));\n\t\t\t\tdiff += cfg.width[0] - width;\n\t\t\t\tcfg.width[0] = width;\n\n\t\t\t\tdates[0] = new Date(cfg.min_date);\n\t\t\t}\n\n\t\t\tvar last = dates.length - 1;\n\t\t\tvar lastDate = dates[last];\n\t\t\tvar outDate = dateHelper.add(lastDate, cfg.step, cfg.unit);\n\t\t\tif (+outDate > +cfg.max_date && last > 0) {\n\t\t\t\tvar width = cfg.width[last] - Math.floor(cfg.width[last] * ((outDate - cfg.max_date) / (outDate - lastDate)));\n\t\t\t\tdiff += cfg.width[last] - width;\n\t\t\t\tcfg.width[last] = width;\n\t\t\t}\n\n\t\t\tif (diff) {\n\t\t\t\tvar full = this.getSum(cfg.width);\n\t\t\t\tvar shared = 0;\n\t\t\t\tfor (var i = 0; i < cfg.width.length; i++) {\n\t\t\t\t\tvar share = Math.floor(diff * (cfg.width[i] / full));\n\t\t\t\t\tcfg.width[i] += share;\n\t\t\t\t\tshared += share;\n\t\t\t\t}\n\t\t\t\tthis.adjustSize(diff - shared, cfg.width);\n\t\t\t}\n\n\t\t}\n\t};\n}\n\nmodule.exports = ScaleHelper;\n","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tenv = require(\"../../../utils/env\"),\n\tCell = require(\"./cell\");\n\nvar ScrollbarCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ScrollbarCell, _super);\n\tfunction ScrollbarCell(parent, config, factory, gantt) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tthis.$config = utils.mixin(config, {scroll: \"x\"});\n\t\t_this._scrollHorizontalHandler = utils.bind(_this._scrollHorizontalHandler, _this);\n\t\t_this._scrollVerticalHandler = utils.bind(_this._scrollVerticalHandler, _this);\n\t\t_this._outerScrollVerticalHandler = utils.bind(_this._outerScrollVerticalHandler, _this);\n\t\t_this._outerScrollHorizontalHandler = utils.bind(_this._outerScrollHorizontalHandler, _this);\n\t\t_this._mouseWheelHandler = utils.bind(_this._mouseWheelHandler, _this);\n\n\t\tthis.$config.hidden = true;\n\t\tvar size = gantt.config.scroll_size;\n\n\t\tif(gantt.env.isIE){\n\t\t\t// full element height/width must be bigger than just a browser scrollbar,\n\t\t\t// otherwise the scrollbar element won't be scrolled on click\n\t\t\tsize += 1;\n\t\t}\n\n\t\tif(this._isHorizontal()){\n\t\t\t_this.$config.height = size;\n\t\t\t_this.$parent.$config.height = size;\n\t\t}else{\n\t\t\t_this.$config.width = size;\n\t\t\t_this.$parent.$config.width = size;\n\t\t}\n\n\t\tthis.$config.scrollPosition = 0;\n\n\t\t_this.$name = \"scroller\";\n\t\treturn _this;\n\t}\n\n\tScrollbarCell.prototype.init = function(container){\n\t\tcontainer.innerHTML = this.$toHTML();\n\t\tthis.$view = container.firstChild;\n\n\t\tif(!this.$view){\n\t\t\tthis.init();\n\t\t}\n\t\tif(this._isVertical()){\n\t\t\tthis._initVertical();\n\t\t}else{\n\t\t\tthis._initHorizontal();\n\t\t}\n\t\tthis._initMouseWheel();\n\t\tthis._initLinkedViews();\n\t};\n\n\tScrollbarCell.prototype.$toHTML = function () {\n\t\tvar className = this._isHorizontal() ? \"gantt_hor_scroll\" : \"gantt_ver_scroll\";\n\t\treturn \"<div class='gantt_layout_cell \"+className+\"'><div style='\"+(this._isHorizontal() ? \"width:2000px\" : \"height:2000px\")+\"'></div></div>\";\n\t};\n\n\tScrollbarCell.prototype._getRootParent = function(){\n\t\tvar parent = this.$parent;\n\t\twhile(parent && parent.$parent){\n\t\t\tparent = parent.$parent;\n\t\t}\n\t\tif(parent){\n\t\t\treturn parent;\n\t\t}\n\t};\n\n\n\tfunction eachCell(root, res){\n\t\tres.push(root);\n\t\tif(root.$cells){\n\t\t\tfor(var i = 0; i < root.$cells.length; i++){\n\t\t\t\teachCell(root.$cells[i], res);\n\t\t\t}\n\t\t}\n\t}\n\tScrollbarCell.prototype._eachView = function(){\n\t\tvar res = [];\n\t\teachCell(this._getRootParent(), res);\n\t\treturn res;\n\t};\n\n\tScrollbarCell.prototype._getLinkedViews = function(){\n\t\tvar views = this._eachView();\n\t\tvar res = [];\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].$config && ((this._isVertical() && views[i].$config.scrollY == this.$id) || (this._isHorizontal() && views[i].$config.scrollX == this.$id)) ){\n\t\t\t\tres.push(views[i]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\n\tScrollbarCell.prototype._initHorizontal = function(){\n\t\tthis.$scroll_hor = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollHorizontalHandler);\n\n\t};\n\n\tScrollbarCell.prototype._initLinkedViews = function(){\n\t\tvar views = this._getLinkedViews();\n\t\tvar css = this._isVertical() ?\"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical\" : \"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal\";\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\t//views[i].$config.css = [views[i].$config.css || \"\", css].join(\" \");\n\t\t\tdomHelpers.addClassName(views[i].$view || views[i].getNode(), css);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._initVertical = function(){\n\t\tthis.$scroll_ver = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollVerticalHandler);\n\t};\n\n\tScrollbarCell.prototype._updateLinkedViews = function(){\n\t};\n\n\tScrollbarCell.prototype._initMouseWheel = function(){\n\t\tvar ff = env.isFF;\n\t\tif (ff)\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"wheel\", this._mouseWheelHandler);\n\t\telse\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"mousewheel\", this._mouseWheelHandler);\n\t};\n\n\n\n\n\tScrollbarCell.prototype.scrollHorizontally = function(left){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_hor.scrollLeft = left;\n\t\tthis.$config.codeScrollLeft = left;\n\t\tleft = this.$scroll_hor.scrollLeft;\n\n\t\tvar views = this._getLinkedViews();\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(left, undefined);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = left;\n\t\tthis.callEvent(\"onScroll\", [oldSize, left, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\tScrollbarCell.prototype.scrollVertically = function(top){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_ver.scrollTop = top;\n\t\ttop = this.$scroll_ver.scrollTop;\n\n\t\tvar views = this._getLinkedViews();\n\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(undefined, top);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = top;\n\t\tthis.callEvent(\"onScroll\", [oldSize, top, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\n\tScrollbarCell.prototype._isVertical = function(){\n\t\treturn this.$config.scroll == \"y\";\n\t};\n\tScrollbarCell.prototype._isHorizontal = function(){\n\t\treturn this.$config.scroll == \"x\";\n\t};\n\tScrollbarCell.prototype._scrollHorizontalHandler = function (e) {\n\t\tif(this._isVertical() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\t//in safari we can catch previous onscroll after setting new value from mouse-wheel event\n\t\t//set delay to prevent value drifiting\n\t\tif ((new Date()) - ( this._wheel_time || 0 ) < 100) return true;\n\t\tif (this.$gantt._touch_scroll_active) return;\n\t\tvar left = this.$scroll_hor.scrollLeft;\n\n\t\tthis.scrollHorizontally(left);\n\n\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t};\n\tScrollbarCell.prototype._outerScrollHorizontalHandler = function(e){\n\t\tif(this._isVertical()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.show = function(){\n\t\tthis.$parent.show();\n\t};\n\tScrollbarCell.prototype.hide = function(){\n\t\tthis.$parent.hide();\n\t};\n\n\tScrollbarCell.prototype._getScrollSize = function(){\n\t\tvar scrollSize = 0;\n\t\tvar outerSize = 0;\n\t\tvar isHorizontal = this._isHorizontal();\n\n\t\tvar linked = this._getLinkedViews();\n\t\tvar view;\n\t\tvar scrollProperty = isHorizontal ? \"scrollWidth\" : \"scrollHeight\",\n\t\t\tinnerSizeProperty = isHorizontal ? \"contentX\" : \"contentY\";\n\t\tvar outerProperty = isHorizontal ? \"x\" : \"y\";\n\t\tvar offset = this._getScrollOffset();\n\n\t\tfor(var i = 0; i < linked.length; i++){\n\t\t\tview = linked[i];\n\t\t\tif(!(view && view.$content && view.$content.getSize && !view.$config.hidden)) continue;\n\n\t\t\tvar sizes = view.$content.getSize();\n\t\t\tvar cellScrollSize;\n\t\t\tif(sizes.hasOwnProperty(scrollProperty)){\n\t\t\t\tcellScrollSize = sizes[scrollProperty];\n\t\t\t}else{\n\t\t\t\tcellScrollSize = sizes[innerSizeProperty];\n\t\t\t}\n\n\t\t\tif(offset){\n\t\t\t\t// precalculated vertical/horizontal offsets of scrollbar to emulate 4.x look\n\t\t\t\tif(sizes[innerSizeProperty] > sizes[outerProperty] && sizes[innerSizeProperty] > scrollSize && (cellScrollSize > (sizes[outerProperty] - offset + 2))){\n\t\t\t\t\tscrollSize = cellScrollSize + (isHorizontal ? 0 : 2);\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar nonScrollableSize = Math.max(sizes[innerSizeProperty] - cellScrollSize, 0);\n\t\t\t\tvar scrollableViewPortSize = Math.max(sizes[outerProperty] - nonScrollableSize, 0);\n\t\t\t\tcellScrollSize = cellScrollSize + nonScrollableSize;\n\n\t\t\t\tif(cellScrollSize > scrollableViewPortSize && (cellScrollSize > scrollSize) ){\n\t\t\t\t\t//|| (cellScrollSize === scrollSize && sizes[outerProperty] < outerSize) // same scroll width but smaller scrollable view port\n\n\t\t\t\t\tscrollSize = cellScrollSize;\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\touterScroll: outerSize,\n\t\t\tinnerScroll: scrollSize\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.scroll = function(position){\n\t\tif(this._isHorizontal()){\n\t\t\tthis.scrollHorizontally(position);\n\t\t}else{\n\t\t\tthis.scrollVertically(position);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.getScrollState = function(){\n\t\treturn {\n\t\t\tvisible: this.isVisible(),\n\t\t\tdirection: this.$config.scroll,\n\t\t\tsize: this.$config.outerSize,\n\t\t\tscrollSize: this.$config.scrollSize || 0,\n\t\t\tposition: this.$config.scrollPosition || 0\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.setSize = function(width, height){\n\t\t_super.prototype.setSize.apply(this, arguments);\n\n\t\tvar scrollSizes = this._getScrollSize();\n\n\t\tvar ownSize = (this._isVertical() ? height : width) - this._getScrollOffset() + (this._isHorizontal() ? 1 : 0);\n\n\t\tif(scrollSizes.innerScroll && ownSize > scrollSizes.outerScroll){\n\t\t\tscrollSizes.innerScroll += (ownSize - scrollSizes.outerScroll);\n\t\t}\n\t\tthis.$config.scrollSize = scrollSizes.innerScroll;\n\n\t\tthis.$config.width = width;\n\t\tthis.$config.height = height;\n\t\tthis._setScrollSize(scrollSizes.innerScroll);\n\t};\n\n\tScrollbarCell.prototype.isVisible = function(){\n\t\treturn !!(this.$parent && this.$parent.$view.parentNode);\n\t};\n\n\tScrollbarCell.prototype.shouldShow = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn false;\n\t\t}else if(scrollSizes.innerScroll && !(this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.shouldHide = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\n\tScrollbarCell.prototype.toggleVisibility = function(){\n\t\tif(this.shouldHide()){\n\t\t\tthis.hide();\n\t\t}else if(this.shouldShow()){\n\t\t\tthis.show();\n\t\t}\n\t};\n\t\n\tScrollbarCell.prototype._getScaleOffset = function(view){\n\t\tvar offset = 0;\n\t\tif(view && (view.$config.view == \"timeline\" || view.$config.view == \"grid\")){\n\t\t\toffset = view.$content.$getConfig().scale_height;\n\t\t}\n\t\treturn offset;\n\t};\n\n\tScrollbarCell.prototype._getScrollOffset = function(){\n\t\tvar offset = 0;\n\t\tif(this._isVertical()){\n\t\t\tvar parentLayout = this.$parent.$parent;\n\t\t\toffset = Math.max(\n\t\t\t\tthis._getScaleOffset(parentLayout.getPrevSibling(this.$parent.$id)),\n\t\t\t\tthis._getScaleOffset(parentLayout.getNextSibling(this.$parent.$id))\n\t\t\t\t);\n\t\t}else{\n\t\t\tvar linked = this._getLinkedViews();\n\n\t\t\tfor (var i = 0; i < linked.length; i++) {\n\t\t\t\tvar view = linked[i],\n\t\t\t\t\tvparent = view.$parent;\n\t\t\t\tvar cells = vparent.$cells;\n\n\t\t\t\tvar last = cells[cells.length - 1];\n\n\t\t\t\tif (last && last.$config.view == \"scrollbar\" && last.$config.hidden === false) {\n\t\t\t\t\toffset = last.$config.width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\treturn offset || 0;\n\t};\n\n\tScrollbarCell.prototype._setScrollSize = function(size){\n\t\tvar property = this._isHorizontal() ? \"width\" : \"height\";\n\t\tvar scrollbar = this._isHorizontal() ? this.$scroll_hor : this.$scroll_ver;\n\n\t\tvar offset = this._getScrollOffset();\n\n\t\tvar node = scrollbar.firstChild;\n\n\t\tif(offset){\n\t\t\tif(this._isVertical()){\n\n\t\t\t\tthis.$config.outerSize = (this.$config.height - offset + 3);\n\t\t\t\tscrollbar.style.height = this.$config.outerSize + \"px\";\n\t\t\t\tscrollbar.style.top = (offset-1) + \"px\";\n\t\t\t\tdomHelpers.addClassName(scrollbar, this.$parent._borders.top);\n\t\t\t\tdomHelpers.addClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\t}else{\n\t\t\t\tthis.$config.outerSize = (this.$config.width - offset + 1);\n\t\t\t\tscrollbar.style.width = this.$config.outerSize + \"px\";\n\t\t\t\t//domHelpers.addClassName(scrollbar, this.$parent._borders.right);\n\t\t\t}\n\t\t}else{\n\t\t\tscrollbar.style.top = \"auto\";\n\t\t\tdomHelpers.removeClassName(scrollbar, this.$parent._borders.top);\n\t\t\tdomHelpers.removeClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\tthis.$config.outerSize = this.$config.height;\n\t\t}\n\n\t\tnode.style[property] = size + \"px\";\n\t};\n\n\tScrollbarCell.prototype._scrollVerticalHandler = function (e) {\n\t\tif(this._scrollHorizontalHandler() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.$gantt._touch_scroll_active) return;\n\t\tvar top = this.$scroll_ver.scrollTop;\n\t\tvar prev = this._oldTop;\n\t\tif(top == prev) return;\n\n\t\tthis.scrollVertically(top);\n\n\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\n\t};\n\tScrollbarCell.prototype._outerScrollVerticalHandler = function(e){\n\t\tif(this._scrollHorizontalHandler()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._checkWheelTarget = function(targetNode){\n\t\tvar connectedViews = this._getLinkedViews().concat(this);\n\n\t\tfor(var i = 0; i < connectedViews.length; i++){\n\t\t\tvar node = connectedViews[i].$view;\n\t\t\tif(domHelpers.isChildOf(targetNode, node)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tScrollbarCell.prototype._mouseWheelHandler = function(e){\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(!this._checkWheelTarget(target))\n\t\t\treturn;\n\n\t\tthis._wheel_time = new Date();\n\n\t\tvar res = {};\n\t\tvar ff = env.isFF;\n\t\tvar wx = ff ? (e.deltaX*-20) : e.wheelDeltaX*2;\n\t\tvar wy = ff ? (e.deltaY*-40) : e.wheelDelta;\n\n\t\tif(e.shiftKey && !(e.deltaX || e.wheelDeltaX)){\n\t\t\t// shift+mousewheel for horizontal scroll\n\t\t\twx = wy*2;\n\t\t\twy = 0;\n\t\t}\n\n\t\tif (wx && Math.abs(wx) > Math.abs(wy)){\n\t\t\tif(this._isVertical()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.x) return true;//no horisontal scroll, must not block scrolling\n\t\t\tif(!this.$scroll_hor || !this.$scroll_hor.offsetWidth) return true;\n\n\t\t\tvar dir  = wx/-40;\n\t\t\tvar oldLeft = this._oldLeft;\n\t\t\tvar left = oldLeft+dir*30;\n\t\t\tthis.scrollHorizontally(left);\n\t\t\tthis.$scroll_hor.scrollLeft = left;\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldLeft == this.$scroll_hor.scrollLeft){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t\t} else {\n\t\t\tif(this._isHorizontal()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.y) return true;//no vertical scroll, must not block scrolling\n\t\t\tif(!this.$scroll_ver || !this.$scroll_ver.offsetHeight) return true;\n\n\t\t\tvar dir  = wy/-40;\n\t\t\tif (typeof wy == \"undefined\")\n\t\t\t\tdir = e.detail;\n\n\t\t\tvar oldTop = this._oldTop;\n\t\t\tvar top = this.$scroll_ver.scrollTop+dir*30;\n\n\t\t\t//if(!this.$gantt.config.prevent_default_scroll &&\n\t\t\t//\t(this.$gantt._cached_scroll_pos && ((this.$gantt._cached_scroll_pos.y == top) || (this.$gantt._cached_scroll_pos.y <= 0 && top <= 0)))) return true;\n\n\n\t\t\tthis.scrollVertically(top);\n\t\t\tthis.$scroll_ver.scrollTop = top;\n\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldTop == this.$scroll_ver.scrollTop){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\t\t}\n\n\t\tif (e.preventDefault)\n\t\t\te.preventDefault();\n\t\te.cancelBubble=true;\n\t\treturn false;\n\t};\n\n\treturn ScrollbarCell;\n})(Cell);\n\nmodule.exports = ScrollbarCell;","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tCell = require(\"./cell\");\n\nvar ResizerCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ResizerCell, _super);\n\tfunction ResizerCell(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tvar startBackSize, startFrontSize;\n\n\t\t_this._moveHandler = function (e) {\n\t\t\t_this._moveResizer(_this._resizer, e.pageX, e.pageY);\n\t\t};\n\t\t_this._upHandler = function () {\n\t\t\tvar newSizes = _this._getNewSizes();\n\t\t\tif(_this.callEvent(\"onResizeEnd\", [startBackSize, startFrontSize, newSizes ? newSizes.back : 0, newSizes ? newSizes.front : 0]) !== false){\n\t\t\t\t_this._setSizes();\n\t\t\t}\n\n\t\t\t_this._setBackground(false);\n\t\t\t_this._clearResizer();\n\t\t\t_this._clearListeneres();\n\t\t};\n\n\t\t_this._clearListeneres = function(){\n\t\t\tthis.$domEvents.detach(document, \"mouseup\", _this._upHandler);\n\t\t\tthis.$domEvents.detach(document, \"mousemove\", _this._moveHandler);\n\t\t\tthis.$domEvents.detach(document, \"mousemove\", _this._startOnMove);\n\t\t\tthis.$domEvents.detach(document, \"mouseup\", _this._cancelDND);\n\t\t};\n\n\t\t_this._callStartDNDEvent = function(){\n\t\t\tif (this._xMode) {\n\t\t\t\tstartBackSize = this._behind.$config.width || this._behind.$view.offsetWidth;\n\t\t\t\tstartFrontSize = this._front.$config.width || this._front.$view.offsetWidth;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstartBackSize = this._behind.$config.height || this._behind.$view.offsetHeight;\n\t\t\t\tstartFrontSize = this._front.$config.height || this._front.$view.offsetHeight;\n\t\t\t}\n\n\t\t\tif(_this.callEvent(\"onResizeStart\", [startBackSize, startFrontSize]) === false){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\t_this._startDND = function(e){\n\t\t\tvar res = this._callStartDNDEvent();\n\t\t\tif(res === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar stop = false;\n\t\t\tthis._eachGroupItem(function(resizer){\n\t\t\t\tresizer._getSiblings();\n\t\t\t\tif(resizer._callStartDNDEvent() === false){\n\t\t\t\t\tstop = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(stop){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_this._moveHandler(e);\n\n\t\t\t_this.$domEvents.attach(document, \"mousemove\", _this._moveHandler);\n\t\t\t_this.$domEvents.attach(document, \"mouseup\", _this._upHandler);\n\t\t};\n\n\t\t_this._cancelDND = function(){\n\t\t\t_this._setBackground(false);\n\t\t\t_this._clearResizer();\n\t\t\t_this._clearListeneres();\n\t\t};\n\n\t\t_this._startOnMove = function(e){\n\t\t\tif(_this._isPosChanged(e)){\n\t\t\t\t_this._clearListeneres();\n\t\t\t\t_this._startDND(e);\n\t\t\t}\n\t\t};\n\n\t\t_this._downHandler = function (e) {\n\t\t\t_this._getSiblings();\n\n\t\t\tif (_this._behind.$config.collapsed || _this._front.$config.collapsed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_this._setBackground(true);\n\t\t\t_this._resizer = _this._setResizer();\n\n\t\t\t_this._positions = {\n\t\t\t\tx: e.pageX,\n\t\t\t\ty: e.pageY,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t};\n\n\t\t\t_this.$domEvents.attach(document, \"mousemove\", _this._startOnMove);\n\t\t\t_this.$domEvents.attach(document, \"mouseup\", _this._cancelDND);\n\t\t};\n\t\t_this.$name = \"resizer\";\n\t\treturn _this;\n\t}\n\tResizerCell.prototype.init = function () {\n\t\tvar _this = this;\n\t\t_super.prototype.init.call(this);\n\t\tthis._xMode = this.$config.mode === \"x\";\n\t\tif (this._xMode && !this.$config.width) {\n\t\t\tthis.$config.width = this.$config.minWidth = 1;\n\t\t}\n\t\telse if (!this._xMode && !this.$config.height) {\n\t\t\tthis.$config.height = this.$config.minHeight = 1;\n\t\t}\n\n\t\tthis.$config.margin = -1;\n\n\t\tthis.$domEvents.attach(this.$view, \"mousedown\", _this._downHandler);\n\n\t};\n\tResizerCell.prototype.$toHTML = function () {\n\t\tvar mode = this.$config.mode;\n\t\tvar css = this.$config.css || \"\";\n\t\treturn \"<div class='gantt_layout_cell gantt_resizer gantt_resizer_\"+mode+\"'><div class='gantt_layout_content gantt_resizer_\" + mode + (css ? (\" \" + css) : \"\") + \"'></div></div>\";\n\t};\n\n\tResizerCell.prototype._clearResizer = function(){\n\t\tif(this._resizer){\n\t\t\tif(this._resizer.parentNode){\n\t\t\t\tthis._resizer.parentNode.removeChild(this._resizer);\n\t\t\t}\n\t\t\tthis._resizer = null;\n\t\t}\n\t};\n\n\tResizerCell.prototype._isPosChanged = function(e){\n\t\tif(!this._positions){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(Math.abs(this._positions.x - e.pageX) > 3 || Math.abs(this._positions.y - e.pageY) > 3){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(Date.now() - this._positions.timestamp > 300){\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tResizerCell.prototype._getSiblings = function () {\n\t\tvar cells = this.$parent.getCells();\n\n\t\tif(this.$config.prev){\n\t\t\tthis._behind = this.$factory.getView(this.$config.prev);\n\t\t\tif(!(this._behind instanceof Cell)){\n\t\t\t\tthis._behind = this._behind.$parent;\n\t\t\t}\n\t\t}\n\t\tif(this.$config.next){\n\t\t\tthis._front = this.$factory.getView(this.$config.next);\n\t\t\tif(!(this._front instanceof Cell)){\n\t\t\t\tthis._front = this._behind.$parent;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tif (this === cells[i]) {\n\t\t\t\tif(!this._behind)\n\t\t\t\t\tthis._behind = cells[i - 1];\n\t\t\t\tif(!this._front)\n\t\t\t\t\tthis._front = cells[i + 1];\n\t\t\t}\n\t\t}\n\t};\n\tResizerCell.prototype._setBackground = function (state) {\n\t\tvar classes = \"gantt_resizing\";\n\t\tif (!state) {\n\t\t\tdomHelpers.removeClassName(this._behind.$view, classes);\n\t\t\tdomHelpers.removeClassName(this._front.$view, classes);\n\t\t\tdomHelpers.removeClassName(document.body, 'gantt_noselect');\n\t\t\treturn;\n\t\t}\n\t\tdomHelpers.addClassName(this._behind.$view, classes, true);\n\t\tdomHelpers.addClassName(this._front.$view, classes, true);\n\t\tdomHelpers.addClassName(document.body, 'gantt_noselect', true);\n\t};\n\tResizerCell.prototype._setResizer = function () {\n\t\tvar resizer = document.createElement(\"div\");\n\t\tresizer.className = \"gantt_resizer_stick\";\n\t\tthis.$view.appendChild(resizer);\n\t\tthis.$view.style.overflow = \"visible\";\n\t\tresizer.style.height = this.$view.style.height;\n\t\treturn resizer;\n\t};\n\n\tResizerCell.prototype._getDirection = function(x, y){\n\t\tvar shift;\n\t\tif (this._xMode) {\n\t\t\tshift = x - this._positions.x;\n\t\t}else{\n\t\t\tshift = y - this._positions.y;\n\t\t}\n\t\treturn shift ? shift < 0 ? -1 : 1 : 0;\n\t};\n\n\tResizerCell.prototype._getResizePosition = function(x, y){\n\t\tvar size;\n\t\tvar behindSide;\n\t\tvar behindMin;\n\t\tvar frontSide;\n\t\tvar frontMin;\n\t\tif (this._xMode) {\n\t\t\tsize = x - this._positions.x;\n\t\t\tbehindSide = this._behind.$config.width || this._behind.$view.offsetWidth;\n\t\t\tfrontSide = this._front.$config.width || this._front.$view.offsetWidth;\n\t\t\tbehindMin = this._behind.$config.minWidth;\n\t\t\tfrontMin = this._front.$config.minWidth;\n\t\t}\n\t\telse {\n\t\t\tsize = y - this._positions.y;\n\t\t\tbehindSide = this._behind.$config.height || this._behind.$view.offsetHeight;\n\t\t\tfrontSide = this._front.$config.height || this._front.$view.offsetHeight;\n\t\t\tbehindMin = this._front.$config.minHeight;\n\t\t\tfrontMin = this._front.$config.minHeight;\n\t\t}\n\t\tvar direction = this._getDirection(x, y);\n\t\tvar newBehindSide,\n\t\t\tnewFrontSide;\n\n\t\tif (direction === -1) {\n\t\t\tnewFrontSide = frontSide - size;\n\t\t\tnewBehindSide = behindSide - Math.abs(size);\n\n\t\t\tif (frontSide - size > this._front.$config.maxWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (Math.abs(size) >= behindSide) {\n\t\t\t\tsize = -Math.abs(behindSide - 2);\n\t\t\t}\n\t\t\t// if min width\n\t\t\tif (behindSide - Math.abs(size) <= behindMin) {\n\t\t\t\t//this._resizer.style.background = \"red\";\n\t\t\t\tsize = -Math.abs(behindSide - behindMin);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tnewFrontSide = frontSide - Math.abs(size);\n\t\t\tnewBehindSide = behindSide + size;\n\n\t\t\tif (behindSide + size > this._behind.$config.maxWidth) {\n\t\t\t\tsize = this._behind.$config.maxWidth - behindSide;\n\t\t\t\t// return;\n\t\t\t}\n\t\t\tif (Math.abs(size) >= frontSide) {\n\t\t\t\tsize = frontSide - 2;\n\t\t\t}\n\t\t\t// if min width\n\t\t\tif (frontSide - Math.abs(size) <= frontMin) {\n\t\t\t\tsize = Math.abs(frontSide - frontMin);\n\t\t\t}\n\t\t}\n\n\t\tif (direction === -1) {\n\t\t\tnewFrontSide = frontSide - size;\n\t\t\tnewBehindSide = behindSide - Math.abs(size);\n\t\t} else {\n\t\t\tnewFrontSide = frontSide - Math.abs(size);\n\t\t\tnewBehindSide = behindSide + size;\n\t\t}\n\n\t\treturn {\n\t\t\tsize: size,\n\t\t\tnewFrontSide: newFrontSide,\n\t\t\tnewBehindSide: newBehindSide\n\t\t};\n\t};\n\n\tResizerCell.prototype._getGroupName = function(){\n\t\tthis._getSiblings();\n\t\treturn this._front.$config.group || this._behind.$config.group;\n\t};\n\n\tResizerCell.prototype._eachGroupItem = function(callback, master){\n\t\tvar layout = this.$factory.getView(\"main\");\n\n\t\tvar group = this._getGroupName();\n\n\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\t\tfor(var i = 0; i < resizers.length; i++) {\n\t\t\tif (resizers[i]._getGroupName() == group && resizers[i] != this) {\n\t\t\t\tcallback.call(master || this, resizers[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tResizerCell.prototype._getGroupResizePosition = function(x, y){\n\t\tvar sizes = this._getResizePosition(x, y);\n\n\t\tif(!this._getGroupName()){\n\t\t\treturn sizes;\n\t\t}\n\n\t\tvar positions = [sizes];\n\n\t\tthis._eachGroupItem(function(resizer){\n\t\t\tresizer._getSiblings();\n\t\t\tvar pos = utils.copy(this._positions);\n\t\t\tif(this._xMode){\n\t\t\t\tpos.x += (resizer._behind.$config.width - this._behind.$config.width);\n\t\t\t}else{\n\t\t\t\tpos.y += (resizer._behind.$config.height - this._behind.$config.height);\n\t\t\t}\n\t\t\tresizer._positions = pos;\n\t\t\tpositions.push(resizer._getResizePosition(x, y));\n\t\t});\n\n\t\tvar minMax;\n\t\tfor(var i =0; i < positions.length; i++){\n\t\t\tif(!positions[i]) return;\n\t\t\tif(minMax === undefined){\n\t\t\t\tminMax = positions[i];\n\t\t\t}else if(positions[i].newBehindSide > minMax.newBehindSide){\n\t\t\t\tminMax = positions[i];\n\t\t\t}\n\t\t}\n\n\t/*\tif(minMax != sizes){\n\t\t\tminMax.size = minMax.size;\n\t\t}*/\n\n\t\treturn minMax;\n\t};\n\n\tResizerCell.prototype._moveResizer = function (av, x, y) {\n\t\tif (x === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar sizes = this._getGroupResizePosition(x, y);\n\t\tif(!sizes)\n\t\t\treturn;\n\n\t\tif (Math.abs(sizes.size) === 1) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._xMode) {\n\t\t\tav.style.left = sizes.size + 'px';\n\t\t\tthis._positions.nextX = sizes.size || 0;\n\t\t}\n\t\telse {\n\t\t\tav.style.top = sizes.size + 'px';\n\t\t\tthis._positions.nextY = sizes.size || 0;\n\t\t}\n\n\t\tthis.callEvent(\"onResize\", [sizes.newBehindSide, sizes.newFrontSide]);\n\t};\n\tResizerCell.prototype._setGravity = function (cell) {\n\t\tvar size = this._xMode ? \"offsetWidth\" : \"offsetHeight\";\n\t\tvar position = this._xMode ? this._positions.nextX : this._positions.nextY;\n\t\tvar frontSize = this._front.$view[size];\n\t\tvar behindSize = this._behind.$view[size];\n\t\tvar frontG = this._front.getSize().gravity;\n\t\tvar behindG = this._behind.getSize().gravity;\n\t\tvar newFrontG = (frontSize - position) / frontSize * frontG;\n\t\tvar newBehindG = (behindSize + position) / behindSize * behindG;\n\t\tif (cell !== \"front\") {\n\t\t\tthis._front.$config.gravity = newFrontG;\n\t\t}\n\t\tif (cell !== \"behind\") {\n\t\t\tthis._behind.$config.gravity = newBehindG;\n\t\t}\n\t};\n\n/*\tResizerCell.prototype.setSize = function(){\n\t\t_super.apply(this, arguments)\n\t};*/\n\n\tResizerCell.prototype._getNewSizes = function(){\n\t\tvar behindSize = this._xMode ? this._behind.$config.width : this._behind.$config.height;\n\t\tvar frontSize = this._xMode ? this._front.$config.width : this._front.$config.height;\n\t\tvar position = this._xMode ? this._positions.nextX : this._positions.nextY;\n\n\t\tif(!frontSize && !behindSize){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\tfront: frontSize ? ((frontSize - position) || 1) : 0,\n\t\t\tback: behindSize ? ((behindSize + position) || 1) : 0\n\t\t};\n\t};\n\n\tResizerCell.prototype._assignNewSizes = function(newSizes){\n\t\tthis._getSiblings();\n\t\tvar side = this._xMode ? 'width' : 'height';\n\n\t\t// if only gravity cells\n\t\tif (!newSizes) {\n\t\t\tthis._setGravity();\n\t\t}\n\t\telse {\n\t\t\tif (!newSizes.front) {\n\t\t\t\tthis._setGravity(\"behind\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._front.$config[side] = newSizes.front;\n\t\t\t}\n\t\t\tif (!newSizes.back) {\n\t\t\t\tthis._setGravity(\"front\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._behind.$config[side] = newSizes.back;\n\t\t\t}\n\t\t}\n\n\t};\n\n\tResizerCell.prototype._setSizes = function () {\n\t\tif (this._resizer) {\n\t\t\tthis.$view.removeChild(this._resizer);\n\t\t}\n\t\tvar newSizes = this._getNewSizes();\n\n\t\tif (this._positions.nextX || this._positions.nextY) {\n\t\t\tthis._assignNewSizes(newSizes);\n\n\t\t\tvar side = this._xMode ? 'width' : 'height';\n\t\t\tif(this._front.$config.group){\n\t\t\t\tthis.$gantt.$layout._syncCellSizes(this._front.$config.group, this._front.$config[side]);\n\t\t\t}else if(this._behind.$config.group){\n\t\t\t\tthis.$gantt.$layout._syncCellSizes(this._behind.$config.group, this._behind.$config[side]);\n\t\t\t}\n\n\t\t\tif(this._getGroupName()){\n\t\t\t\tthis.$factory.getView(\"main\").resize();\n\t\t\t}else{\n\t\t\t\tthis.$parent.resize();\n\t\t\t}\n\n\t\t}\n\t};\n\treturn ResizerCell;\n}(Cell));\n\nmodule.exports = ResizerCell;","var __extends = require(\"../../../utils/extends\"),\n\tutils = require(\"../../../utils/utils\"),\n\tCell = require(\"./cell\");\n\nvar ViewCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewCell, _super);\n\tfunction ViewCell(parent, config, factory) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(config.view){\n\t\t\tif(config.id){\n\t\t\t\t// pass id to the nested view\n\t\t\t\tthis.$id = utils.uid();\n\t\t\t}\n\t\t\tvar childConfig = utils.copy(config);\n\t\t\tdelete childConfig.config;\n\t\t\tdelete childConfig.templates;\n\n\t\t\tthis.$content = this.$factory.createView(config.view, this, childConfig, this);\n\t\t\tif(!this.$content)\n\t\t\t\treturn false;\n\t\t}\n\n\t\t_this.$name = \"viewCell\";\n\t\treturn _this;\n\t}\n\n\tViewCell.prototype.destructor = function(){\n\t\tthis.clear();\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tViewCell.prototype.clear = function(){\n\n\t\tthis.$initialized = false;\n\n\t\t// call destructor\n\t\tif (this.$content){\n\t\t\tvar method = this.$content.unload || this.$content.destructor;\n\t\t\tif (method){\n\t\t\t\tmethod.call(this.$content);\n\t\t\t}\n\t\t}\n\n\t\t_super.prototype.clear.call(this);\n\n\t};\n\n\tViewCell.prototype.scrollTo = function(left, top){\n\n\t\tif(this.$content && this.$content.scrollTo){\n\t\t\tthis.$content.scrollTo(left, top);\n\t\t}else{\n\t\t\t_super.prototype.scrollTo.call(this, left, top);\n\t\t}\n\t};\n\n\tViewCell.prototype._setContentSize = function(x, y){\n\t\tvar borders = this._getBorderSizes();\n\t\tvar outerX = x + borders.horizontal;\n\t\tvar outerY = y + borders.vertical;\n\t\tthis.$config.width = outerX;\n\t\tthis.$config.height = outerY;\n\t};\n\n\tViewCell.prototype.setSize = function(x, y){\n\t\t_super.prototype.setSize.call(this, x, y);\n\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (!this.$initialized) {\n\t\t\t\tthis.$initialized = true;\n\t\t\t\tvar header = this.$view.childNodes[0];\n\t\t\t\tvar content = this.$view.childNodes[1];\n\t\t\t\tif(!content) content = header;\n\n\t\t\t\t/*if(this.$content.$config){\n\t\t\t\t\tthis.$content.$config.width = this.$lastSize.contentX;\n\t\t\t\t\tthis.$content.$config.height = this.$lastSize.contentY;\n\t\t\t\t}*/\n\t\t\t\tthis.$content.init(content);\n\t\t\t}\n\t\t}\n\t};\n\n\tViewCell.prototype.setContentSize = function(){\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (this.$initialized) {\n\t\t\t\tthis.$content.setSize(this.$lastSize.contentX, this.$lastSize.contentY);\n\t\t\t}\n\t\t}\n\t};\n\n\n\tViewCell.prototype.getContentSize = function(){\n\t\tvar size = _super.prototype.getContentSize.call(this);\n\n\t\tif(this.$content && this.$initialized){\n\t\t\tvar childSize = this.$content.getSize();\n\t\t\tsize.width = childSize.contentX === undefined ? childSize.width : childSize.contentX;\n\t\t\tsize.height = childSize.contentY === undefined ? childSize.height : childSize.contentY;\n\t\t}\n\n\t\tvar borders = this._getBorderSizes();\n\t\tsize.width += borders.horizontal;\n\t\tsize.height += borders.vertical;\n\n\t\treturn size;\n\t};\n\n\treturn ViewCell;\n}(Cell));\n\nmodule.exports = ViewCell;","var __extends = require(\"../../../utils/extends\"),\n\tLayout = require(\"./layout\"),\n\tCell = require(\"./cell\");\n\nvar ViewLayout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewLayout, _super);\n\tfunction ViewLayout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tfor (var i = 0; i < _this.$cells.length; i++) {\n\t\t\t_this.$cells[i].$config.hidden = (i !== 0);\n\t\t}\n\t\t_this.$cell = _this.$cells[0];\n\t\t_this.$name = \"viewLayout\";\n\n\t\treturn _this;\n\t}\n\tViewLayout.prototype.cell = function (id) {\n\t\tvar cell = _super.prototype.cell.call(this, id);\n\t\tif (!cell.$view) {\n\t\t\tthis.$fill(null, this);\n\t\t}\n\t\treturn cell;\n\t};\n\tViewLayout.prototype.moveView = function (view) {\n\t\tvar body = this.$view;\n\t\tif (this.$cell) {\n\t\t\tthis.$cell.$config.hidden = true;\n\t\t\tbody.removeChild(this.$cell.$view);\n\t\t}\n\t\tthis.$cell = view;\n\t\tbody.appendChild(view.$view);\n\t};\n\tViewLayout.prototype.setSize = function (x, y) {\n\t\tCell.prototype.setSize.call(this, x, y);\n\t};\n\n\tViewLayout.prototype.setContentSize = function(){\n\t\tvar size = this.$lastSize;\n\t\tthis.$cell.setSize(size.contentX, size.contentY);\n\t};\n\n\tViewLayout.prototype.getSize = function () {\n\t\tvar sizes = _super.prototype.getSize.call(this);\n\t\tif (this.$cell) {\n\t\t\tvar cellSize = this.$cell.getSize();\n\t\t\tif (this.$config.byMaxSize) {\n\t\t\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\t\t\tvar otherCell = this.$cells[i].getSize();\n\t\t\t\t\tfor (var cell in cellSize) {\n\t\t\t\t\t\tcellSize[cell] = Math.max(cellSize[cell], otherCell[cell]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var size in sizes) {\n\t\t\t\tsizes[size] = sizes[size] || cellSize[size];\n\t\t\t}\n\t\t\tsizes.gravity = Math.max(sizes.gravity, cellSize.gravity);\n\t\t}\n\t\treturn sizes;\n\t};\n\treturn ViewLayout;\n}(Layout));\n\nmodule.exports = ViewLayout;","var rendererFactory = function(gantt){\n\tvar services = gantt.$services;\n\n\t//hash of dom elements is needed to redraw single bar/link\n\tvar task_area_pulls = {},\n\t\ttask_area_renderers = {};\n\n\tfunction getRenderer(id, layer, node) {\n\n\t\tif (task_area_renderers[id])\n\t\t\treturn task_area_renderers[id];\n\n\t\tif (!layer.renderer)\n\t\t\tgantt.assert(false, \"Invalid renderer call\");\n\n\t\tvar renderOne = function(item){\n\t\t\treturn layer.renderer.call(this, item, layer.host);\n\t\t} ;\n\n\t\tvar filter = layer.filter;\n\n\t\tif (node)\n\t\t\tnode.setAttribute(services.config().layer_attribute, true);\n\n\t\ttask_area_renderers[id] = {\n\t\t\trender_item: function (item, container) {\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tif (!filter(item)) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar dom = renderOne.call(gantt, item);\n\t\t\t\tthis.append(item, dom, container);\n\n\t\t\t},\n\n\t\t\tclear: function (container) {\n\n\t\t\t\tthis.rendered = task_area_pulls[id] = {};\n\t\t\t\tif(!layer.append)\n\t\t\t\t\tthis.clear_container(container);\n\t\t\t},\n\t\t\tclear_container: function (container) {\n\t\t\t\tcontainer = container || node;\n\t\t\t\tif (container)\n\t\t\t\t\tcontainer.innerHTML = \"\";\n\t\t\t},\n\t\t\trender_items: function (items, container) {\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tvar buffer = document.createDocumentFragment();\n\t\t\t\tthis.clear(container);\n\t\t\t\tfor (var i = 0, vis = items.length; i < vis; i++) {\n\t\t\t\t\tthis.render_item(items[i], buffer);\n\t\t\t\t}\n\n\t\t\t\tcontainer.appendChild(buffer);\n\t\t\t},\n\t\t\tappend: function (item, node, container) {\n\t\t\t\tif (!node) {\n\t\t\t\t\tif (this.rendered[item.id]) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.rendered[item.id] && this.rendered[item.id].parentNode) {\n\t\t\t\t\tthis.replace_item(item.id, node);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t}\n\t\t\t\tthis.rendered[item.id] = node;\n\n\t\t\t},\n\t\t\treplace_item: function (item_id, newNode) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.replaceChild(newNode, item);\n\t\t\t\t}\n\t\t\t\tthis.rendered[item_id] = newNode;\n\t\t\t},\n\t\t\tremove_item: function (item_id) {\n\t\t\t\tthis.hide(item_id);\n\t\t\t\tdelete this.rendered[item_id];\n\t\t\t},\n\t\t\thide: function (item_id) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.removeChild(item);\n\t\t\t\t}\n\t\t\t},\n\t\t\trestore: function (item) {\n\t\t\t\tvar dom = this.rendered[item.id];\n\t\t\t\tif (dom) {\n\t\t\t\t\tif (!dom.parentNode) {\n\t\t\t\t\t\tthis.append(item, dom, node);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.render_item(item, node);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_id: function (oldid, newid) {\n\t\t\t\tthis.rendered[newid] = this.rendered[oldid];\n\t\t\t\tdelete this.rendered[oldid];\n\t\t\t},\n\t\t\trendered: task_area_pulls[id],\n\t\t\tnode: node,\n\t\t\tdestructor: function () {\n\t\t\t\tthis.clear();\n\t\t\t\tdelete task_area_renderers[id];\n\t\t\t\tdelete task_area_pulls[id];\n\t\t\t}\n\t\t};\n\n\t\treturn task_area_renderers[id];\n\t}\n\n\n\tfunction clearRenderers() {\n\t\tfor (var i in task_area_renderers) {\n\t\t\tgetRenderer(i).destructor();\n\t\t}\n\t}\n\n\treturn {\n\t\tgetRenderer: getRenderer,\n\t\tclearRenderers: clearRenderers\n\t};\n\n};\n\nmodule.exports = rendererFactory;","var renderFactoryProvider = require(\"./render_factory\");\nvar utils = require(\"../../../utils/utils\"),\n\tdomHelpers = require(\"../../../utils/dom_helpers\");\n\nvar layerFactory = function(gantt){\n\n\tvar renderFactory = renderFactoryProvider(gantt);\n\treturn {\n\tcreateGroup: function (get_container, rel_root, defaultFilters) {\n\n\t\tvar renderGroup = {\n\t\t\ttempCollection: [],\n\t\t\trenderers: {},\n\t\t\tcontainer: get_container,\n\t\t\tfilters: [],\n\t\t\tgetLayers: function () {\n\t\t\t\tthis._add();// add pending layers\n\n\t\t\t\tvar res = [];\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tres.push(this.renderers[i]);\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t},\n\t\t\tgetLayer: function (id) {\n\t\t\t\treturn this.renderers[id];\n\t\t\t},\n\t\t\t_add: function (layer) {\n\t\t\t\tif (layer) {\n\t\t\t\t\tlayer.id = layer.id || utils.uid();\n\t\t\t\t\tthis.tempCollection.push(layer);\n\t\t\t\t}\n\n\t\t\t\tvar container = this.container();\n\n\t\t\t\tvar pending = this.tempCollection;\n\t\t\t\tfor (var i = 0; i < pending.length; i++) {\n\t\t\t\t\tlayer = pending[i];\n\n\t\t\t\t\tif (!this.container() && !(layer && layer.container && domHelpers.isChildOf(layer.container, document.body))) continue;\n\n\t\t\t\t\tvar node = layer.container,\n\t\t\t\t\t\tid = layer.id,\n\t\t\t\t\t\ttopmost = layer.topmost;\n\t\t\t\t\tif (!node.parentNode) {\n\t\t\t\t\t\t//insert on top or below the tasks\n\t\t\t\t\t\tif (topmost) {\n\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar rel = rel_root ? rel_root() : container.firstChild;\n\t\t\t\t\t\t\tif (rel)\n\t\t\t\t\t\t\t\tcontainer.insertBefore(node, rel);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.renderers[id] = renderFactory.getRenderer(\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tlayer,\n\t\t\t\t\t\tnode\n\t\t\t\t\t);\n\t\t\t\t\tthis.tempCollection.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t},\n\t\t\taddLayer: function (config) {\n\t\t\t\t//config = prepareConfig(config);\n\t\t\t\tif(config){\n\t\t\t\t\tif(typeof config == \"function\"){\n\t\t\t\t\t\tconfig = {renderer: config};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(config.filter === undefined){\n\t\t\t\t\t\tconfig.filter = mergeFilters(defaultFilters || []);\n\t\t\t\t\t}else if(config.filter instanceof Array){\n\t\t\t\t\t\tconfig.filter.push(defaultFilters);\n\t\t\t\t\t\tconfig.filter = mergeFilters(config.filter);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!config.container){\n\t\t\t\t\t\tconfig.container = document.createElement(\"div\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._add(config);\n\t\t\t\treturn (config ? config.id : undefined);\n\t\t\t},\n\t\t\teachLayer: function(code){\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tcode(this.renderers[i]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tremoveLayer: function (id) {\n\t\t\t\tif(!this.renderers[id])\n\t\t\t\t\treturn;\n\t\t\t\tthis.renderers[id].destructor();\n\t\t\t\tdelete this.renderers[id];\n\t\t\t},\n\t\t\tclear: function () {\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tthis.renderers[i].destructor();\n\t\t\t\t}\n\t\t\t\tthis.renderers = {};\n\t\t\t}//,\n\t\t\t//prepareConfig: prepareConfig\n\t\t};\n\n\t\tgantt.attachEvent(\"onDestroy\", function(){\n\t\t\trenderGroup.clear();\n\t\t\trenderGroup = null;\n\t\t});\n\n\t\treturn renderGroup;\n\t}\n};};\n\n\nfunction mergeFilters(filter_methods){\n\tif(!(filter_methods instanceof Array)){\n\t\tfilter_methods = Array.prototype.slice.call(arguments, 0);\n\t}\n\n\treturn function(obj){\n\t\tvar res = true;\n\t\tfor(var i = 0, len = filter_methods.length; i < len; i++){\n\t\t\tvar filter_method = filter_methods[i];\n\t\t\tif(filter_method){\n\t\t\t\tres = res && (filter_method(obj.id, obj) !== false);\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t};\n}\n\n\nmodule.exports = layerFactory;\n","var createLayerFactory = require(\"./render/layer_engine\");\n\nvar createLayerEngine = function(gantt){\n\tvar factory = createLayerFactory(gantt);\n\treturn {\n\t\tgetDataRender: function(name){\n\t\t\treturn gantt.$services.getService(\"layer:\" + name) || null;\n\t\t},\n\t\tcreateDataRender: function(config){\n\t\t\tvar name = config.name,\n\t\t\t\tdefaultContainer = config.defaultContainer,\n\t\t\t\tpreviusSiblingContainer = config.defaultContainerSibling;\n\n\t\t\tvar layers = factory.createGroup(\n\t\t\t\tdefaultContainer,\n\t\t\t\tpreviusSiblingContainer,\n\t\t\t\tfunction(itemId, item){\n\t\t\t\t\tif(layers.filters){\n\t\t\t\t\t\tfor(var i = 0; i < layers.filters.length; i++){\n\t\t\t\t\t\t\tif(layers.filters[i](itemId, item) === false){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tgantt.$services.setService(\"layer:\" + name, function(){\n\t\t\t\treturn layers;\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttReady\", function () {\n\t\t\t\tlayers.addLayer();// init layers on start\n\t\t\t});\n\n\t\t\treturn layers;\n\t\t},\n\t\tinit: function(){\n\t\t\tvar taskLayers = this.createDataRender({\n\t\t\t\tname: \"task\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdefaultContainerSibling: function(){\n\t\t\t\t\tif(gantt.$task_links){\n\t\t\t\t\t\treturn gantt.$task_links;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_links;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: function(item){\n\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\tvar linkLayers = this.createDataRender({\n\t\t\t\tname: \"link\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\treturn {\n\t\t\t\taddTaskLayer: function(config){\n\t\t\t\t\treturn taskLayers.addLayer(config);\n\t\t\t\t},\n\n\t\t\t\t/*getTaskLayer: function(id){\n\t\t\t\t\treturn taskLayers.getLayer(id);\n\t\t\t\t},*/\n\n\t\t\t\t_getTaskLayers: function(){\n\t\t\t\t\treturn taskLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveTaskLayer: function(id){\n\t\t\t\t\ttaskLayers.removeLayer(id);\n\t\t\t\t},\n\t\t\t\t/*eachTaskLayer: function(code){\n\t\t\t\t\ttaskLayers.eachLayer(code);\n\t\t\t\t},*/\n\t\t\t\t_clearTaskLayers: function(){\n\t\t\t\t\ttaskLayers.clear();\n\t\t\t\t},\n\t\t\t\taddLinkLayer: function(config){\n\t\t\t\t\treturn linkLayers.addLayer(config);\n\t\t\t\t},\n\t\t\t\t/*getLinkLayer: function(id){\n\t\t\t\t\treturn linkLayers.getLayer(id);\n\t\t\t\t},*/\n\t\t\t\t_getLinkLayers: function(){\n\t\t\t\t\treturn linkLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveLinkLayer: function(id){\n\t\t\t\t\tlinkLayers.removeLayer(id);\n\t\t\t\t},\n\t\t\t\t/*eachLinkLayer: function(code){\n\t\t\t\t\tlinkLayers.eachLayer(code);\n\t\t\t\t},*/\n\t\t\t\t_clearLinkLayers: function(){\n\t\t\t\t\tlinkLayers.clear();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n};\n\nmodule.exports = createLayerEngine;","var domHelpers = require(\"../../utils/dom_helpers\");\n\nvar createMouseHandler = (function(domHelpers) {\n\treturn function (gantt) {\n\t\tvar eventHandlers = {\n\t\t\t\"click\": {},\n\t\t\t\"doubleclick\": {},\n\t\t\t\"contextMenu\": {}\n\t\t};\n\n\t\tfunction addEventTarget(event, className, handler, root) {\n\t\t\tif(!eventHandlers[event][className]){\n\t\t\t\teventHandlers[event][className] = [];\n\t\t\t}\n\n\t\t\teventHandlers[event][className].push({\n\t\t\t\thandler: handler,\n\t\t\t\troot: root\n\t\t\t});\n\t\t}\n\n\t\tfunction callHandler(eventName, className, root, args) {\n\t\t\tvar handlers = eventHandlers[eventName][className];\n\t\t\tif(handlers){\n\t\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\t\tif(!(root || handlers[i].root) || handlers[i].root === root){\n\t\t\t\t\t\thandlers[i].handler.apply(this, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.click);\n\t\t\tvar res = true;\n\t\t\tif (id !== null) {\n\t\t\t\tres = !gantt.checkEvent(\"onTaskClick\") || gantt.callEvent(\"onTaskClick\", [id, e]);\n\t\t\t} else {\n\t\t\t\tgantt.callEvent(\"onEmptyClick\", [e]);\n\t\t\t}\n\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (id && gantt.getTask(id) && gantt.config.select_task && !gantt.config.multiselect) {\n\t\t\t\t\tgantt.selectTask(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onContextMenu(e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target || e.srcElement,\n\t\t\t\ttaskId = gantt.locate(src),\n\t\t\t\tlinkId = gantt.locate(src, gantt.config.link_attribute);\n\n\t\t\tvar res = !gantt.checkEvent(\"onContextMenu\") || gantt.callEvent(\"onContextMenu\", [taskId, linkId, e]);\n\t\t\tif (!res) {\n\t\t\t\tif (e.preventDefault)\n\t\t\t\t\te.preventDefault();\n\t\t\t\telse\n\t\t\t\t\te.returnValue = false;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tfunction findEventHandlers(e, hash){\n\t\t\tvar trg = e.target || e.srcElement;\n\t\t\tvar handlers = [];\n\t\t\twhile (trg) {\n\t\t\t\tvar css = domHelpers.getClassName(trg);\n\t\t\t\tif (css) {\n\t\t\t\t\tcss = css.split(\" \");\n\t\t\t\t\tfor (var i = 0; i < css.length; i++) {\n\t\t\t\t\t\tif (!css[i]) continue;\n\t\t\t\t\t\tif (hash[css[i]]) {\n\t\t\t\t\t\t\tvar delegateHandlers = hash[css[i]];\n\n\t\t\t\t\t\t\tfor(var h = 0; h < delegateHandlers.length; h++){\n\t\t\t\t\t\t\t\tif(delegateHandlers[h].root){\n\t\t\t\t\t\t\t\t\tif(!domHelpers.isChildOf(trg, delegateHandlers[h].root)){\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thandlers.push(delegateHandlers[h].handler);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttrg = trg.parentNode;\n\t\t\t}\n\t\t\treturn handlers;\n\t\t}\n\n\t\tfunction callEventHandlers(handlers, e, id){\n\t\t\tvar res = true;\n\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handlerResult =  handlers[i].call(gantt, e, id, e.target || e.srcElement);\n\t\t\t\tres = res && !(typeof handlerResult != \"undefined\" && handlerResult !== true);\n\t\t\t}\n\n\t\t\treturn res;\n\t\t}\n\n\n\t\tfunction onDoubleClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.doubleclick);\n\t\t\t// when doubleclick fired not on task, id === null\n\t\t\tvar res = !gantt.checkEvent(\"onTaskDblClick\") || id === null || gantt.callEvent(\"onTaskDblClick\", [id, e]);\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (id !== null && gantt.getTask(id)) {\n\t\t\t\t\tif (res && gantt.config.details_on_dblclick) {\n\t\t\t\t\t\tgantt.showLightbox(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseMove(e) {\n\t\t\tif (gantt.checkEvent(\"onMouseMove\")) {\n\t\t\t\tvar id = gantt.locate(e);\n\t\t\t\tgantt._last_move_event = e;\n\t\t\t\tgantt.callEvent(\"onMouseMove\", [id, e]);\n\t\t\t}\n\t\t}\n\n\t\tfunction detach(eventName, className, handler, root) {\n\t\t\tif (eventHandlers[eventName] && eventHandlers[eventName][className]) {\n\t\t\t\tvar handlers = eventHandlers[eventName];\n\t\t\t\tvar elementHandlers = handlers[className];\n\t\t\t\tfor(var i = 0; i < elementHandlers.length; i++){\n\t\t\t\t\tif(elementHandlers[i].root == root){\n\t\t\t\t\t\telementHandlers.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!elementHandlers.length){\n\t\t\t\t\tdelete handlers[className];\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar domEvents = gantt._createDomEventScope();\n\n\t\tfunction reset(node){\n\n\t\t\tdomEvents.detachAll();\n\n\t\t\tif(node){\n\t\t\t\tdomEvents.attach(node, \"click\", onClick);\n\t\t\t\tdomEvents.attach(node, \"dblclick\", onDoubleClick);\n\t\t\t\tdomEvents.attach(node, \"mousemove\", onMouseMove);\n\t\t\t\tdomEvents.attach(node, \"contextmenu\", onContextMenu);\n\t\t\t}\n\t\t}\n\n\n\n\t\treturn {\n\t\t\treset: reset,\n\t\t\tglobal: function(event, classname, handler){\n\t\t\t\taddEventTarget(event, classname, handler, null);\n\t\t\t},\n\t\t\tdelegate: addEventTarget,\n\t\t\tdetach: detach,\n\t\t\tcallHandler: callHandler,\n\t\t\tonDoubleClick: onDoubleClick,\n\t\t\tonMouseMove: onMouseMove,\n\t\t\tonContextMenu: onContextMenu,\n\t\t\tonClick: onClick,\n\t\t\tdestructor: function(){\n\t\t\t\treset();\n\t\t\t\teventHandlers = null;\n\t\t\t\tdomEvents = null;\n\t\t\t}\n\n\t\t};\n\t};\n\n})(domHelpers);\n\n\nmodule.exports = {\n\tinit:createMouseHandler\n};","var utils = require(\"../../utils/utils\");\n\nfunction ViewSettings(config){\n\tutils.mixin(this, config, true);\n}\n\n\nfunction extendSettings (store, parentSettings){\n\tvar own = this.$config[store];\n\n\tif(own){\n\t\tif(own instanceof ViewSettings){\n\t\t\treturn own;\n\t\t}else{\n\t\t\tViewSettings.prototype = parentSettings;\n\t\t\tthis.$config[store] = new ViewSettings(own);\n\t\t\treturn this.$config[store];\n\t\t}\n\t}else{\n\t\treturn parentSettings;\n\t}\n}\n\nvar configurable = function(parentView){\n\tvar parentConfig,\n\t\tparentTemplates;\n\n\treturn {\n\t\t$getConfig: function(){\n\t\t\tif(!parentConfig){\n\t\t\t\tparentConfig = parentView ? parentView.$getConfig() : this.$gantt.config;\n\t\t\t}\n\n\t\t\treturn extendSettings.call(this, \"config\", parentConfig);\n\t\t},\n\t\t$getTemplates: function(){\n\t\t\tif(!parentTemplates){\n\t\t\t\tparentTemplates = parentView ? parentView.$getTemplates() : this.$gantt.templates;\n\t\t\t}\n\n\t\t\treturn extendSettings.call(this, \"templates\", parentTemplates);\n\t\t}\n\t};\n};\n\nmodule.exports = function(obj, parent){\n\tutils.mixin(obj, configurable(parent));\n};","var utils = require(\"../../utils/utils\"),\n\tconfigurable = require(\"./configurable\");\n\nvar uiFactory = function createFactory(gantt){\n\tvar views = {};\n\n\tfunction ui(cell, parentView) {\n\t\tvar content;\n\t\tvar view = \"cell\";\n\t\tif (cell.view){\n\t\t\tview = \"viewcell\";\n\t\t}else if (cell.resizer) {\n\t\t\tview = \"resizer\";\n\t\t}\n\t\telse if (cell.rows || cell.cols) {\n\t\t\tview = \"layout\";\n\t\t}\n\t\telse if (cell.views) {\n\t\t\tview = \"multiview\";\n\t\t}\n\n\t\tcontent = createView.call(this, view, null, cell, parentView);\n\t\treturn content;\n\t}\n\t\n\tvar createdViews = {};\n\n\tfunction createView(name, parent, config, parentView) {\n\t\tvar creator = views[name];\n\n\t\tif(!creator || !creator.create)\n\t\t\treturn false;\n\n\t\tif(name == \"resizer\" && !config.mode){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.mode = \"x\";\n\t\t\t}else{\n\t\t\t\tconfig.mode = \"y\";\n\t\t\t}\n\t\t}\n\n\t\tif(name == \"viewcell\" && config.view == \"scrollbar\" && !config.scroll){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.scroll = \"y\";\n\t\t\t}else{\n\t\t\t\tconfig.scroll = \"x\";\n\t\t\t}\n\t\t}\n\n\t\tvar config = utils.copy(config);\n\n\t\tif(!config.id && !createdViews[config.view]){\n\t\t\tconfig.id = config.view;\n\t\t}\n\n\t\tif(config.id && !config.css){\n\t\t\tconfig.css = config.id+\"_cell\";\n\t\t}\n\n\t\tvar view = new creator.create(parent, config, this, gantt);\n\n\t\tif(creator.configure){\n\t\t\tcreator.configure(view);\n\t\t}\n\n\t\tconfigurable(view, parentView);\n\t\tif(!view.$id){\n\t\t\tview.$id = config.id || gantt.uid();\n\t\t}\n\n\t\tif(!view.$parent && typeof parent == \"object\"){\n\t\t\tview.$parent = parent;\n\t\t}\n\t\tif(!view.$config){\n\t\t\tview.$config = config;\n\t\t}\n\n\t\tif(createdViews[view.$id]){\n\t\t\tview.$id = gantt.uid();\n\t\t}\n\n\t\tcreatedViews[view.$id] = view;\n\n\t\treturn view;\n\t}\n\n\tfunction reset(){\n\t\tcreatedViews = {};\n\t}\n\n\tfunction register(name, viewConstructor, configure){\n\t\tviews[name] = {create: viewConstructor, configure: configure};\n\t}\n\n\tfunction getView(id){\n\t\treturn createdViews[id];\n\t}\n\n\tvar factory = {\n\t\tinitUI:ui,\n\t\treset: reset,\n\t\tregisterView: register,\n\t\tcreateView: createView,\n\t\tgetView: getView\n\t};\n\n\treturn factory;\n};\n\nmodule.exports = {\n\tcreateFactory: uiFactory\n};\n\n","var uiFactory = require(\"./ui_factory\"),\n\tmouseEvents = require(\"./mouse\"),\n\tcreateLayers = require(\"./gantt_layers\"),\n\tCell = require(\"./layout/cell\"),\n\tLayout = require(\"./layout/layout\"),\n\tViewLayout = require(\"./layout/view_layout\"),\n\tViewCell = require(\"./layout/view_cell\"),\n\tResizer = require(\"./layout/resizer_cell\"),\n\tScrollbar = require(\"./layout/scrollbar_cell\"),\n\tTimeline = require(\"./timeline/timeline\"),\n\tGrid = require(\"./grid/grid\"),\n\tResourceGrid = require(\"./grid/resource_grid\"),\n\tResourceTimeline = require(\"./timeline/resource_timeline\"),\n\tResourceHistogram = require(\"./timeline/resource_histogram\");\n\n\nvar gridEditorsFactory = require(\"./grid/editors/controller\");\n\n\nvar renderTaskBar = require(\"./render/task_bar_render\"),\n\trenderSplitTaskBar = require(\"./render/task_split_render\"),\n\trenderTaskBg = require(\"./render/task_bg_render\"),\n\trenderLink = require(\"./render/link_render\"),\n\tgridRenderer = require(\"./render/task_grid_line_render\");\n\nvar mainGridInitializer = require(\"./grid/main_grid_initializer\");\nvar mainTimelineInitializer = require(\"./timeline/main_timeline_initializer\");\nvar mainLayoutInitializer = require(\"./main_layout_initializer\");\n\nfunction initUI(gantt){\n\tfunction attachInitializer(view, initializer){\n\t\tvar ext = initializer(gantt);\n\t\tif(ext.onCreated)\n\t\t\text.onCreated(view);\n\t\tview.attachEvent(\"onReady\", function(){\n\t\t\tif(ext.onInitialized)\n\t\t\t\text.onInitialized(view);\n\t\t});\n\t\tview.attachEvent(\"onDestroy\", function(){\n\t\t\tif(ext.onDestroyed)\n\t\t\t\text.onDestroyed(view);\n\t\t});\n\t}\n\n\tvar factory = uiFactory.createFactory(gantt);\n\tfactory.registerView(\"cell\", Cell);\n\tfactory.registerView(\"resizer\", Resizer);\n\tfactory.registerView(\"scrollbar\", Scrollbar);\n\tfactory.registerView(\"layout\", Layout, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"main\"){\n\t\t\tattachInitializer(view, mainLayoutInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"viewcell\", ViewCell);\n\tfactory.registerView(\"multiview\", ViewLayout);\n\tfactory.registerView(\"timeline\", Timeline, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"timeline\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainTimelineInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"grid\", Grid, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"grid\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainGridInitializer);\n\t\t}\n\t});\n\n\tfactory.registerView(\"resourceGrid\", ResourceGrid);\n\tfactory.registerView(\"resourceTimeline\", ResourceTimeline);\n\tfactory.registerView(\"resourceHistogram\", ResourceHistogram);\n\n\tvar layersEngine = createLayers(gantt);\n\n\tvar inlineEditors = gridEditorsFactory(gantt);\n\n\tgantt.ext.inlineEditors = inlineEditors;\n\tgantt.ext._inlineEditors = inlineEditors;\n\tinlineEditors.init(gantt);\n\n\treturn {\n\t\tfactory:factory,\n\t\tmouseEvents: mouseEvents.init(gantt),\n\t\tlayersApi: layersEngine.init(),\n\t\trender:{\n\t\t\tgridLine: gridRenderer(gantt),\n\t\t\ttaskBg: renderTaskBg(gantt),\n\t\t\ttaskBar: renderTaskBar(gantt),\n\t\t\ttaskSplitBar: renderSplitTaskBar(gantt),\n\t\t\tlink: renderLink(gantt)\n\t\t},\n\t\tlayersService: {\n\t\t\tgetDataRender: function(name){\n\t\t\t\treturn layersEngine.getDataRender(name, gantt);\n\t\t\t},\n\t\t\tcreateDataRender: function(config){\n\t\t\t\treturn layersEngine.createDataRender(config, gantt);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tinit: initUI\n};","var utils = require(\"../utils/utils\");\nvar domHelpers = require(\"../utils/dom_helpers\");\n\nmodule.exports = function(gantt) {\n\n\tvar boxAttribute = \"data-dhxbox\";\n\n\tvar _dhx_msg_cfg = null;\n\n\tfunction callback(config, result) {\n\t\tvar usercall = config.callback;\n\t\tmodalBox.hide(config.box);\n\n\t\t_dhx_msg_cfg = config.box = null;\n\t\tif (usercall)\n\t\t\tusercall(result);\n\t}\n\n\tfunction modal_key(e) {\n\t\tif (_dhx_msg_cfg) {\n\t\t\te = e || event;\n\t\t\tvar code = e.which || event.keyCode;\n\t\t\tvar preventDefault = false;\n\n\t\t\tif (messageBox.keyboard) {\n\t\t\t\tif (code == 13 || code == 32) {\n\t\t\t\t\t// default behavior is to confirm/submit popup on space/enter\n\t\t\t\t\t// if browser focus is set on button element - do button click instead of default behavior\n\t\t\t\t\tvar target = e.target || e.srcElement;\n\t\t\t\t\tif (domHelpers.getClassName(target).indexOf(\"gantt_popup_button\") > -1 && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(_dhx_msg_cfg, true);\n\t\t\t\t\t\tpreventDefault = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (code == 27) {\n\t\t\t\t\tcallback(_dhx_msg_cfg, false);\n\t\t\t\t\tpreventDefault = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (preventDefault) {\n\t\t\t\tif (e.preventDefault)\n\t\t\t\t\te.preventDefault();\n\t\t\t\treturn !(e.cancelBubble = true);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\tgantt.event(document, \"keydown\", modal_key, true);\n\n\tfunction modality(mode) {\n\t\tif (!modality.cover) {\n\t\t\tmodality.cover = document.createElement(\"div\");\n\t\t\t//necessary for IE only\n\t\t\tmodality.cover.onkeydown = modal_key;\n\t\t\tmodality.cover.className = \"dhx_modal_cover\";\n\t\t\tdocument.body.appendChild(modality.cover);\n\t\t}\n\n\t\tmodality.cover.style.display = mode ? \"inline-block\" : \"none\";\n\t}\n\n\tfunction button(text, className, result) {\n\t\tvar buttonAriaAttrs = gantt._waiAria.messageButtonAttrString(text);\n\t\tvar name = className.toLowerCase().replace(/ /g, \"_\");\n\t\tvar button_css = \"gantt_\" + name + \"_button\" + \" dhtmlx_\" + name + \"_button\"; // dhtmlx_ok_button, dhtmlx_click_me_button\n\t\treturn \"<div \" + buttonAriaAttrs + \" class='gantt_popup_button dhtmlx_popup_button \" + button_css + \"' data-result='\" + result + \"' result='\" + result + \"' ><div>\" + text + \"</div></div>\";\n\t}\n\n\tfunction info(text) {\n\t\tif (!messageBox.area) {\n\t\t\tmessageBox.area = document.createElement(\"div\");\n\t\t\tmessageBox.area.className = \"gantt_message_area dhtmlx_message_area\";\n\t\t\tmessageBox.area.style[messageBox.position] = \"5px\";\n\t\t\tdocument.body.appendChild(messageBox.area);\n\t\t}\n\n\t\tmessageBox.hide(text.id);\n\t\tvar message = document.createElement(\"div\");\n\t\tmessage.innerHTML = \"<div>\" + text.text + \"</div>\";\n\t\tmessage.className = \"gantt-info dhtmlx-info gantt-\" + text.type + \" dhtmlx-\" + text.type;\n\t\tmessage.onclick = function () {\n\t\t\tmessageBox.hide(text.id);\n\t\t\ttext = null;\n\t\t};\n\n\t\tgantt._waiAria.messageInfoAttr(message);\n\n\t\tif (messageBox.position == \"bottom\" && messageBox.area.firstChild)\n\t\t\tmessageBox.area.insertBefore(message, messageBox.area.firstChild);\n\t\telse\n\t\t\tmessageBox.area.appendChild(message);\n\n\t\tif (text.expire > 0)\n\t\t\tmessageBox.timers[text.id] = window.setTimeout(function () {\n\t\t\t\tmessageBox.hide(text.id);\n\t\t\t}, text.expire);\n\n\t\tmessageBox.pull[text.id] = message;\n\t\tmessage = null;\n\n\t\treturn text.id;\n\t}\n\n\tfunction getFirstDefined() {\n\t\tvar values = [].slice.apply(arguments, [0]);\n\n\t\tfor (var i = 0; i < values.length; i++) {\n\t\t\tif (values[i]) {\n\t\t\t\treturn values[i];\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction _boxStructure(config, ok, cancel) {\n\t\tvar box = document.createElement(\"div\");\n\n\t\tvar contentId = utils.uid();\n\t\tgantt._waiAria.messageModalAttr(box, contentId);\n\n\n\t\tbox.className = \" gantt_modal_box dhtmlx_modal_box gantt-\" + config.type + \" dhtmlx-\" + config.type;\n\t\tbox.setAttribute(boxAttribute, 1);\n\n\t\tvar inner = '';\n\n\t\tif (config.width)\n\t\t\tbox.style.width = config.width;\n\t\tif (config.height)\n\t\t\tbox.style.height = config.height;\n\t\tif (config.title)\n\t\t\tinner += '<div class=\"gantt_popup_title dhtmlx_popup_title\">' + config.title + '</div>';\n\t\tinner += '<div class=\"gantt_popup_text dhtmlx_popup_text\" id=\"' + contentId + '\"><span>' + (config.content ? '' : config.text) + '</span></div><div  class=\"gantt_popup_controls dhtmlx_popup_controls\">';\n\t\tif (ok)\n\t\t\tinner += button(getFirstDefined(config.ok, gantt.locale.labels.message_ok, \"OK\"), \"ok\", true);\n\t\tif (cancel)\n\t\t\tinner += button(getFirstDefined(config.cancel, gantt.locale.labels.message_cancel, \"Cancel\"), \"cancel\", false);\n\n\t\tif (config.buttons) {\n\t\t\tfor (var i = 0; i < config.buttons.length; i++) {\n\t\t\t\tvar btn = config.buttons[i];\n\t\t\t\tif (typeof btn == \"object\") {\n\t\t\t\t\t// Support { label:\"Save\", css:\"main_button\", value:\"save\" }\n\t\t\t\t\tvar label = btn.label;\n\t\t\t\t\tvar css = btn.css || (\"gantt_\" + btn.label.toLowerCase() + \"_button dhtmlx_\" + btn.label.toLowerCase() + \"_button\");\n\t\t\t\t\tvar value = btn.value || i;\n\t\t\t\t\tinner += button(label, css, value);\n\t\t\t\t} else {\n\t\t\t\t\tinner += button(btn, btn, i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinner += '</div>';\n\t\tbox.innerHTML = inner;\n\n\t\tif (config.content) {\n\t\t\tvar node = config.content;\n\t\t\tif (typeof node == \"string\")\n\t\t\t\tnode = document.getElementById(node);\n\t\t\tif (node.style.display == 'none')\n\t\t\t\tnode.style.display = \"\";\n\t\t\tbox.childNodes[config.title ? 1 : 0].appendChild(node);\n\t\t}\n\n\t\tbox.onclick = function (e) {\n\t\t\te = e || event;\n\t\t\tvar source = e.target || e.srcElement;\n\t\t\tif (!source.className) source = source.parentNode;\n\t\t\tif (source.className.split(\" \")[0] == \"gantt_popup_button\") {\n\t\t\t\tvar result = source.getAttribute(\"data-result\");\n\t\t\t\tresult = (result == \"true\") || (result == \"false\" ? false : result);\n\t\t\t\tcallback(config, result);\n\t\t\t}\n\t\t};\n\t\tconfig.box = box;\n\t\tif (ok || cancel)\n\t\t\t_dhx_msg_cfg = config;\n\n\t\treturn box;\n\t}\n\n\tfunction _createBox(config, ok, cancel) {\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\n\n\t\tif (!config.hidden)\n\t\t\tmodality(true);\n\t\tdocument.body.appendChild(box);\n\t\tvar x = Math.abs(Math.floor(((window.innerWidth || document.documentElement.offsetWidth) - box.offsetWidth) / 2));\n\t\tvar y = Math.abs(Math.floor(((window.innerHeight || document.documentElement.offsetHeight) - box.offsetHeight) / 2));\n\t\tif (config.position == \"top\")\n\t\t\tbox.style.top = \"-3px\";\n\t\telse\n\t\t\tbox.style.top = y + 'px';\n\t\tbox.style.left = x + 'px';\n\t\t//necessary for IE only\n\t\tbox.onkeydown = modal_key;\n\n\t\tmodalBox.focus(box);\n\n\t\tif (config.hidden)\n\t\t\tmodalBox.hide(box);\n\n\t\tgantt.callEvent(\"onMessagePopup\", [box]);\n\t\treturn box;\n\t}\n\n\tfunction alertPopup(config) {\n\t\treturn _createBox(config, true, false);\n\t}\n\n\tfunction confirmPopup(config) {\n\t\treturn _createBox(config, true, true);\n\t}\n\n\tfunction boxPopup(config) {\n\t\treturn _createBox(config);\n\t}\n\n\tfunction box_params(text, type, callback) {\n\t\tif (typeof text != \"object\") {\n\t\t\tif (typeof type == \"function\") {\n\t\t\t\tcallback = type;\n\t\t\t\ttype = \"\";\n\t\t\t}\n\t\t\ttext = {text: text, type: type, callback: callback};\n\t\t}\n\t\treturn text;\n\t}\n\n\tfunction params(text, type, expire, id) {\n\t\tif (typeof text != \"object\")\n\t\t\ttext = {text: text, type: type, expire: expire, id: id};\n\t\ttext.id = text.id || utils.uid();\n\t\ttext.expire = text.expire || messageBox.expire;\n\t\treturn text;\n\t}\n\n\tvar alertBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"confirm\";\n\t\treturn alertPopup(text);\n\t};\n\tvar confirmBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn confirmPopup(text);\n\t};\n\tvar modalBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn boxPopup(text);\n\t};\n\tmodalBox.hide = function (node) {\n\t\twhile (node && node.getAttribute && !node.getAttribute(boxAttribute))\n\t\t\tnode = node.parentNode;\n\t\tif (node) {\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\tmodality(false);\n\n\t\t\tgantt.callEvent(\"onAfterMessagePopup\", [node]);\n\t\t}\n\t};\n\n\tmodalBox.focus = function (node) {\n\t\tsetTimeout(function () {\n\t\t\tvar focusable = domHelpers.getFocusableNodes(node);\n\t\t\tif (focusable.length) {\n\t\t\t\tif (focusable[0].focus) focusable[0].focus();\n\t\t\t}\n\t\t}, 1);\n\t};\n\n\tvar messageBox = function (text, type, expire, id) {\n\t\ttext = params.apply(this, arguments);\n\t\ttext.type = text.type || \"info\";\n\n\t\tvar subtype = text.type.split(\"-\")[0];\n\t\tswitch (subtype) {\n\t\t\tcase \"alert\":\n\t\t\t\treturn alertPopup(text);\n\t\t\tcase \"confirm\":\n\t\t\t\treturn confirmPopup(text);\n\t\t\tcase \"modalbox\":\n\t\t\t\treturn boxPopup(text);\n\t\t\tdefault:\n\t\t\t\treturn info(text);\n\t\t}\n\t};\n\n\tmessageBox.seed = (new Date()).valueOf();\n\tmessageBox.uid = utils.uid;\n\tmessageBox.expire = 4000;\n\tmessageBox.keyboard = true;\n\tmessageBox.position = \"top\";\n\tmessageBox.pull = {};\n\tmessageBox.timers = {};\n\n\tmessageBox.hideAll = function () {\n\t\tfor (var key in messageBox.pull)\n\t\t\tmessageBox.hide(key);\n\t};\n\tmessageBox.hide = function (id) {\n\t\tvar obj = messageBox.pull[id];\n\t\tif (obj && obj.parentNode) {\n\t\t\twindow.setTimeout(function () {\n\t\t\t\tobj.parentNode.removeChild(obj);\n\t\t\t\tobj = null;\n\t\t\t}, 2000);\n\t\t\tobj.className += \" hidden\";\n\n\t\t\tif (messageBox.timers[id])\n\t\t\t\twindow.clearTimeout(messageBox.timers[id]);\n\t\t\tdelete messageBox.pull[id];\n\t\t}\n\t};\n\n\tvar popups = [];\n\tgantt.attachEvent(\"onMessagePopup\", function(box){\n\t\tpopups.push(box);\n\t});\n\tgantt.attachEvent(\"onAfterMessagePopup\", function(box){\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i] === box){\n\t\t\t\tpopups.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\tif(modality.cover && modality.cover.parentNode){\n\t\t\tmodality.cover.parentNode.removeChild(modality.cover);\n\t\t}\n\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i].parentNode){\n\t\t\t\tpopups[i].parentNode.removeChild(popups[i]);\n\t\t\t}\n\t\t}\n\t\tpopups = null;\n\n\t\tif(messageBox.area && messageBox.area.parentNode){\n\t\t\tmessageBox.area.parentNode.removeChild(messageBox.area);\n\t\t}\n\t\tmessageBox = null;\n\t});\n\n\treturn {\n\t\talert: alertBox,\n\t\tconfirm: confirmBox,\n\t\tmessage: messageBox,\n\t\tmodalbox: modalBox\n\t};\n};","var utils = require(\"./utils\");\n\nfunction createScope(addEvent, removeEvent){\n\taddEvent = addEvent || utils.event;\n\tremoveEvent = removeEvent || utils.eventRemove;\n\n\tvar handlers = [];\n\n\treturn {\n\t\tattach: function(el, event, handler, capture){\n\t\t\thandlers.push({element: el, event:event, callback: handler, capture: capture});\n\t\t\taddEvent(el, event, handler, capture);\n\t\t},\n\t\tdetach: function(el, event, handler, capture){\n\t\t\tremoveEvent(el, event, handler, capture);\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handler = handlers[i];\n\t\t\t\tif(handler.element === el && handler.event === event && handler.callback === handler && handler.capture === capture){\n\t\t\t\t\thandlers.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdetachAll: function(){\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tremoveEvent(handlers[i].element, handlers[i].event, handlers[i].callback, handlers[i].capture);\n\t\t\t\tremoveEvent(handlers[i].element, handlers[i].event, handlers[i].callback, undefined);\n\t\t\t\tremoveEvent(handlers[i].element, handlers[i].event, handlers[i].callback, false);\n\t\t\t\tremoveEvent(handlers[i].element, handlers[i].event, handlers[i].callback, true);\n\t\t\t}\n\t\t\thandlers = [];\n\t\t},\n\t\textend: function(){\n\t\t\treturn createScope(this.event, this.eventRemove);\n\t\t}\n\t};\n}\n\nmodule.exports = createScope;","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2018 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.3\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nfunction _drainQueue(queue) {\n    while (queue.length() > 0) {\n        _drainQueueStep(queue);\n    }\n}\n\nfunction _drainQueueStep(queue) {\n    var fn = queue.shift();\n    if (typeof fn !== \"function\") {\n        fn._settlePromises();\n    } else {\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n}\n\nAsync.prototype._drainQueues = function () {\n    _drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    _drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar es5 = _dereq_(\"./es5\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                es5.defineProperty(\n                    eventData, \"promise\", {value: event.promise});\n                es5.defineProperty(eventData, \"reason\", {value: event.reason});\n                var domEvent = new CustomEvent(name.toLowerCase(), eventData);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n        this._dereferenceTrace();\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.3\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var receiver = new FakeConstructor();\n    function ic() {\n        return typeof receiver.foo;\n    }\n    ic();\n    ic();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }","module.exports = require(\"bluebird\");","var utils = require(\"../../utils/utils\");\n\nvar StateService = (function(){\n\tvar stateProviders = {};\n\n\tfunction getState(name){\n\t\tif(name){\n\t\t\treturn stateProviders[name].method();\n\t\t}else{\n\t\t\tvar res = {};\n\t\t\tfor(var i in stateProviders){\n\t\t\t\tif(!stateProviders[i].internal)\n\t\t\t\t\tutils.mixin(res, stateProviders[i].method(), true);\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t}\n\n\tfunction registerProvider(name, provider, internal){\n\t\tstateProviders[name] = { method: provider, internal: internal};\n\t}\n\n\tfunction unregisterProvider(name){\n\t\tdelete stateProviders[name];\n\t}\n\n\treturn {\n\t\tgetState: getState,\n\t\tregisterProvider: registerProvider,\n\t\tunregisterProvider: unregisterProvider\n\t};\n});\n\nmodule.exports = StateService;\n\n","module.exports = function(gantt) {\n\n\tvar regTemplates = {};\n\n\tfunction initTemplate(name, initial, template_name) {\n\t\ttemplate_name = template_name || name;\n\t\tvar config = gantt.config,\n\t\t\ttemplates = gantt.templates;\n\n\t\tif (gantt.config[name] && regTemplates[template_name] != config[name]) {\n\t\t\tif (!(initial && templates[template_name])) {\n\t\t\t\ttemplates[template_name] = gantt.date.date_to_str(config[name]);\n\t\t\t\tregTemplates[template_name] = config[name];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction initTemplates() {\n\t\tvar labels = gantt.locale.labels;\n\t\tlabels.gantt_save_btn = labels.icon_save;\n\t\tlabels.gantt_cancel_btn = labels.icon_cancel;\n\t\tlabels.gantt_delete_btn = labels.icon_delete;\n\n\n\t\tvar date = gantt.date;\n\n\t\t//build configuration based templates\n\t\tvar d = date.date_to_str;\n\t\tvar c = gantt.config;\n\t\tinitTemplate(\"date_scale\", true, undefined, gantt.config, gantt.templates);\n\t\tinitTemplate(\"date_grid\", true, \"grid_date_format\", gantt.config, gantt.templates);\n\t\tinitTemplate(\"task_date\", true, undefined, gantt.config, gantt.templates);\n\n\t\tgantt.mixin(gantt.templates, {\n\t\t\txml_date: date.str_to_date(c.xml_date, c.server_utc),\n\t\t\txml_format: d(c.xml_date, c.server_utc),\n\t\t\tapi_date: date.str_to_date(c.api_date),\n\t\t\tprogress_text: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tgrid_header_class: function (column, config) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttask_text: function (start, end, task) {\n\t\t\t\treturn task.text;\n\t\t\t},\n\t\t\ttask_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tgrid_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttask_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttask_cell_class: function (item, date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_cell_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_row_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\tgrid_indent: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_indent'></div>\";\n\t\t\t},\n\t\t\tgrid_folder: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_folder_\" + (item.$open ? \"open\" : \"closed\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_file: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_file'></div>\";\n\t\t\t},\n\t\t\tgrid_open: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_\" + (item.$open ? \"close\" : \"open\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_blank: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_blank'></div>\";\n\t\t\t},\n\t\t\tdate_grid: function (date, item) {\n\t\t\t\tif (item && gantt.isUnscheduledTask(item) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(item);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.grid_date_format(date);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_time: function (start, end, ev) {\n\t\t\t\tif (gantt.isUnscheduledTask(ev) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(ev);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.task_date(start) + \" - \" + gantt.templates.task_date(end);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_unscheduled_time: function (task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttime_picker: d(c.time_picker),\n\t\t\tlink_class: function (link) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tlink_description: function (link) {\n\t\t\t\tvar from = gantt.getTask(link.source),\n\t\t\t\t\tto = gantt.getTask(link.target);\n\n\t\t\t\treturn \"<b>\" + from.text + \"</b> &ndash;  <b>\" + to.text + \"</b>\";\n\t\t\t},\n\n\t\t\tdrag_link: function (from, from_start, to, to_start) {\n\t\t\t\tfrom = gantt.getTask(from);\n\t\t\t\tvar labels = gantt.locale.labels;\n\n\t\t\t\tvar text = \"<b>\" + from.text + \"</b> \" + (from_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\tif (to) {\n\t\t\t\t\tto = gantt.getTask(to);\n\t\t\t\t\ttext += \"<b> \" + to.text + \"</b> \" + (to_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\t}\n\t\t\t\treturn text;\n\t\t\t},\n\t\t\tdrag_link_class: function (from, from_start, to, to_start) {\n\t\t\t\tvar add = \"\";\n\n\t\t\t\tif (from && to) {\n\t\t\t\t\tvar allowed = gantt.isLinkAllowed(from, to, from_start, to_start);\n\t\t\t\t\tadd = \" \" + (allowed ? \"gantt_link_allow\" : \"gantt_link_deny\");\n\t\t\t\t}\n\n\t\t\t\treturn \"gantt_link_tooltip\" + add;\n\t\t\t},\n\n\t\t\t/* used for aria-labels of bar elements and for tooltip.js */\n\t\t\ttooltip_date_format: date.date_to_str(\"%Y-%m-%d\"),\n\t\t\ttooltip_text: function (start, end, event) {\n\t\t\t\treturn \"<b>Task:</b> \" + event.text + \"<br/><b>Start date:</b> \" + gantt.templates.tooltip_date_format(start) + \"<br/><b>End date:</b> \" + gantt.templates.tooltip_date_format(end);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tinitTemplates: initTemplates,\n\t\tinitTemplate: initTemplate\n\t};\n\n};","var eventable = require(\"../../utils/eventable\");\nvar utils = require(\"../../utils/utils\");\nvar timeout = require(\"../../utils/timeout\");\n\nmodule.exports = function(gantt){\n\n\tfunction copyDomEvent(e){\n\t\treturn {\n\t\t\ttarget: e.target || e.srcElement,\n\t\t\tpageX: e.pageX,\n\t\t\tpageY: e.pageY,\n\t\t\tclientX: e.clientX,\n\t\t\tclientY: e.clientY,\n\t\t\tmetaKey: e.metaKey,\n\t\t\tshiftKey: e.shiftKey,\n\t\t\tctrlKey: e.ctrlKey,\n\t\t\taltKey: e.altKey\n\t\t};\n\t}\n\n\tfunction DnD(obj, config) {\n\t\tthis._obj = obj;\n\t\tthis._settings = config || {};\n\t\teventable(this);\n\n\t\tvar inputMethods = this.getInputMethods();\n\n\t\tthis._drag_start_timer = null;\n\t\tgantt.attachEvent(\"onGanttScroll\", utils.bind(function (left, top) {\n\t\t\tthis.clearDragTimer();\n\t\t}, this));\n\n\t\tfor(var i = 0; i < inputMethods.length; i++){\n\t\t\t(utils.bind(function(input){\n\n\t\t\t\tgantt.event(obj, input.down, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._settings.original_target = copyDomEvent(e);\n\n\t\t\t\t\tif (gantt.config.touch) {\n\t\t\t\t\t\tthis.clearDragTimer();\n\n\t\t\t\t\t\tthis._drag_start_timer = setTimeout(utils.bind(function () {\n\t\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t\t}, this), gantt.config.touch_drag);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\n\t\t\t\tgantt.event(document.body, input.up, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.clearDragTimer();\n\t\t\t\t}, this));\n\n\t\t\t}, this))(inputMethods[i]);\n\t\t}\n\t}\n\n\tDnD.prototype = {\n\t\ttraceDragEvents: function (domElement, inputMethod) {\n\t\t\tvar mousemove = utils.bind(function (e) {\n\t\t\t\treturn this.dragMove(domElement, e, inputMethod.accessor);\n\t\t\t}, this);\n\t\t\tutils.bind(function (e) {\n\t\t\t\treturn this.dragScroll(domElement, e);\n\t\t\t}, this);\n\n\t\t\tvar limited_mousemove = utils.bind(function (e) {\n\t\t\t\tif (e && e.preventDefault) //Cancel default action on DND\n\t\t\t\t\te.preventDefault();\n\t\t\t\t(e || event).cancelBubble = true;\n\t\t\t\tif (utils.defined(this.config.updates_per_second)) {\n\t\t\t\t\tif (!timeout(this, this.config.updates_per_second))\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn mousemove(e);\n\t\t\t}, this);\n\n\t\t\tvar mouseup = utils.bind(function (e) {\n\t\t\t\tgantt.eventRemove(document.body, inputMethod.move, limited_mousemove);\n\t\t\t\tgantt.eventRemove(document.body, inputMethod.up, mouseup);\n\t\t\t\treturn this.dragEnd(domElement);\n\t\t\t}, this);\n\n\t\t\tgantt.event(document.body, inputMethod.move, limited_mousemove);\n\t\t\tgantt.event(document.body, inputMethod.up, mouseup);\n\t\t},\n\t\tcheckPositionChange: function (pos) {\n\t\t\tvar diff_x = pos.x - this.config.pos.x;\n\t\t\tvar diff_y = pos.y - this.config.pos.y;\n\t\t\tvar distance = Math.sqrt(Math.pow(Math.abs(diff_x), 2) + Math.pow(Math.abs(diff_y), 2));\n\n\t\t\tif (distance > this.config.sensitivity) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tinitDnDMarker: function () {\n\t\t\t// create dnd placeholder and put it in dom\n\t\t\tvar marker = this.config.marker = document.createElement(\"div\");\n\t\t\tmarker.className = \"gantt_drag_marker\";\n\t\t\tmarker.innerHTML = \"Dragging object\";\n\t\t\tdocument.body.appendChild(marker);\n\t\t},\n\t\tbackupEventTarget: function (domEvent, getEvent) {\n\t\t\tif (!gantt.config.touch) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// keep original event target in DOM in order to keep dnd on touchmove event\n\t\t\tvar e = getEvent(domEvent);\n\n\t\t\tvar el = e.target || e.srcElement;\n\t\t\tvar copy = el.cloneNode(true);\n\t\t\t//this.config.target.target = copy;\n\t\t\tthis.config.original_target = copyDomEvent(e);\n\t\t\tthis.config.original_target.target = copy;\n\t\t\tthis.config.backup_element = el;\n\t\t\tel.parentNode.appendChild(copy);\n\n\t\t\tel.style.display = \"none\";\n\t\t\tdocument.body.appendChild(el);\n\t\t},\n\t\tgetInputMethods: function () {\n\t\t\t// bind actions to browser events\n\t\t\tvar inputMethods = [];\n\n\t\t\tinputMethods.push({\n\t\t\t\t\"move\": \"mousemove\",\n\t\t\t\t\"down\": \"mousedown\",\n\t\t\t\t\"up\": \"mouseup\",\n\t\t\t\t\"accessor\": function (e) {\n\t\t\t\t\treturn e;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (gantt.config.touch) {\n\n\t\t\t\tvar touchEventsSupported = true;\n\t\t\t\ttry{\n\t\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t\t}catch (e){\n\t\t\t\t\ttouchEventsSupported = false;\n\t\t\t\t}\n\n\t\t\t\tif(touchEventsSupported){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"touchmove\",\n\t\t\t\t\t\t\"down\": \"touchstart\",\n\t\t\t\t\t\t\"up\": \"touchend\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttarget: document.elementFromPoint(ev.touches[0].clientX, ev.touches[0].clientY),\n\t\t\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else if(window.navigator.pointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"pointermove\",\n\t\t\t\t\t\t\"down\": \"pointerdown\",\n\t\t\t\t\t\t\"up\": \"pointerup\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}else if (window.navigator.msPointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"MSPointerMove\",\n\t\t\t\t\t\t\"down\": \"MSPointerDown\",\n\t\t\t\t\t\t\"up\": \"MSPointerUp\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn inputMethods;\n\t\t},\n\t\tclearDragTimer: function () {\n\t\t\tif (this._drag_start_timer) {\n\t\t\t\tclearTimeout(this._drag_start_timer);\n\t\t\t\tthis._drag_start_timer = null;\n\t\t\t}\n\t\t},\n\t\tdragStart: function (obj, e, inputMethod) {\n\t\t\tif (this.config && this.config.started) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.config = {\n\t\t\t\tobj: obj,\n\t\t\t\tmarker: null,\n\t\t\t\tstarted: false,\n\t\t\t\tpos: this.getPosition(e),\n\t\t\t\tsensitivity: 4\n\t\t\t};\n\t\t\tif (this._settings)\n\t\t\t\tutils.mixin(this.config, this._settings, true);\n\n\n\t\t\tthis.traceDragEvents(obj, inputMethod);\n\n\t\t\tgantt._prevent_touch_scroll = true;\n\t\t\tdocument.body.className += \" gantt_noselect\";\n\n\t\t\tif (gantt.config.touch) {\n\t\t\t\tthis.dragMove(obj, e, inputMethod.accessor);\n\t\t\t}\n\n\t\t},\n\t\tdragMove: function (obj, e, getEvent) {\n\t\t\tvar source = getEvent(e);\n\t\t\tif (!source) return;\n\n\t\t\tif (!this.config.marker && !this.config.started) {\n\t\t\t\tvar pos = this.getPosition(source);\n\n\t\t\t\tif (gantt.config.touch || this.checkPositionChange(pos)) {\n\t\t\t\t\t// real drag starts here,\n\t\t\t\t\t// when user moves mouse at first time after onmousedown\n\t\t\t\t\tthis.config.started = true;\n\t\t\t\t\tthis.config.ignore = false;\n\t\t\t\t\tif (this.callEvent(\"onBeforeDragStart\", [obj, this.config.original_target]) === false) {\n\t\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.backupEventTarget(e, getEvent);\n\t\t\t\t\tthis.initDnDMarker();\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\tthis.callEvent(\"onAfterDragStart\", [obj, this.config.original_target]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (!this.config.ignore) {\n\t\t\t\tsource.pos = this.getPosition(source);\n\t\t\t\tthis.config.marker.style.left = source.pos.x + \"px\";\n\t\t\t\tthis.config.marker.style.top = source.pos.y + \"px\";\n\t\t\t\tthis.callEvent(\"onDragMove\", [obj, source]);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tdragEnd: function (obj) {\n\t\t\tvar target = this.config.backup_element;\n\t\t\tif (target && target.parentNode) {\n\t\t\t\ttarget.parentNode.removeChild(target);\n\t\t\t}\n\t\t\tgantt._prevent_touch_scroll = false;\n\t\t\tif (this.config.marker) {\n\t\t\t\tthis.config.marker.parentNode.removeChild(this.config.marker);\n\t\t\t\tthis.config.marker = null;\n\n\t\t\t\tthis.callEvent(\"onDragEnd\", []);\n\t\t\t}\n\t\t\tthis.config.started = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_noselect\", \"\");\n\t\t},\n\n\t\tgetPosition: function (e) {\n\t\t\tvar x = 0, y = 0;\n\t\t\te = e || window.event;\n\t\t\tif (e.pageX || e.pageY) {\n\t\t\t\tx = e.pageX;\n\t\t\t\ty = e.pageY;\n\t\t\t} else if (e.clientX || e.clientY) {\n\t\t\t\tx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t\t\ty = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t\t}\n\t\t\treturn {x: x, y: y};\n\t\t}\n\t};\n\n\treturn DnD;\n};\n","/*\n %d - the day as a number with a leading zero ( 01 to 31 );\n %j - the day as a number without a leading zero ( 1 to 31 );\n %D - the day as an abbreviation ( Sun to Sat );\n %l - the day as a full name ( Sunday to Saturday );\n %W - the ISO-8601 week number of the year. Weeks start on Monday; 1)\n %m - the month as a number without a leading zero ( 1 to 12 );\n %n - the month as a number with a leading zero ( 01 to 12);\n %M - the month as an abbreviation ( Jan to Dec );\n %F - the month as a full name ( January to December );\n %y - the year as a two-digit number ( 00 to 99 );\n %Y - the year as a four-digit number ( 19009999 );\n %h - the hour based on the 12-hour clock ( 00 to 11 );\n %H - the hour based on the 24-hour clock ( 00 to 23 );\n %i - the minute as a number with a leading zero ( 00 to 59 );\n %s - the second as a number without a leading zero ( 00 to 59 ); 2)\n %a - displays am (for times from midnight until noon) and pm (for times from noon until midnight);\n %A - displays AM (for times from midnight until noon) and PM (for times from noon until midnight).\n*/\n\nmodule.exports = function(gantt) {\n\tvar dateHelper = {\n\t\tinit: function () {\n\t\t\tvar locale = gantt.locale;\n\n\t\t\tvar s = locale.date.month_short;\n\t\t\tvar t = locale.date.month_short_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\n\t\t\tvar s = locale.date.month_full;\n\t\t\tvar t = locale.date.month_full_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\t\t},\n\t\tdate_part: function (date) {\n\t\t\tvar old = new Date(date);\n\t\t\tdate.setHours(0);\n\t\t\tthis.hour_start(date);\n\t\t\tif (date.getHours() && //shift to yesterday on dst\n\t\t\t\t(date.getDate() < old.getDate() || date.getMonth() < old.getMonth() || date.getFullYear() < old.getFullYear()))\n\t\t\t\tdate.setTime(date.getTime() + 60 * 60 * 1000 * (24 - date.getHours()));\n\t\t\treturn date;\n\t\t},\n\t\ttime_part: function (date) {\n\t\t\treturn (date.valueOf() / 1000 - date.getTimezoneOffset() * 60) % 86400;\n\t\t},\n\t\tweek_start: function (date) {\n\t\t\tvar shift = date.getDay();\n\t\t\tif (gantt.config.start_on_monday) {\n\t\t\t\tif (shift === 0) shift = 6;\n\t\t\t\telse shift--;\n\t\t\t}\n\t\t\treturn this.date_part(this.add(date, -1 * shift, \"day\"));\n\t\t},\n\t\tmonth_start: function (date) {\n\t\t\tdate.setDate(1);\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\tquarter_start: function (date) {\n\t\t\tthis.month_start(date);\n\t\t\tvar m = date.getMonth(),\n\t\t\t\tres_month;\n\n\t\t\tif (m >= 9) {\n\t\t\t\tres_month = 9;\n\t\t\t} else if (m >= 6) {\n\t\t\t\tres_month = 6;\n\t\t\t} else if (m >= 3) {\n\t\t\t\tres_month = 3;\n\t\t\t} else {\n\t\t\t\tres_month = 0;\n\t\t\t}\n\n\t\t\tdate.setMonth(res_month);\n\t\t\treturn date;\n\t\t},\n\t\tyear_start: function (date) {\n\t\t\tdate.setMonth(0);\n\t\t\treturn this.month_start(date);\n\t\t},\n\t\tday_start: function (date) {\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\thour_start: function (date) {\n\t\t\tif (date.getMinutes())\n\t\t\t\tdate.setMinutes(0);\n\t\t\tthis.minute_start(date);\n\n\t\t\treturn date;\n\t\t},\n\t\tminute_start: function (date) {\n\t\t\tif (date.getSeconds())\n\t\t\t\tdate.setSeconds(0);\n\t\t\tif (date.getMilliseconds())\n\t\t\t\tdate.setMilliseconds(0);\n\t\t\treturn date;\n\t\t},\n\t\t_add_days: function (date, inc) {\n\t\t\tvar ndate = new Date(date.valueOf());\n\n\t\t\tndate.setDate(ndate.getDate() + inc);\n\t\t\tif (inc >= 0 && (!date.getHours() && ndate.getHours()) &&//shift to yesterday on dst\n\t\t\t\t(ndate.getDate() <= date.getDate() || ndate.getMonth() < date.getMonth() || ndate.getFullYear() < date.getFullYear()))\n\t\t\t\tndate.setTime(ndate.getTime() + 60 * 60 * 1000 * (24 - ndate.getHours()));\n\t\t\treturn ndate;\n\t\t},\n\n\t\tadd: function (date, inc, mode) {\n\t\t\t/*jsl:ignore*/\n\t\t\tvar ndate = new Date(date.valueOf());\n\t\t\tswitch (mode) {\n\t\t\t\tcase \"day\":\n\t\t\t\t\tndate = this._add_days(ndate, inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"week\":\n\t\t\t\t\tndate = this._add_days(ndate, inc * 7);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"month\":\n\t\t\t\t\tndate.setMonth(ndate.getMonth() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"year\":\n\t\t\t\t\tndate.setYear(ndate.getFullYear() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hour\":\n\t\t\t\t\t/*\n\t\t\t\t\t\tadding hours/minutes via setHour(getHour() + inc) gives weird result when\n\t\t\t\t\t\tadding one hour to the time before switch to a Daylight Saving time\n\n\t\t\t\t\t\texample: //Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\t\t\t\t\t\tnew Date(2014, 02, 30, 1).setHours(2)\n\t\t\t\t\t\t>>Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\n\t\t\t\t\t\tsetTime seems working as expected\n\t\t\t\t\t */\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 60 * 1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"minute\":\n\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 1000);\n\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this[\"add_\" + mode](date, inc, mode);\n\t\t\t}\n\t\t\treturn ndate;\n\t\t\t/*jsl:end*/\n\t\t},\n\t\tadd_quarter: function (date, inc) {\n\t\t\treturn this.add(date, inc * 3, \"month\");\n\t\t},\n\n\t\tto_fixed: function (num) {\n\t\t\tif (num < 10) return \"0\" + num;\n\t\t\treturn num;\n\t\t},\n\t\tcopy: function (date) {\n\t\t\treturn new Date(date.valueOf());\n\t\t},\n\t\tdate_to_str: function (format, utc) {\n\t\t\tformat = format.replace(/%[a-zA-Z]/g, function (a) {\n\t\t\t\tswitch (a) {\n\t\t\t\t\tcase \"%d\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getDate())+\\\"\";\n\t\t\t\t\tcase \"%m\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed((date.getMonth()+1))+\\\"\";\n\t\t\t\t\tcase \"%j\":\n\t\t\t\t\t\treturn \"\\\"+date.getDate()+\\\"\";\n\t\t\t\t\tcase \"%n\":\n\t\t\t\t\t\treturn \"\\\"+(date.getMonth()+1)+\\\"\";\n\t\t\t\t\tcase \"%y\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getFullYear()%100)+\\\"\";\n\t\t\t\t\tcase \"%Y\":\n\t\t\t\t\t\treturn \"\\\"+date.getFullYear()+\\\"\";\n\t\t\t\t\tcase \"%D\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.day_short[date.getDay()]+\\\"\";\n\t\t\t\t\tcase \"%l\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.day_full[date.getDay()]+\\\"\";\n\t\t\t\t\tcase \"%M\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.month_short[date.getMonth()]+\\\"\";\n\t\t\t\t\tcase \"%F\":\n\t\t\t\t\t\treturn \"\\\"+locale.date.month_full[date.getMonth()]+\\\"\";\n\t\t\t\t\tcase \"%h\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\t\tcase \"%g\":\n\t\t\t\t\t\treturn \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\n\t\t\t\t\tcase \"%G\":\n\t\t\t\t\t\treturn \"\\\"+date.getHours()+\\\"\";\n\t\t\t\t\tcase \"%H\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getHours())+\\\"\";\n\t\t\t\t\tcase \"%i\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getMinutes())+\\\"\";\n\t\t\t\t\tcase \"%a\":\n\t\t\t\t\t\treturn \"\\\"+(date.getHours()>11?\\\"pm\\\":\\\"am\\\")+\\\"\";\n\t\t\t\t\tcase \"%A\":\n\t\t\t\t\t\treturn \"\\\"+(date.getHours()>11?\\\"PM\\\":\\\"AM\\\")+\\\"\";\n\t\t\t\t\tcase \"%s\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(date.getSeconds())+\\\"\";\n\t\t\t\t\tcase \"%W\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(getISOWeek(date))+\\\"\";\n\t\t\t\t\tcase \"%w\":\n\t\t\t\t\t\treturn \"\\\"+to_fixed(getWeek(date))+\\\"\";\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (utc) format = format.replace(/date\\.get/g, \"date.getUTC\");\n\t\t\tvar dateToStr = new Function(\"date\", \"to_fixed\", \"locale\", \"getISOWeek\", \"getWeek\", \"return \\\"\" + format + \"\\\";\");\n\n\t\t\treturn function (date) {\n\t\t\t\treturn dateToStr(date, dateHelper.to_fixed, gantt.locale, dateHelper.getISOWeek, dateHelper.getWeek);\n\t\t\t};\n\t\t},\n\t\tstr_to_date: function (format, utc) {\n\t\t\tvar splt = \"var temp=date.match(/[a-zA-Z]+|[0-9]+/g);\";\n\t\t\tvar mask = format.match(/%[a-zA-Z]/g);\n\t\t\tfor (var i = 0; i < mask.length; i++) {\n\t\t\t\tswitch (mask[i]) {\n\t\t\t\t\tcase \"%j\":\n\t\t\t\t\tcase \"%d\":\n\t\t\t\t\t\tsplt += \"set[2]=temp[\" + i + \"]||1;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%n\":\n\t\t\t\t\tcase \"%m\":\n\t\t\t\t\t\tsplt += \"set[1]=(temp[\" + i + \"]||1)-1;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%y\":\n\t\t\t\t\t\tsplt += \"set[0]=temp[\" + i + \"]*1+(temp[\" + i + \"]>50?1900:2000);\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%g\":\n\t\t\t\t\tcase \"%G\":\n\t\t\t\t\tcase \"%h\":\n\t\t\t\t\tcase \"%H\":\n\t\t\t\t\t\tsplt += \"set[3]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%i\":\n\t\t\t\t\t\tsplt += \"set[4]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%Y\":\n\t\t\t\t\t\tsplt += \"set[0]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%a\":\n\t\t\t\t\tcase \"%A\":\n\t\t\t\t\t\tsplt += \"set[3]=set[3]%12+((temp[\" + i + \"]||'').toLowerCase()=='am'?0:12);\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%s\":\n\t\t\t\t\t\tsplt += \"set[5]=temp[\" + i + \"]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%M\":\n\t\t\t\t\t\tsplt += \"set[1]=locale.date.month_short_hash[temp[\" + i + \"]]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"%F\":\n\t\t\t\t\t\tsplt += \"set[1]=locale.date.month_full_hash[temp[\" + i + \"]]||0;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar code = \"set[0],set[1],set[2],set[3],set[4],set[5]\";\n\t\t\tif (utc) code = \" Date.UTC(\" + code + \")\";\n\t\t\tvar strToDate = new Function(\"date\", \"locale\", \"var set=[0,0,1,0,0,0]; \" + splt + \" return new Date(\" + code + \");\");\n\n\t\t\treturn function (dateString) {\n\t\t\t\treturn strToDate(dateString, gantt.locale);\n\t\t\t};\n\t\t},\n\t\tgetISOWeek: function (ndate) {\n\t\t\treturn gantt.date._getWeekNumber(ndate, true);\n\t\t},\n\t\t_getWeekNumber: function(ndate, isoWeek){\n\t\t\tif (!ndate) return false;\n\t\t\tvar nday = ndate.getDay();\n\t\t\tif(isoWeek){\n\t\t\t\tif (nday === 0) {\n\t\t\t\t\tnday = 7;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar first_thursday = new Date(ndate.valueOf());\n\t\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\n\t\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\n\t\t\tvar ordinal_date = Math.round((first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\t\t\tvar week_number = 1 + Math.floor(ordinal_date / 7);\n\t\t\treturn week_number;\n\t\t},\n\n\t\tgetWeek: function(ndate){\n\t\t\treturn gantt.date._getWeekNumber(ndate, gantt.config.start_on_monday);\n\t\t},\n\t\tgetUTCISOWeek: function (ndate) {\n\t\t\treturn gantt.date.getISOWeek(ndate);\n\t\t},\n\t\tconvert_to_utc: function (date) {\n\t\t\treturn new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n\t\t},\n\t\tparseDate: function (date, format) {\n\t\t\t// raw date may be of type string, number (timestamp) or something else\n\t\t\t// do not check for instanceof Date explicitly, since we may swap native date with different date implementation at some point\n\t\t\tif (date && !date.getFullYear) {\n\t\t\t\tif (gantt.defined(format)) {\n\t\t\t\t\tif (typeof(format) == \"string\")\n\t\t\t\t\t\tformat = gantt.defined(gantt.templates[format]) ? gantt.templates[format] : gantt.date.str_to_date(format);\n\t\t\t\t\telse\n\t\t\t\t\t\tformat = gantt.templates.xml_date;\n\t\t\t\t}\n\t\t\t\tif (date)\n\t\t\t\t\tdate = format(date);\n\t\t\t\telse\n\t\t\t\t\tdate = null;\n\t\t\t}\n\t\t\treturn date;\n\t\t}\n\t};\n\treturn dateHelper;\n};","export default function serialize(data: object | string) {\n\tif (typeof data === \"string\" || typeof data === \"number\") {\n\t\treturn data;\n\t}\n\n\tlet result = \"\";\n\n\tfor (const key in data) {\n\t\tlet serialized = \"\";\n\t\tif (data.hasOwnProperty(key)) {\n\t\t\tif (typeof data[key] === \"string\") {\n\t\t\t\tserialized = encodeURIComponent(data[key]);\n\t\t\t} else if (typeof data[key] === \"number\") {\n\t\t\t\tserialized = data[key];\n\t\t\t} else {\n\t\t\t\tserialized = encodeURIComponent(JSON.stringify(data[key]));\n\t\t\t}\n\t\t\tserialized = key + \"=\" + serialized;\n\n\t\t\tif (result.length) {\n\t\t\t\tserialized = \"&\" + serialized;\n\t\t\t}\n\t\t\tresult += serialized;\n\t\t}\n\t}\n\treturn result;\n}\n","var env = require(\"../../utils/env\");\nvar serialize = require(\"./serialize\").default;\n\nfunction createConfig(method, args) {\n\tvar result = {\n\t\tmethod: method\n\t};\n\n\tif (args.length === 0) {\n\t\tthrow new Error(\"Arguments list of query is wrong.\");\n\t}\n\tif (args.length === 1) {\n\t\tif (typeof args[0] === \"string\") {\n\t\t\tresult.url = args[0];\n\t\t\tresult.async = true;\n\t\t} else {\n\t\t\tresult.url = args[0].url;\n\t\t\tresult.async = (args[0].async || true);\n\t\t\tresult.callback = args[0].callback;\n\t\t\tresult.headers = args[0].headers;\n\t\t}\n\t\tif (method === \"POST\" || \"PUT\") {\n\t\t\tif (args[0].data) {\n\t\t\t\tif (typeof args[0].data !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[0].data);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[0].data;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tresult.url = args[0];\n\tswitch(method) {\n\t\tcase \"GET\":\n\t\tcase \"DELETE\":\n\t\t\tresult.callback = args[1];\n\t\t\tresult.headers = args[2];\n\t\tbreak;\n\t\tcase \"POST\":\n\t\tcase \"PUT\":\n\t\t\tif (args[1]) {\n\t\t\t\tif (typeof args[1] !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[1]);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t\tresult.callback = args[2];\n\t\t\tresult.headers = args[3];\n\t\tbreak;\n\t}\n\treturn result;\n}\n\nmodule.exports = function(gantt) {\n\treturn {\n\n\t\t// if false - dhxr param will added to prevent caching on client side (default),\n\t\t// if true - do not add extra params\n\t\tcache: true,\n\n\t\t// default method for load/loadStruct, post/get allowed\n\t\t// get - since 4.1.1, this should fix 412 error for macos safari\n\t\tmethod: \"get\",\n\n\t\tparse: function(data) {\n\t\t\tif (typeof data !== \"string\") return data;\n\n\t\t\tvar obj;\n\t\t\tdata = data.replace(/^[\\s]+/,\"\");\n\t\t\tif (window.DOMParser && !env.isIE) { // ff,ie9\n\t\t\t\tobj = (new window.DOMParser()).parseFromString(data, \"text/xml\");\n\t\t\t} else if (window.ActiveXObject !== window.undefined) {\n\t\t\t\tobj = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tobj.async = \"false\";\n\t\t\t\tobj.loadXML(data);\n\t\t\t}\n\t\t\treturn obj;\n\t\t},\n\t\txmltop: function(tagname, xhr, obj) {\n\t\t\tif (typeof xhr.status == \"undefined\" || xhr.status < 400) {\n\t\t\t\tvar xml = (!xhr.responseXML) ? this.parse(xhr.responseText || xhr) : (xhr.responseXML || xhr);\n\t\t\t\tif (xml && xml.documentElement !== null && !xml.getElementsByTagName(\"parsererror\").length) {\n\t\t\t\t\treturn xml.getElementsByTagName(tagname)[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (obj !== -1) gantt.callEvent(\"onLoadXMLError\",[\"Incorrect XML\", arguments[1], obj]);\n\t\t\treturn document.createElement(\"DIV\");\n\t\t},\n\t\txpath: function(xpathExp, docObj) {\n\t\t\tif (!docObj.nodeName) docObj = docObj.responseXML || docObj;\n\t\t\tif (env.isIE) {\n\t\t\t\treturn docObj.selectNodes(xpathExp)||[];\n\t\t\t} else {\n\t\t\t\tvar rows = [];\n\t\t\t\tvar first;\n\t\t\t\tvar col = (docObj.ownerDocument||docObj).evaluate(xpathExp, docObj, null, XPathResult.ANY_TYPE, null);\n\n\t\t\t\twhile (true){\n\t\t\t\t\tfirst = col.iterateNext();\n\t\t\t\t\tif(first){\n\t\t\t\t\t\trows.push(first);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn rows;\n\t\t\t}\n\t\t},\n\t\tquery: function(config) {\n\t\t\treturn this._call(\n\t\t\t\t(config.method || \"GET\"),\n\t\t\t\tconfig.url,\n\t\t\t\tconfig.data || \"\",\n\t\t\t\t(config.async || true),\n\t\t\t\tconfig.callback,\n\t\t\t\tconfig.headers\n\t\t\t);\n\t\t},\n\t\tget: function(url, onLoad, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tgetSync: function(url, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\tput: function(url, postData, onLoad, headers) {\n\t\t\tvar config = createConfig(\"PUT\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tdel: function(url, onLoad, headers) {\n\t\t\t/**\n\t\t\t * https://tools.ietf.org/html/rfc7231#section-4.3.5\n\t\t\t * A payload within a DELETE request message has no defined semantics;\n\t\t\t * sending a payload body on a DELETE request might cause some existing\n\t\t\t * implementations to reject the request.\n\t\t\t */\n\t\t\tvar config = createConfig(\"DELETE\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpost: function(url, postData, onLoad, headers) {\n\t\t\tif (arguments.length == 1) {\n\t\t\t\tpostData = \"\";\n\t\t\t} else if (arguments.length == 2 && (typeof(postData) == \"function\" || typeof(window[postData]) == \"function\")) {\n\t\t\t\tonLoad = postData;\n\t\t\t\tpostData = \"\";\n\t\t\t}\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpostSync: function(url, postData, headers) {\n\t\t\tpostData = (postData === null ? \"\" : String(postData));\n\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\t_call: function(method, url, postData, async, onLoad, headers) {\n\t\t\treturn new gantt.Promise(function(resolve, reject) {\n\t\t\t\tvar t = (window.XMLHttpRequest && !env.isIE ? new XMLHttpRequest() : new window.ActiveXObject(\"Microsoft.XMLHTTP\"));\n\t\t\t\tvar isQt = (navigator.userAgent.match(/AppleWebKit/) !== null && navigator.userAgent.match(/Qt/) !== null && navigator.userAgent.match(/Safari/) !== null);\n\n\t\t\t\tif (!!async) {\n\t\t\t\t\tt.onreadystatechange = function() {\n\t\t\t\t\t\tif ((t.readyState == 4) || (isQt && t.readyState == 3)) { // what for long response and status 404?\n\t\t\t\t\t\t\tif (t.status != 200 || t.responseText === \"\")\n\t\t\t\t\t\t\t\tif (!gantt.callEvent(\"onAjaxError\", [t])) return;\n\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad.apply(window, [{xmlDoc:t, filePath:url}]); // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresolve(t);\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad = null;\n\t\t\t\t\t\t\t\t\tt = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (method == \"GET\" && !this.cache) {\n\t\t\t\t\turl += (url.indexOf(\"?\")>=0?\"&\":\"?\")+\"dhxr\"+new Date().getTime()+\"=1\";\n\t\t\t\t}\n\n\t\t\t\tt.open(method, url, async);\n\n\t\t\t\tif (headers){\n\t\t\t\t\tfor (var key in headers)\n\t\t\t\t\t\tt.setRequestHeader(key, headers[key]);\n\t\t\t\t} else if (method.toUpperCase() == \"POST\" || method == \"PUT\" || method == \"DELETE\") {\n\t\t\t\t\tt.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\t\t} else if (method == \"GET\") {\n\t\t\t\t\tpostData = null;\n\t\t\t\t}\n\n\t\t\t\tt.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\n\t\t\t\tt.send(postData);\n\n\t\t\t\tif (!async) return {xmlDoc:t, filePath:url}; // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t});\n\t\t},\n\t\turlSeparator: function(str){\n\t\t\tif (str.indexOf(\"?\") != -1)\n\t\t\t\treturn \"&\";\n\t\t\telse\n\t\t\t\treturn \"?\";\n\t\t}\n\t};\n};\n","module.exports = function() {\n\treturn {\n\t\tlayout: {\n\t\t\tcss: \"gantt_container\",\n\t\t\trows: [\n\t\t\t\t{\n\t\t\t\t\tcols: [\n\t\t\t\t\t\t{view: \"grid\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{resizer: true, width: 1},\n\t\t\t\t\t\t{view: \"timeline\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{view: \"scrollbar\", id: \"scrollVer\"}\n\t\t\t\t\t]\n\n\t\t\t\t},\n\t\t\t\t{view: \"scrollbar\", id: \"scrollHor\", height: 20}\n\t\t\t]\n\t\t},\n\t\tlinks: {\n\t\t\t\"finish_to_start\": \"0\",\n\t\t\t\"start_to_start\": \"1\",\n\t\t\t\"finish_to_finish\": \"2\",\n\t\t\t\"start_to_finish\": \"3\"\n\t\t},\n\t\ttypes: {\n\t\t\t'task': 'task',\n\t\t\t'project': 'project',\n\t\t\t'milestone': 'milestone'\n\t\t},\n\t\tauto_types: false,\n\t\tduration_unit: \"day\",\n\t\twork_time: false,\n\t\tcorrect_work_time: false,\n\t\tskip_off_time: false,\n\n\t\tcascade_delete: true,\n\n\t\tautosize: false,\n\t\tautosize_min_width: 0,\n\t\tautoscroll: true,\n\t\tautoscroll_speed: 30,\n\n\t\tshow_links: true,\n\t\tshow_task_cells: true,\n\t\t// replace backgroung of the task area with a canvas img\n\t\tstatic_background: false,\n\t\tbranch_loading: false,\n\t\tbranch_loading_property: \"$has_child\",\n\t\tshow_loading: false,\n\t\tshow_chart: true,\n\t\tshow_grid: true,\n\t\tmin_duration: 60 * 60 * 1000,\n\t\txml_date: \"%d-%m-%Y %H:%i\",\n\t\tapi_date: \"%d-%m-%Y %H:%i\",\n\t\tstart_on_monday: true,\n\t\tserver_utc: false,\n\t\tshow_progress: true,\n\t\tfit_tasks: false,\n\t\tselect_task: true,\n\t\tscroll_on_click: true,\n\t\tpreserve_scroll: true,\n\t\treadonly: false,\n\n\t\t/*grid */\n\t\tdate_grid: \"%Y-%m-%d\",\n\n\t\tdrag_links: true,\n\t\tdrag_progress: true,\n\t\tdrag_resize: true,\n\t\tdrag_project: false,\n\t\tdrag_move: true,\n\t\tdrag_mode: {\n\t\t\t\"resize\": \"resize\",\n\t\t\t\"progress\": \"progress\",\n\t\t\t\"move\": \"move\",\n\t\t\t\"ignore\": \"ignore\"\n\t\t},\n\t\tround_dnd_dates: true,\n\t\tlink_wrapper_width: 20,\n\t\troot_id: 0,\n\n\t\tautofit: false, // grid column automatic fit grid_width config\n\t\tcolumns: [\n\t\t\t{name: \"text\", tree: true, width: '*', resize: true},\n\t\t\t{name: \"start_date\", align: \"center\", resize: true},\n\t\t\t{name: \"duration\", align: \"center\"},\n\t\t\t{name: \"add\", width: 44}\n\t\t],\n\n\t\t/*scale*/\n\t\tstep: 1,\n\t\tscale_unit: \"day\",\n\t\tscale_offset_minimal: true,\n\t\tsubscales: [],\n\n\t\tinherit_scale_class: false,\n\n\t\ttime_step: 60,\n\t\tduration_step: 1,\n\t\tdate_scale: \"%d %M\",\n\t\ttask_date: \"%d %F %Y\",\n\t\ttime_picker: \"%H:%i\",\n\t\ttask_attribute: \"task_id\",\n\t\tlink_attribute: \"link_id\",\n\t\tlayer_attribute: \"data-layer\",\n\t\tbuttons_left: [\n\t\t\t\"gantt_save_btn\",\n\t\t\t\"gantt_cancel_btn\"\n\t\t],\n\t\t_migrate_buttons: {\n\t\t\t\"dhx_save_btn\": \"gantt_save_btn\",\n\t\t\t\"dhx_cancel_btn\": \"gantt_cancel_btn\",\n\t\t\t\"dhx_delete_btn\": \"gantt_delete_btn\"\n\t\t},\n\t\tbuttons_right: [\n\t\t\t\"gantt_delete_btn\"\n\t\t],\n\t\tlightbox: {\n\t\t\tsections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"time\", type: \"duration\", map_to: \"auto\"}\n\t\t\t],\n\t\t\tproject_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", readonly: true, map_to: \"auto\"}\n\t\t\t],\n\t\t\tmilestone_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", single_date: true, map_to: \"auto\"}\n\t\t\t]\n\t\t},\n\t\tdrag_lightbox: true,\n\t\tsort: false,\n\t\tdetails_on_create: true,\n\t\tdetails_on_dblclick: true,\n\t\tinitial_scroll: true,\n\t\ttask_scroll_offset: 100,\n\n\t\torder_branch: false,\n\t\torder_branch_free: false,\n\n\t\ttask_height: \"full\",//number px of 'full' for row height\n\t\tmin_column_width: 70,\n\n\t\t// min width for grid column (when resizing)\n\t\tmin_grid_column_width: 70,\n\t\t// name of the attribute with column index for resize element\n\t\tgrid_resizer_column_attribute: \"column_index\",\n\t\t// name of the attribute with column index for resize element\n\t\tgrid_resizer_attribute: \"grid_resizer\",\n\n\t\t// grid width can be increased after the column has been resized\n\t\tkeep_grid_width: false,\n\n\t\t// grid width can be adjusted\n\t\tgrid_resize: false,\n\n\t\tshow_unscheduled: true,\n\n\t\t//\n\t\treadonly_property: \"readonly\",\n\t\teditable_property: \"editable\",\n\t\tcalendar_property: \"calendar_id\",\n\t\tresource_calendars: {},\n\t\tinherit_calendar: false,\n\t\ttype_renderers: {},\n\n\t\topen_tree_initially: false,\n\t\toptimize_render: true,\n\t\tprevent_default_scroll: false,\n\t\tshow_errors: true,\n\t\twai_aria_attributes: true,\n\t\tsmart_scales: true,\n\t\trtl:false,\n\t\tplaceholder_task: false\n\t};\n};\n","module.exports = function(){\n\tvar services = {};\n\tfunction register (name, getter){\n\t\tservices[name] = getter;\n\t}\n\n\tfunction getService(name){\n\t\tif(!services[name]){\n\t\t\treturn null;\n\t\t}\n\t\treturn services[name]();\n\t}\n\n\tfunction dropService(name) {\n\t\tif (services[name]) {\n\t\t\tdelete services[name];\n\t\t}\n\t}\n\n\tvar servicesEnum = {\n\t\t\"config\": \"config\",\n\t\t\"templates\": \"templates\",\n\t\t\"locale\": \"locale\"\n\t};\n\n\treturn {\n\t\tservices: servicesEnum,\n\t\tsetService: register,\n\t\tgetService: getService,\n\t\tdropService: dropService,\n\t\tconfig: function(){\n\t\t\treturn this.getService(\"config\");\n\t\t},\n\t\ttemplates: function(){\n\t\t\treturn this.getService(\"templates\");\n\t\t},\n\t\tlocale: function(){\n\t\t\treturn this.getService(\"locale\");\n\t\t},\n\t\tdestructor: function(){\n\t\t\tfor(var i in services){\n\t\t\t\tif(services[i]){\n\t\t\t\t\tvar service = services[i];\n\t\t\t\t\tif(service && service.destructor){\n\t\t\t\t\t\tservice.destructor();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tservices = null;\n\t\t}\n\t};\n};\n","module.exports = function(gantt){\n\tgantt.$inject = function(module){\n\t\treturn module(this.$services);\n\t};\n};","module.exports = {\n\tKEY_CODES: {\n\t\tUP: 38,\n\t\tDOWN: 40,\n\t\tLEFT: 37,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tENTER: 13,\n\t\tDELETE: 46,\n\t\tESC: 27,\n\t\tTAB: 9\n\t}\n};","require(\"css/skins/terrace.less\");\n\nfunction DHXGantt(){\n\tthis.constants = require(\"./../constants\");\n\tthis.version = VERSION;\n\tthis.templates = {};\n\tthis.ext = {};\n\tthis.keys = {\n\t\tedit_save: this.constants.KEY_CODES.ENTER,\n\t\tedit_cancel: this.constants.KEY_CODES.ESC\n\t};\n}\n\nmodule.exports = function() {\n\t// use a named constructor to make gantt instance discoverable in heap snapshots\n\tvar gantt = new DHXGantt();\n\n\trequire(\"./common/import\")(gantt);\n\n\tgantt.$services = gantt.$inject(require(\"./common/services\"));\n\tgantt.config = gantt.$inject(require(\"./common/config\"));\n\tgantt.ajax =  require(\"./common/ajax\")(gantt);\n\tgantt.date = require(\"./common/date\")(gantt);\n\tvar dnd = require(\"./common/dnd\")(gantt);\n\tgantt.$services.setService(\"dnd\", function(){return dnd;});\n\n\tgantt.$services.setService(\"config\", function () {\n\t\treturn gantt.config;\n\t});\n\tgantt.$services.setService(\"date\", function () {\n\t\treturn gantt.date;\n\t});\n\tgantt.$services.setService(\"locale\", function () {\n\t\treturn gantt.locale;\n\t});\n\tgantt.$services.setService(\"templates\", function () {\n\t\treturn gantt.templates;\n\t});\n\n\tvar templatesLoader = require(\"./common/templates\")(gantt);\n\tgantt.$services.setService(\"templateLoader\", function () {\n\t\treturn templatesLoader;\n\t});\n\n\tvar eventable = require(\"../utils/eventable\");\n\teventable(gantt);\n\n\tvar StateService = require(\"./common/state\");\n\tvar stateService = new StateService();\n\n\tstateService.registerProvider(\"global\", function () {\n\t\treturn {\n\t\t\tmin_date: gantt._min_date,\n\t\t\tmax_date: gantt._max_date,\n\t\t\tselected_task: gantt.$data.tasksStore.getSelectedId()\n\t\t};\n\t});\n\tgantt.getState = stateService.getState;\n\tgantt.$services.setService(\"state\", function () {\n\t\treturn stateService;\n\t});\n\n\tvar utils = require(\"../utils/utils\");\n\tutils.mixin(gantt, utils);\n\n\tgantt.Promise = require(\"../utils/promise\");\n\tgantt.env = require(\"../utils/env\");\n\n\tvar domHelpers = require(\"../utils/dom_helpers\");\n\tgantt.utils = {\n\t\tdom: {\n\t\t\tgetNodePosition: domHelpers.getNodePosition,\n\t\t\tgetRelativeEventPosition: domHelpers.getRelativeEventPosition,\n\t\t\tisChildOf: domHelpers.isChildOf,\n\t\t\thasClass: domHelpers.hasClass,\n\t\t\tclosest: domHelpers.closest\n\t\t}\n\t};\n\n\tvar domEvents = require(\"../utils/dom_event_scope\")();\n\tgantt.event = domEvents.attach;\n\tgantt.eventRemove = domEvents.detach;\n\tgantt._eventRemoveAll = domEvents.detachAll;\n\tgantt._createDomEventScope = domEvents.extend;\n\n\tutils.mixin(gantt, require(\"./message\")(gantt));\n\tvar uiApi = require(\"./ui/index\").init(gantt);\n\tgantt.$ui = uiApi.factory;\n\tgantt.$ui.layers = uiApi.render;\n\tgantt.$mouseEvents = uiApi.mouseEvents;\n\tgantt.$services.setService(\"mouseEvents\", function () {\n\t\treturn gantt.$mouseEvents;\n\t});\n\tgantt.mixin(gantt, uiApi.layersApi);\n\n\trequire(\"./data_task_layers\")(gantt);\n\n\tgantt.$services.setService(\"layers\", function () {\n\t\treturn uiApi.layersService;\n\t});\n\n\tvar createLayoutFacade = require(\"./facades/layout\");\n\tgantt.mixin(gantt, createLayoutFacade());\n\n\trequire(\"./datastore/datastore_hooks\")(gantt);\n\n\tvar DataProcessor = require(\"./dataprocessor\");\n\tgantt.dataProcessor = DataProcessor.DEPRECATED_api;\n\tgantt.createDataProcessor = DataProcessor.createDataProcessor;\n\n\trequire(\"./plugins\")(gantt);\n\n\trequire(\"./dynamic_loading\")(gantt);\n\trequire(\"./grid_column_api\")(gantt);\n\trequire(\"./wai_aria\")(gantt);\n\trequire(\"./tasks\")(gantt);\n\trequire(\"./load\")(gantt);\n\trequire(\"./worktime/work_time\")(gantt);\n\trequire(\"./data\")(gantt);\n\trequire(\"./lightbox\")(gantt);\n\trequire(\"./lightbox_optional_time\")(gantt);\n\trequire(\"./data_task_types\")(gantt);\n\trequire(\"./cached_functions\")(gantt);\n\trequire(\"./skin\")(gantt);\n\trequire(\"../css/skins/skyblue\")(gantt);\n\trequire(\"../css/skins/meadow\")(gantt);\n\trequire(\"../css/skins/terrace\")(gantt);\n\trequire(\"../css/skins/broadway\")(gantt);\n\trequire(\"../css/skins/material\")(gantt);\n\trequire(\"../css/skins/contrast_black\")(gantt);\n\trequire(\"../css/skins/contrast_white\")(gantt);\n\trequire(\"./touch\")(gantt);\n\trequire(\"../locale\")(gantt);\n\trequire(\"./gantt_core\")(gantt);\n\trequire(\"./destructor\")(gantt);\n\n\treturn gantt;\n};","module.exports = function(gantt){\n\n\t// no deprecated methods for now\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction deprecated(badCode, goodCode, versionDeprecated, versionDeleted) {\n\n\t\tvar formatting = gantt.env.isIE ? \"\" : \"%c\";\n\t\tversionDeprecated = versionDeprecated || \"v6.0\";\n\t\tversionDeleted = versionDeleted || \"v7.0\";\n\n\t\tvar message = [\n\t\t\tformatting, \"\\\"\", badCode, \"\\\"\",  formatting,\n\t\t\t\" has been deprecated in dhtmlxGantt \", versionDeprecated, \" and will stop working in \", versionDeleted,\". Use \",\n\t\t\tformatting, \"\\\"\", goodCode, \"\\\"\",  formatting,\n\t\t\t\" instead. \\nSee more details at http://docs.dhtmlx.com/gantt/migrating.html \"\n\t\t].join(\"\");\n\n\t\tvar log = window.console.warn || window.console.log;\n\n\t\tvar args = [message];\n\t\tif(!gantt.env.isIE){\n\t\t\targs = args.concat([\"font-weight:bold\", \"font-weight:normal\", \"font-weight:bold\", \"font-weight:normal\"]);\n\t\t}\n\n\t\tlog.apply(window.console, args);\n\t}\n\n\t// gantt.getSlack is defined inside an extension, leave it without message for now\n\n};","import * as warnings from \"./core/deprecated_warnings\";\nimport * as base from \"./core/gantt\";\n\n\nconst gantt = (window as any).gantt = base();\nwarnings(gantt);\n\nexport default gantt;\n\nexport { gantt };"],"sourceRoot":""}